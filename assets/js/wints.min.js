!function(e,t){"object"==typeof module&&"object"==typeof module.exports?module.exports=e.document?t(e,!0):function(e){if(!e.document)throw new Error("jQuery requires a window with a document");return t(e)}:t(e)}("undefined"!=typeof window?window:this,function(e,t){function n(e){var t="length"in e&&e.length,n=ie.type(e);return"function"===n||ie.isWindow(e)?!1:1===e.nodeType&&t?!0:"array"===n||0===t||"number"==typeof t&&t>0&&t-1 in e}function r(e,t,n){if(ie.isFunction(t))return ie.grep(e,function(e,r){return!!t.call(e,r,e)!==n});if(t.nodeType)return ie.grep(e,function(e){return e===t!==n});if("string"==typeof t){if(fe.test(t))return ie.filter(t,e,n);t=ie.filter(t,e)}return ie.grep(e,function(e){return ie.inArray(e,t)>=0!==n})}function i(e,t){do e=e[t];while(e&&1!==e.nodeType);return e}function o(e){var t=xe[e]={};return ie.each(e.match(be)||[],function(e,n){t[n]=!0}),t}function a(){he.addEventListener?(he.removeEventListener("DOMContentLoaded",s,!1),e.removeEventListener("load",s,!1)):(he.detachEvent("onreadystatechange",s),e.detachEvent("onload",s))}function s(){(he.addEventListener||"load"===event.type||"complete"===he.readyState)&&(a(),ie.ready())}function l(e,t,n){if(void 0===n&&1===e.nodeType){var r="data-"+t.replace(Ee,"-$1").toLowerCase();if(n=e.getAttribute(r),"string"==typeof n){try{n="true"===n?!0:"false"===n?!1:"null"===n?null:+n+""===n?+n:Ne.test(n)?ie.parseJSON(n):n}catch(i){}ie.data(e,t,n)}else n=void 0}return n}function u(e){var t;for(t in e)if(("data"!==t||!ie.isEmptyObject(e[t]))&&"toJSON"!==t)return!1;return!0}function c(e,t,n,r){if(ie.acceptData(e)){var i,o,a=ie.expando,s=e.nodeType,l=s?ie.cache:e,u=s?e[a]:e[a]&&a;if(u&&l[u]&&(r||l[u].data)||void 0!==n||"string"!=typeof t)return u||(u=s?e[a]=J.pop()||ie.guid++:a),l[u]||(l[u]=s?{}:{toJSON:ie.noop}),("object"==typeof t||"function"==typeof t)&&(r?l[u]=ie.extend(l[u],t):l[u].data=ie.extend(l[u].data,t)),o=l[u],r||(o.data||(o.data={}),o=o.data),void 0!==n&&(o[ie.camelCase(t)]=n),"string"==typeof t?(i=o[t],null==i&&(i=o[ie.camelCase(t)])):i=o,i}}function d(e,t,n){if(ie.acceptData(e)){var r,i,o=e.nodeType,a=o?ie.cache:e,s=o?e[ie.expando]:ie.expando;if(a[s]){if(t&&(r=n?a[s]:a[s].data)){ie.isArray(t)?t=t.concat(ie.map(t,ie.camelCase)):t in r?t=[t]:(t=ie.camelCase(t),t=t in r?[t]:t.split(" ")),i=t.length;for(;i--;)delete r[t[i]];if(n?!u(r):!ie.isEmptyObject(r))return}(n||(delete a[s].data,u(a[s])))&&(o?ie.cleanData([e],!0):ne.deleteExpando||a!=a.window?delete a[s]:a[s]=null)}}}function f(){return!0}function p(){return!1}function h(){try{return he.activeElement}catch(e){}}function m(e){var t=Fe.split("|"),n=e.createDocumentFragment();if(n.createElement)for(;t.length;)n.createElement(t.pop());return n}function g(e,t){var n,r,i=0,o=typeof e.getElementsByTagName!==Ce?e.getElementsByTagName(t||"*"):typeof e.querySelectorAll!==Ce?e.querySelectorAll(t||"*"):void 0;if(!o)for(o=[],n=e.childNodes||e;null!=(r=n[i]);i++)!t||ie.nodeName(r,t)?o.push(r):ie.merge(o,g(r,t));return void 0===t||t&&ie.nodeName(e,t)?ie.merge([e],o):o}function v(e){je.test(e.type)&&(e.defaultChecked=e.checked)}function y(e,t){return ie.nodeName(e,"table")&&ie.nodeName(11!==t.nodeType?t:t.firstChild,"tr")?e.getElementsByTagName("tbody")[0]||e.appendChild(e.ownerDocument.createElement("tbody")):e}function b(e){return e.type=(null!==ie.find.attr(e,"type"))+"/"+e.type,e}function x(e){var t=Ve.exec(e.type);return t?e.type=t[1]:e.removeAttribute("type"),e}function w(e,t){for(var n,r=0;null!=(n=e[r]);r++)ie._data(n,"globalEval",!t||ie._data(t[r],"globalEval"))}function T(e,t){if(1===t.nodeType&&ie.hasData(e)){var n,r,i,o=ie._data(e),a=ie._data(t,o),s=o.events;if(s){delete a.handle,a.events={};for(n in s)for(r=0,i=s[n].length;i>r;r++)ie.event.add(t,n,s[n][r])}a.data&&(a.data=ie.extend({},a.data))}}function C(e,t){var n,r,i;if(1===t.nodeType){if(n=t.nodeName.toLowerCase(),!ne.noCloneEvent&&t[ie.expando]){i=ie._data(t);for(r in i.events)ie.removeEvent(t,r,i.handle);t.removeAttribute(ie.expando)}"script"===n&&t.text!==e.text?(b(t).text=e.text,x(t)):"object"===n?(t.parentNode&&(t.outerHTML=e.outerHTML),ne.html5Clone&&e.innerHTML&&!ie.trim(t.innerHTML)&&(t.innerHTML=e.innerHTML)):"input"===n&&je.test(e.type)?(t.defaultChecked=t.checked=e.checked,t.value!==e.value&&(t.value=e.value)):"option"===n?t.defaultSelected=t.selected=e.defaultSelected:("input"===n||"textarea"===n)&&(t.defaultValue=e.defaultValue)}}function N(t,n){var r,i=ie(n.createElement(t)).appendTo(n.body),o=e.getDefaultComputedStyle&&(r=e.getDefaultComputedStyle(i[0]))?r.display:ie.css(i[0],"display");return i.detach(),o}function E(e){var t=he,n=Ze[e];return n||(n=N(e,t),"none"!==n&&n||(Ke=(Ke||ie("<iframe frameborder='0' width='0' height='0'/>")).appendTo(t.documentElement),t=(Ke[0].contentWindow||Ke[0].contentDocument).document,t.write(),t.close(),n=N(e,t),Ke.detach()),Ze[e]=n),n}function k(e,t){return{get:function(){var n=e();return null!=n?n?void delete this.get:(this.get=t).apply(this,arguments):void 0}}}function S(e,t){if(t in e)return t;for(var n=t.charAt(0).toUpperCase()+t.slice(1),r=t,i=ft.length;i--;)if(t=ft[i]+n,t in e)return t;return r}function A(e,t){for(var n,r,i,o=[],a=0,s=e.length;s>a;a++)r=e[a],r.style&&(o[a]=ie._data(r,"olddisplay"),n=r.style.display,t?(o[a]||"none"!==n||(r.style.display=""),""===r.style.display&&Ae(r)&&(o[a]=ie._data(r,"olddisplay",E(r.nodeName)))):(i=Ae(r),(n&&"none"!==n||!i)&&ie._data(r,"olddisplay",i?n:ie.css(r,"display"))));for(a=0;s>a;a++)r=e[a],r.style&&(t&&"none"!==r.style.display&&""!==r.style.display||(r.style.display=t?o[a]||"":"none"));return e}function D(e,t,n){var r=lt.exec(t);return r?Math.max(0,r[1]-(n||0))+(r[2]||"px"):t}function j(e,t,n,r,i){for(var o=n===(r?"border":"content")?4:"width"===t?1:0,a=0;4>o;o+=2)"margin"===n&&(a+=ie.css(e,n+Se[o],!0,i)),r?("content"===n&&(a-=ie.css(e,"padding"+Se[o],!0,i)),"margin"!==n&&(a-=ie.css(e,"border"+Se[o]+"Width",!0,i))):(a+=ie.css(e,"padding"+Se[o],!0,i),"padding"!==n&&(a+=ie.css(e,"border"+Se[o]+"Width",!0,i)));return a}function L(e,t,n){var r=!0,i="width"===t?e.offsetWidth:e.offsetHeight,o=et(e),a=ne.boxSizing&&"border-box"===ie.css(e,"boxSizing",!1,o);if(0>=i||null==i){if(i=tt(e,t,o),(0>i||null==i)&&(i=e.style[t]),rt.test(i))return i;r=a&&(ne.boxSizingReliable()||i===e.style[t]),i=parseFloat(i)||0}return i+j(e,t,n||(a?"border":"content"),r,o)+"px"}function H(e,t,n,r,i){return new H.prototype.init(e,t,n,r,i)}function q(){return setTimeout(function(){pt=void 0}),pt=ie.now()}function _(e,t){var n,r={height:e},i=0;for(t=t?1:0;4>i;i+=2-t)n=Se[i],r["margin"+n]=r["padding"+n]=e;return t&&(r.opacity=r.width=e),r}function M(e,t,n){for(var r,i=(bt[t]||[]).concat(bt["*"]),o=0,a=i.length;a>o;o++)if(r=i[o].call(n,t,e))return r}function F(e,t,n){var r,i,o,a,s,l,u,c,d=this,f={},p=e.style,h=e.nodeType&&Ae(e),m=ie._data(e,"fxshow");n.queue||(s=ie._queueHooks(e,"fx"),null==s.unqueued&&(s.unqueued=0,l=s.empty.fire,s.empty.fire=function(){s.unqueued||l()}),s.unqueued++,d.always(function(){d.always(function(){s.unqueued--,ie.queue(e,"fx").length||s.empty.fire()})})),1===e.nodeType&&("height"in t||"width"in t)&&(n.overflow=[p.overflow,p.overflowX,p.overflowY],u=ie.css(e,"display"),c="none"===u?ie._data(e,"olddisplay")||E(e.nodeName):u,"inline"===c&&"none"===ie.css(e,"float")&&(ne.inlineBlockNeedsLayout&&"inline"!==E(e.nodeName)?p.zoom=1:p.display="inline-block")),n.overflow&&(p.overflow="hidden",ne.shrinkWrapBlocks()||d.always(function(){p.overflow=n.overflow[0],p.overflowX=n.overflow[1],p.overflowY=n.overflow[2]}));for(r in t)if(i=t[r],mt.exec(i)){if(delete t[r],o=o||"toggle"===i,i===(h?"hide":"show")){if("show"!==i||!m||void 0===m[r])continue;h=!0}f[r]=m&&m[r]||ie.style(e,r)}else u=void 0;if(ie.isEmptyObject(f))"inline"===("none"===u?E(e.nodeName):u)&&(p.display=u);else{m?"hidden"in m&&(h=m.hidden):m=ie._data(e,"fxshow",{}),o&&(m.hidden=!h),h?ie(e).show():d.done(function(){ie(e).hide()}),d.done(function(){var t;ie._removeData(e,"fxshow");for(t in f)ie.style(e,t,f[t])});for(r in f)a=M(h?m[r]:0,r,d),r in m||(m[r]=a.start,h&&(a.end=a.start,a.start="width"===r||"height"===r?1:0))}}function O(e,t){var n,r,i,o,a;for(n in e)if(r=ie.camelCase(n),i=t[r],o=e[n],ie.isArray(o)&&(i=o[1],o=e[n]=o[0]),n!==r&&(e[r]=o,delete e[n]),a=ie.cssHooks[r],a&&"expand"in a){o=a.expand(o),delete e[r];for(n in o)n in e||(e[n]=o[n],t[n]=i)}else t[r]=i}function B(e,t,n){var r,i,o=0,a=yt.length,s=ie.Deferred().always(function(){delete l.elem}),l=function(){if(i)return!1;for(var t=pt||q(),n=Math.max(0,u.startTime+u.duration-t),r=n/u.duration||0,o=1-r,a=0,l=u.tweens.length;l>a;a++)u.tweens[a].run(o);return s.notifyWith(e,[u,o,n]),1>o&&l?n:(s.resolveWith(e,[u]),!1)},u=s.promise({elem:e,props:ie.extend({},t),opts:ie.extend(!0,{specialEasing:{}},n),originalProperties:t,originalOptions:n,startTime:pt||q(),duration:n.duration,tweens:[],createTween:function(t,n){var r=ie.Tween(e,u.opts,t,n,u.opts.specialEasing[t]||u.opts.easing);return u.tweens.push(r),r},stop:function(t){var n=0,r=t?u.tweens.length:0;if(i)return this;for(i=!0;r>n;n++)u.tweens[n].run(1);return t?s.resolveWith(e,[u,t]):s.rejectWith(e,[u,t]),this}}),c=u.props;for(O(c,u.opts.specialEasing);a>o;o++)if(r=yt[o].call(u,e,c,u.opts))return r;return ie.map(c,M,u),ie.isFunction(u.opts.start)&&u.opts.start.call(e,u),ie.fx.timer(ie.extend(l,{elem:e,anim:u,queue:u.opts.queue})),u.progress(u.opts.progress).done(u.opts.done,u.opts.complete).fail(u.opts.fail).always(u.opts.always)}function P(e){return function(t,n){"string"!=typeof t&&(n=t,t="*");var r,i=0,o=t.toLowerCase().match(be)||[];if(ie.isFunction(n))for(;r=o[i++];)"+"===r.charAt(0)?(r=r.slice(1)||"*",(e[r]=e[r]||[]).unshift(n)):(e[r]=e[r]||[]).push(n)}}function R(e,t,n,r){function i(s){var l;return o[s]=!0,ie.each(e[s]||[],function(e,s){var u=s(t,n,r);return"string"!=typeof u||a||o[u]?a?!(l=u):void 0:(t.dataTypes.unshift(u),i(u),!1)}),l}var o={},a=e===zt;return i(t.dataTypes[0])||!o["*"]&&i("*")}function W(e,t){var n,r,i=ie.ajaxSettings.flatOptions||{};for(r in t)void 0!==t[r]&&((i[r]?e:n||(n={}))[r]=t[r]);return n&&ie.extend(!0,e,n),e}function $(e,t,n){for(var r,i,o,a,s=e.contents,l=e.dataTypes;"*"===l[0];)l.shift(),void 0===i&&(i=e.mimeType||t.getResponseHeader("Content-Type"));if(i)for(a in s)if(s[a]&&s[a].test(i)){l.unshift(a);break}if(l[0]in n)o=l[0];else{for(a in n){if(!l[0]||e.converters[a+" "+l[0]]){o=a;break}r||(r=a)}o=o||r}return o?(o!==l[0]&&l.unshift(o),n[o]):void 0}function z(e,t,n,r){var i,o,a,s,l,u={},c=e.dataTypes.slice();if(c[1])for(a in e.converters)u[a.toLowerCase()]=e.converters[a];for(o=c.shift();o;)if(e.responseFields[o]&&(n[e.responseFields[o]]=t),!l&&r&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),l=o,o=c.shift())if("*"===o)o=l;else if("*"!==l&&l!==o){if(a=u[l+" "+o]||u["* "+o],!a)for(i in u)if(s=i.split(" "),s[1]===o&&(a=u[l+" "+s[0]]||u["* "+s[0]])){a===!0?a=u[i]:u[i]!==!0&&(o=s[0],c.unshift(s[1]));break}if(a!==!0)if(a&&e["throws"])t=a(t);else try{t=a(t)}catch(d){return{state:"parsererror",error:a?d:"No conversion from "+l+" to "+o}}}return{state:"success",data:t}}function I(e,t,n,r){var i;if(ie.isArray(t))ie.each(t,function(t,i){n||Vt.test(e)?r(e,i):I(e+"["+("object"==typeof i?t:"")+"]",i,n,r)});else if(n||"object"!==ie.type(t))r(e,t);else for(i in t)I(e+"["+i+"]",t[i],n,r)}function X(){try{return new e.XMLHttpRequest}catch(t){}}function U(){try{return new e.ActiveXObject("Microsoft.XMLHTTP")}catch(t){}}function V(e){return ie.isWindow(e)?e:9===e.nodeType?e.defaultView||e.parentWindow:!1}var J=[],Y=J.slice,G=J.concat,Q=J.push,K=J.indexOf,Z={},ee=Z.toString,te=Z.hasOwnProperty,ne={},re="1.11.3",ie=function(e,t){return new ie.fn.init(e,t)},oe=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,ae=/^-ms-/,se=/-([\da-z])/gi,le=function(e,t){return t.toUpperCase()};ie.fn=ie.prototype={jquery:re,constructor:ie,selector:"",length:0,toArray:function(){return Y.call(this)},get:function(e){return null!=e?0>e?this[e+this.length]:this[e]:Y.call(this)},pushStack:function(e){var t=ie.merge(this.constructor(),e);return t.prevObject=this,t.context=this.context,t},each:function(e,t){return ie.each(this,e,t)},map:function(e){return this.pushStack(ie.map(this,function(t,n){return e.call(t,n,t)}))},slice:function(){return this.pushStack(Y.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(e){var t=this.length,n=+e+(0>e?t:0);return this.pushStack(n>=0&&t>n?[this[n]]:[])},end:function(){return this.prevObject||this.constructor(null)},push:Q,sort:J.sort,splice:J.splice},ie.extend=ie.fn.extend=function(){var e,t,n,r,i,o,a=arguments[0]||{},s=1,l=arguments.length,u=!1;for("boolean"==typeof a&&(u=a,a=arguments[s]||{},s++),"object"==typeof a||ie.isFunction(a)||(a={}),s===l&&(a=this,s--);l>s;s++)if(null!=(i=arguments[s]))for(r in i)e=a[r],n=i[r],a!==n&&(u&&n&&(ie.isPlainObject(n)||(t=ie.isArray(n)))?(t?(t=!1,o=e&&ie.isArray(e)?e:[]):o=e&&ie.isPlainObject(e)?e:{},a[r]=ie.extend(u,o,n)):void 0!==n&&(a[r]=n));return a},ie.extend({expando:"jQuery"+(re+Math.random()).replace(/\D/g,""),isReady:!0,error:function(e){throw new Error(e)},noop:function(){},isFunction:function(e){return"function"===ie.type(e)},isArray:Array.isArray||function(e){return"array"===ie.type(e)},isWindow:function(e){return null!=e&&e==e.window},isNumeric:function(e){return!ie.isArray(e)&&e-parseFloat(e)+1>=0},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},isPlainObject:function(e){var t;if(!e||"object"!==ie.type(e)||e.nodeType||ie.isWindow(e))return!1;try{if(e.constructor&&!te.call(e,"constructor")&&!te.call(e.constructor.prototype,"isPrototypeOf"))return!1}catch(n){return!1}if(ne.ownLast)for(t in e)return te.call(e,t);for(t in e);return void 0===t||te.call(e,t)},type:function(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?Z[ee.call(e)]||"object":typeof e},globalEval:function(t){t&&ie.trim(t)&&(e.execScript||function(t){e.eval.call(e,t)})(t)},camelCase:function(e){return e.replace(ae,"ms-").replace(se,le)},nodeName:function(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()},each:function(e,t,r){var i,o=0,a=e.length,s=n(e);if(r){if(s)for(;a>o&&(i=t.apply(e[o],r),i!==!1);o++);else for(o in e)if(i=t.apply(e[o],r),i===!1)break}else if(s)for(;a>o&&(i=t.call(e[o],o,e[o]),i!==!1);o++);else for(o in e)if(i=t.call(e[o],o,e[o]),i===!1)break;return e},trim:function(e){return null==e?"":(e+"").replace(oe,"")},makeArray:function(e,t){var r=t||[];return null!=e&&(n(Object(e))?ie.merge(r,"string"==typeof e?[e]:e):Q.call(r,e)),r},inArray:function(e,t,n){var r;if(t){if(K)return K.call(t,e,n);for(r=t.length,n=n?0>n?Math.max(0,r+n):n:0;r>n;n++)if(n in t&&t[n]===e)return n}return-1},merge:function(e,t){for(var n=+t.length,r=0,i=e.length;n>r;)e[i++]=t[r++];if(n!==n)for(;void 0!==t[r];)e[i++]=t[r++];return e.length=i,e},grep:function(e,t,n){for(var r,i=[],o=0,a=e.length,s=!n;a>o;o++)r=!t(e[o],o),r!==s&&i.push(e[o]);return i},map:function(e,t,r){var i,o=0,a=e.length,s=n(e),l=[];if(s)for(;a>o;o++)i=t(e[o],o,r),null!=i&&l.push(i);else for(o in e)i=t(e[o],o,r),null!=i&&l.push(i);return G.apply([],l)},guid:1,proxy:function(e,t){var n,r,i;return"string"==typeof t&&(i=e[t],t=e,e=i),ie.isFunction(e)?(n=Y.call(arguments,2),r=function(){return e.apply(t||this,n.concat(Y.call(arguments)))},r.guid=e.guid=e.guid||ie.guid++,r):void 0},now:function(){return+new Date},support:ne}),ie.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(e,t){Z["[object "+t+"]"]=t.toLowerCase()});var ue=function(e){function t(e,t,n,r){var i,o,a,s,l,u,d,p,h,m;if((t?t.ownerDocument||t:R)!==H&&L(t),t=t||H,n=n||[],s=t.nodeType,"string"!=typeof e||!e||1!==s&&9!==s&&11!==s)return n;if(!r&&_){if(11!==s&&(i=ye.exec(e)))if(a=i[1]){if(9===s){if(o=t.getElementById(a),!o||!o.parentNode)return n;if(o.id===a)return n.push(o),n}else if(t.ownerDocument&&(o=t.ownerDocument.getElementById(a))&&B(t,o)&&o.id===a)return n.push(o),n}else{if(i[2])return K.apply(n,t.getElementsByTagName(e)),n;if((a=i[3])&&w.getElementsByClassName)return K.apply(n,t.getElementsByClassName(a)),n}if(w.qsa&&(!M||!M.test(e))){if(p=d=P,h=t,m=1!==s&&e,1===s&&"object"!==t.nodeName.toLowerCase()){for(u=E(e),(d=t.getAttribute("id"))?p=d.replace(xe,"\\$&"):t.setAttribute("id",p),p="[id='"+p+"'] ",l=u.length;l--;)u[l]=p+f(u[l]);h=be.test(e)&&c(t.parentNode)||t,m=u.join(",")}if(m)try{return K.apply(n,h.querySelectorAll(m)),n}catch(g){}finally{d||t.removeAttribute("id")}}}return S(e.replace(le,"$1"),t,n,r)}function n(){function e(n,r){return t.push(n+" ")>T.cacheLength&&delete e[t.shift()],e[n+" "]=r}var t=[];return e}function r(e){return e[P]=!0,e}function i(e){var t=H.createElement("div");try{return!!e(t)}catch(n){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function o(e,t){for(var n=e.split("|"),r=e.length;r--;)T.attrHandle[n[r]]=t}function a(e,t){var n=t&&e,r=n&&1===e.nodeType&&1===t.nodeType&&(~t.sourceIndex||V)-(~e.sourceIndex||V);if(r)return r;if(n)for(;n=n.nextSibling;)if(n===t)return-1;return e?1:-1}function s(e){return function(t){var n=t.nodeName.toLowerCase();return"input"===n&&t.type===e}}function l(e){return function(t){var n=t.nodeName.toLowerCase();return("input"===n||"button"===n)&&t.type===e}}function u(e){return r(function(t){return t=+t,r(function(n,r){for(var i,o=e([],n.length,t),a=o.length;a--;)n[i=o[a]]&&(n[i]=!(r[i]=n[i]))})})}function c(e){return e&&"undefined"!=typeof e.getElementsByTagName&&e}function d(){}function f(e){for(var t=0,n=e.length,r="";n>t;t++)r+=e[t].value;return r}function p(e,t,n){var r=t.dir,i=n&&"parentNode"===r,o=$++;return t.first?function(t,n,o){for(;t=t[r];)if(1===t.nodeType||i)return e(t,n,o)}:function(t,n,a){var s,l,u=[W,o];if(a){for(;t=t[r];)if((1===t.nodeType||i)&&e(t,n,a))return!0}else for(;t=t[r];)if(1===t.nodeType||i){if(l=t[P]||(t[P]={}),(s=l[r])&&s[0]===W&&s[1]===o)return u[2]=s[2];if(l[r]=u,u[2]=e(t,n,a))return!0}}}function h(e){return e.length>1?function(t,n,r){for(var i=e.length;i--;)if(!e[i](t,n,r))return!1;return!0}:e[0]}function m(e,n,r){for(var i=0,o=n.length;o>i;i++)t(e,n[i],r);return r}function g(e,t,n,r,i){for(var o,a=[],s=0,l=e.length,u=null!=t;l>s;s++)(o=e[s])&&(!n||n(o,r,i))&&(a.push(o),u&&t.push(s));return a}function v(e,t,n,i,o,a){return i&&!i[P]&&(i=v(i)),o&&!o[P]&&(o=v(o,a)),r(function(r,a,s,l){var u,c,d,f=[],p=[],h=a.length,v=r||m(t||"*",s.nodeType?[s]:s,[]),y=!e||!r&&t?v:g(v,f,e,s,l),b=n?o||(r?e:h||i)?[]:a:y;if(n&&n(y,b,s,l),i)for(u=g(b,p),i(u,[],s,l),c=u.length;c--;)(d=u[c])&&(b[p[c]]=!(y[p[c]]=d));if(r){if(o||e){if(o){for(u=[],c=b.length;c--;)(d=b[c])&&u.push(y[c]=d);o(null,b=[],u,l)}for(c=b.length;c--;)(d=b[c])&&(u=o?ee(r,d):f[c])>-1&&(r[u]=!(a[u]=d))}}else b=g(b===a?b.splice(h,b.length):b),o?o(null,a,b,l):K.apply(a,b)})}function y(e){for(var t,n,r,i=e.length,o=T.relative[e[0].type],a=o||T.relative[" "],s=o?1:0,l=p(function(e){return e===t},a,!0),u=p(function(e){return ee(t,e)>-1},a,!0),c=[function(e,n,r){var i=!o&&(r||n!==A)||((t=n).nodeType?l(e,n,r):u(e,n,r));return t=null,i}];i>s;s++)if(n=T.relative[e[s].type])c=[p(h(c),n)];else{if(n=T.filter[e[s].type].apply(null,e[s].matches),n[P]){for(r=++s;i>r&&!T.relative[e[r].type];r++);return v(s>1&&h(c),s>1&&f(e.slice(0,s-1).concat({value:" "===e[s-2].type?"*":""})).replace(le,"$1"),n,r>s&&y(e.slice(s,r)),i>r&&y(e=e.slice(r)),i>r&&f(e))}c.push(n)}return h(c)}function b(e,n){var i=n.length>0,o=e.length>0,a=function(r,a,s,l,u){var c,d,f,p=0,h="0",m=r&&[],v=[],y=A,b=r||o&&T.find.TAG("*",u),x=W+=null==y?1:Math.random()||.1,w=b.length;for(u&&(A=a!==H&&a);h!==w&&null!=(c=b[h]);h++){if(o&&c){for(d=0;f=e[d++];)if(f(c,a,s)){l.push(c);break}u&&(W=x)}i&&((c=!f&&c)&&p--,r&&m.push(c))}if(p+=h,i&&h!==p){for(d=0;f=n[d++];)f(m,v,a,s);if(r){if(p>0)for(;h--;)m[h]||v[h]||(v[h]=G.call(l));v=g(v)}K.apply(l,v),u&&!r&&v.length>0&&p+n.length>1&&t.uniqueSort(l)}return u&&(W=x,A=y),m};return i?r(a):a}var x,w,T,C,N,E,k,S,A,D,j,L,H,q,_,M,F,O,B,P="sizzle"+1*new Date,R=e.document,W=0,$=0,z=n(),I=n(),X=n(),U=function(e,t){return e===t&&(j=!0),0},V=1<<31,J={}.hasOwnProperty,Y=[],G=Y.pop,Q=Y.push,K=Y.push,Z=Y.slice,ee=function(e,t){for(var n=0,r=e.length;r>n;n++)if(e[n]===t)return n;return-1},te="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",ne="[\\x20\\t\\r\\n\\f]",re="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",ie=re.replace("w","w#"),oe="\\["+ne+"*("+re+")(?:"+ne+"*([*^$|!~]?=)"+ne+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+ie+"))|)"+ne+"*\\]",ae=":("+re+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+oe+")*)|.*)\\)|)",se=new RegExp(ne+"+","g"),le=new RegExp("^"+ne+"+|((?:^|[^\\\\])(?:\\\\.)*)"+ne+"+$","g"),ue=new RegExp("^"+ne+"*,"+ne+"*"),ce=new RegExp("^"+ne+"*([>+~]|"+ne+")"+ne+"*"),de=new RegExp("="+ne+"*([^\\]'\"]*?)"+ne+"*\\]","g"),fe=new RegExp(ae),pe=new RegExp("^"+ie+"$"),he={ID:new RegExp("^#("+re+")"),CLASS:new RegExp("^\\.("+re+")"),TAG:new RegExp("^("+re.replace("w","w*")+")"),ATTR:new RegExp("^"+oe),PSEUDO:new RegExp("^"+ae),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+ne+"*(even|odd|(([+-]|)(\\d*)n|)"+ne+"*(?:([+-]|)"+ne+"*(\\d+)|))"+ne+"*\\)|)","i"),bool:new RegExp("^(?:"+te+")$","i"),needsContext:new RegExp("^"+ne+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+ne+"*((?:-\\d)?\\d*)"+ne+"*\\)|)(?=[^-]|$)","i")},me=/^(?:input|select|textarea|button)$/i,ge=/^h\d$/i,ve=/^[^{]+\{\s*\[native \w/,ye=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,be=/[+~]/,xe=/'|\\/g,we=new RegExp("\\\\([\\da-f]{1,6}"+ne+"?|("+ne+")|.)","ig"),Te=function(e,t,n){var r="0x"+t-65536;return r!==r||n?t:0>r?String.fromCharCode(r+65536):String.fromCharCode(r>>10|55296,1023&r|56320)},Ce=function(){L()};try{K.apply(Y=Z.call(R.childNodes),R.childNodes),Y[R.childNodes.length].nodeType}catch(Ne){K={apply:Y.length?function(e,t){Q.apply(e,Z.call(t))}:function(e,t){for(var n=e.length,r=0;e[n++]=t[r++];);e.length=n-1}}}w=t.support={},N=t.isXML=function(e){var t=e&&(e.ownerDocument||e).documentElement;return t?"HTML"!==t.nodeName:!1},L=t.setDocument=function(e){var t,n,r=e?e.ownerDocument||e:R;return r!==H&&9===r.nodeType&&r.documentElement?(H=r,q=r.documentElement,n=r.defaultView,n&&n!==n.top&&(n.addEventListener?n.addEventListener("unload",Ce,!1):n.attachEvent&&n.attachEvent("onunload",Ce)),_=!N(r),w.attributes=i(function(e){return e.className="i",!e.getAttribute("className")}),w.getElementsByTagName=i(function(e){return e.appendChild(r.createComment("")),!e.getElementsByTagName("*").length}),w.getElementsByClassName=ve.test(r.getElementsByClassName),w.getById=i(function(e){return q.appendChild(e).id=P,!r.getElementsByName||!r.getElementsByName(P).length}),w.getById?(T.find.ID=function(e,t){if("undefined"!=typeof t.getElementById&&_){var n=t.getElementById(e);return n&&n.parentNode?[n]:[]}},T.filter.ID=function(e){var t=e.replace(we,Te);return function(e){return e.getAttribute("id")===t}}):(delete T.find.ID,T.filter.ID=function(e){var t=e.replace(we,Te);return function(e){var n="undefined"!=typeof e.getAttributeNode&&e.getAttributeNode("id");return n&&n.value===t}}),T.find.TAG=w.getElementsByTagName?function(e,t){return"undefined"!=typeof t.getElementsByTagName?t.getElementsByTagName(e):w.qsa?t.querySelectorAll(e):void 0}:function(e,t){var n,r=[],i=0,o=t.getElementsByTagName(e);if("*"===e){for(;n=o[i++];)1===n.nodeType&&r.push(n);return r}return o},T.find.CLASS=w.getElementsByClassName&&function(e,t){return _?t.getElementsByClassName(e):void 0},F=[],M=[],(w.qsa=ve.test(r.querySelectorAll))&&(i(function(e){q.appendChild(e).innerHTML="<a id='"+P+"'></a><select id='"+P+"-\f]' msallowcapture=''><option selected=''></option></select>",e.querySelectorAll("[msallowcapture^='']").length&&M.push("[*^$]="+ne+"*(?:''|\"\")"),e.querySelectorAll("[selected]").length||M.push("\\["+ne+"*(?:value|"+te+")"),e.querySelectorAll("[id~="+P+"-]").length||M.push("~="),e.querySelectorAll(":checked").length||M.push(":checked"),e.querySelectorAll("a#"+P+"+*").length||M.push(".#.+[+~]")}),i(function(e){var t=r.createElement("input");t.setAttribute("type","hidden"),e.appendChild(t).setAttribute("name","D"),e.querySelectorAll("[name=d]").length&&M.push("name"+ne+"*[*^$|!~]?="),e.querySelectorAll(":enabled").length||M.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),M.push(",.*:")})),(w.matchesSelector=ve.test(O=q.matches||q.webkitMatchesSelector||q.mozMatchesSelector||q.oMatchesSelector||q.msMatchesSelector))&&i(function(e){w.disconnectedMatch=O.call(e,"div"),O.call(e,"[s!='']:x"),F.push("!=",ae)}),M=M.length&&new RegExp(M.join("|")),F=F.length&&new RegExp(F.join("|")),t=ve.test(q.compareDocumentPosition),B=t||ve.test(q.contains)?function(e,t){var n=9===e.nodeType?e.documentElement:e,r=t&&t.parentNode;return e===r||!(!r||1!==r.nodeType||!(n.contains?n.contains(r):e.compareDocumentPosition&&16&e.compareDocumentPosition(r)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1},U=t?function(e,t){if(e===t)return j=!0,0;var n=!e.compareDocumentPosition-!t.compareDocumentPosition;return n?n:(n=(e.ownerDocument||e)===(t.ownerDocument||t)?e.compareDocumentPosition(t):1,1&n||!w.sortDetached&&t.compareDocumentPosition(e)===n?e===r||e.ownerDocument===R&&B(R,e)?-1:t===r||t.ownerDocument===R&&B(R,t)?1:D?ee(D,e)-ee(D,t):0:4&n?-1:1)}:function(e,t){if(e===t)return j=!0,0;var n,i=0,o=e.parentNode,s=t.parentNode,l=[e],u=[t];if(!o||!s)return e===r?-1:t===r?1:o?-1:s?1:D?ee(D,e)-ee(D,t):0;if(o===s)return a(e,t);for(n=e;n=n.parentNode;)l.unshift(n);for(n=t;n=n.parentNode;)u.unshift(n);for(;l[i]===u[i];)i++;return i?a(l[i],u[i]):l[i]===R?-1:u[i]===R?1:0},r):H},t.matches=function(e,n){return t(e,null,null,n)},t.matchesSelector=function(e,n){if((e.ownerDocument||e)!==H&&L(e),n=n.replace(de,"='$1']"),!(!w.matchesSelector||!_||F&&F.test(n)||M&&M.test(n)))try{var r=O.call(e,n);if(r||w.disconnectedMatch||e.document&&11!==e.document.nodeType)return r}catch(i){}return t(n,H,null,[e]).length>0},t.contains=function(e,t){return(e.ownerDocument||e)!==H&&L(e),B(e,t)},t.attr=function(e,t){(e.ownerDocument||e)!==H&&L(e);var n=T.attrHandle[t.toLowerCase()],r=n&&J.call(T.attrHandle,t.toLowerCase())?n(e,t,!_):void 0;return void 0!==r?r:w.attributes||!_?e.getAttribute(t):(r=e.getAttributeNode(t))&&r.specified?r.value:null},t.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},t.uniqueSort=function(e){var t,n=[],r=0,i=0;if(j=!w.detectDuplicates,D=!w.sortStable&&e.slice(0),e.sort(U),j){for(;t=e[i++];)t===e[i]&&(r=n.push(i));for(;r--;)e.splice(n[r],1)}return D=null,e},C=t.getText=function(e){var t,n="",r=0,i=e.nodeType;if(i){if(1===i||9===i||11===i){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=C(e)}else if(3===i||4===i)return e.nodeValue}else for(;t=e[r++];)n+=C(t);return n},T=t.selectors={cacheLength:50,createPseudo:r,match:he,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(we,Te),e[3]=(e[3]||e[4]||e[5]||"").replace(we,Te),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||t.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&t.error(e[0]),e},PSEUDO:function(e){var t,n=!e[6]&&e[2];return he.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":n&&fe.test(n)&&(t=E(n,!0))&&(t=n.indexOf(")",n.length-t)-n.length)&&(e[0]=e[0].slice(0,t),e[2]=n.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(we,Te).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=z[e+" "];return t||(t=new RegExp("(^|"+ne+")"+e+"("+ne+"|$)"))&&z(e,function(e){return t.test("string"==typeof e.className&&e.className||"undefined"!=typeof e.getAttribute&&e.getAttribute("class")||"")})},ATTR:function(e,n,r){return function(i){var o=t.attr(i,e);return null==o?"!="===n:n?(o+="","="===n?o===r:"!="===n?o!==r:"^="===n?r&&0===o.indexOf(r):"*="===n?r&&o.indexOf(r)>-1:"$="===n?r&&o.slice(-r.length)===r:"~="===n?(" "+o.replace(se," ")+" ").indexOf(r)>-1:"|="===n?o===r||o.slice(0,r.length+1)===r+"-":!1):!0}},CHILD:function(e,t,n,r,i){var o="nth"!==e.slice(0,3),a="last"!==e.slice(-4),s="of-type"===t;return 1===r&&0===i?function(e){return!!e.parentNode}:function(t,n,l){var u,c,d,f,p,h,m=o!==a?"nextSibling":"previousSibling",g=t.parentNode,v=s&&t.nodeName.toLowerCase(),y=!l&&!s;if(g){if(o){for(;m;){for(d=t;d=d[m];)if(s?d.nodeName.toLowerCase()===v:1===d.nodeType)return!1;h=m="only"===e&&!h&&"nextSibling"}return!0}if(h=[a?g.firstChild:g.lastChild],a&&y){for(c=g[P]||(g[P]={}),u=c[e]||[],p=u[0]===W&&u[1],f=u[0]===W&&u[2],d=p&&g.childNodes[p];d=++p&&d&&d[m]||(f=p=0)||h.pop();)if(1===d.nodeType&&++f&&d===t){c[e]=[W,p,f];break}}else if(y&&(u=(t[P]||(t[P]={}))[e])&&u[0]===W)f=u[1];else for(;(d=++p&&d&&d[m]||(f=p=0)||h.pop())&&((s?d.nodeName.toLowerCase()!==v:1!==d.nodeType)||!++f||(y&&((d[P]||(d[P]={}))[e]=[W,f]),d!==t)););return f-=i,f===r||f%r===0&&f/r>=0}}},PSEUDO:function(e,n){var i,o=T.pseudos[e]||T.setFilters[e.toLowerCase()]||t.error("unsupported pseudo: "+e);return o[P]?o(n):o.length>1?(i=[e,e,"",n],T.setFilters.hasOwnProperty(e.toLowerCase())?r(function(e,t){for(var r,i=o(e,n),a=i.length;a--;)r=ee(e,i[a]),e[r]=!(t[r]=i[a])}):function(e){return o(e,0,i)}):o}},pseudos:{not:r(function(e){var t=[],n=[],i=k(e.replace(le,"$1"));return i[P]?r(function(e,t,n,r){for(var o,a=i(e,null,r,[]),s=e.length;s--;)(o=a[s])&&(e[s]=!(t[s]=o))}):function(e,r,o){return t[0]=e,i(t,null,o,n),t[0]=null,!n.pop()}}),has:r(function(e){return function(n){return t(e,n).length>0}}),contains:r(function(e){return e=e.replace(we,Te),function(t){return(t.textContent||t.innerText||C(t)).indexOf(e)>-1}}),lang:r(function(e){return pe.test(e||"")||t.error("unsupported lang: "+e),e=e.replace(we,Te).toLowerCase(),function(t){var n;do if(n=_?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return n=n.toLowerCase(),n===e||0===n.indexOf(e+"-");while((t=t.parentNode)&&1===t.nodeType);return!1}}),target:function(t){var n=e.location&&e.location.hash;return n&&n.slice(1)===t.id},root:function(e){return e===q},focus:function(e){return e===H.activeElement&&(!H.hasFocus||H.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:function(e){return e.disabled===!1},disabled:function(e){return e.disabled===!0},checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,e.selected===!0},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!T.pseudos.empty(e)},header:function(e){return ge.test(e.nodeName)},input:function(e){return me.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||"text"===t.toLowerCase())},first:u(function(){return[0]}),last:u(function(e,t){return[t-1]}),eq:u(function(e,t,n){return[0>n?n+t:n]}),even:u(function(e,t){for(var n=0;t>n;n+=2)e.push(n);return e}),odd:u(function(e,t){for(var n=1;t>n;n+=2)e.push(n);return e}),lt:u(function(e,t,n){for(var r=0>n?n+t:n;--r>=0;)e.push(r);return e}),gt:u(function(e,t,n){for(var r=0>n?n+t:n;++r<t;)e.push(r);return e})}},T.pseudos.nth=T.pseudos.eq;for(x in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})T.pseudos[x]=s(x);for(x in{submit:!0,reset:!0})T.pseudos[x]=l(x);return d.prototype=T.filters=T.pseudos,T.setFilters=new d,E=t.tokenize=function(e,n){var r,i,o,a,s,l,u,c=I[e+" "];if(c)return n?0:c.slice(0);for(s=e,l=[],u=T.preFilter;s;){(!r||(i=ue.exec(s)))&&(i&&(s=s.slice(i[0].length)||s),l.push(o=[])),r=!1,(i=ce.exec(s))&&(r=i.shift(),o.push({value:r,type:i[0].replace(le," ")}),s=s.slice(r.length));for(a in T.filter)!(i=he[a].exec(s))||u[a]&&!(i=u[a](i))||(r=i.shift(),
o.push({value:r,type:a,matches:i}),s=s.slice(r.length));if(!r)break}return n?s.length:s?t.error(e):I(e,l).slice(0)},k=t.compile=function(e,t){var n,r=[],i=[],o=X[e+" "];if(!o){for(t||(t=E(e)),n=t.length;n--;)o=y(t[n]),o[P]?r.push(o):i.push(o);o=X(e,b(i,r)),o.selector=e}return o},S=t.select=function(e,t,n,r){var i,o,a,s,l,u="function"==typeof e&&e,d=!r&&E(e=u.selector||e);if(n=n||[],1===d.length){if(o=d[0]=d[0].slice(0),o.length>2&&"ID"===(a=o[0]).type&&w.getById&&9===t.nodeType&&_&&T.relative[o[1].type]){if(t=(T.find.ID(a.matches[0].replace(we,Te),t)||[])[0],!t)return n;u&&(t=t.parentNode),e=e.slice(o.shift().value.length)}for(i=he.needsContext.test(e)?0:o.length;i--&&(a=o[i],!T.relative[s=a.type]);)if((l=T.find[s])&&(r=l(a.matches[0].replace(we,Te),be.test(o[0].type)&&c(t.parentNode)||t))){if(o.splice(i,1),e=r.length&&f(o),!e)return K.apply(n,r),n;break}}return(u||k(e,d))(r,t,!_,n,be.test(e)&&c(t.parentNode)||t),n},w.sortStable=P.split("").sort(U).join("")===P,w.detectDuplicates=!!j,L(),w.sortDetached=i(function(e){return 1&e.compareDocumentPosition(H.createElement("div"))}),i(function(e){return e.innerHTML="<a href='#'></a>","#"===e.firstChild.getAttribute("href")})||o("type|href|height|width",function(e,t,n){return n?void 0:e.getAttribute(t,"type"===t.toLowerCase()?1:2)}),w.attributes&&i(function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),""===e.firstChild.getAttribute("value")})||o("value",function(e,t,n){return n||"input"!==e.nodeName.toLowerCase()?void 0:e.defaultValue}),i(function(e){return null==e.getAttribute("disabled")})||o(te,function(e,t,n){var r;return n?void 0:e[t]===!0?t.toLowerCase():(r=e.getAttributeNode(t))&&r.specified?r.value:null}),t}(e);ie.find=ue,ie.expr=ue.selectors,ie.expr[":"]=ie.expr.pseudos,ie.unique=ue.uniqueSort,ie.text=ue.getText,ie.isXMLDoc=ue.isXML,ie.contains=ue.contains;var ce=ie.expr.match.needsContext,de=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,fe=/^.[^:#\[\.,]*$/;ie.filter=function(e,t,n){var r=t[0];return n&&(e=":not("+e+")"),1===t.length&&1===r.nodeType?ie.find.matchesSelector(r,e)?[r]:[]:ie.find.matches(e,ie.grep(t,function(e){return 1===e.nodeType}))},ie.fn.extend({find:function(e){var t,n=[],r=this,i=r.length;if("string"!=typeof e)return this.pushStack(ie(e).filter(function(){for(t=0;i>t;t++)if(ie.contains(r[t],this))return!0}));for(t=0;i>t;t++)ie.find(e,r[t],n);return n=this.pushStack(i>1?ie.unique(n):n),n.selector=this.selector?this.selector+" "+e:e,n},filter:function(e){return this.pushStack(r(this,e||[],!1))},not:function(e){return this.pushStack(r(this,e||[],!0))},is:function(e){return!!r(this,"string"==typeof e&&ce.test(e)?ie(e):e||[],!1).length}});var pe,he=e.document,me=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/,ge=ie.fn.init=function(e,t){var n,r;if(!e)return this;if("string"==typeof e){if(n="<"===e.charAt(0)&&">"===e.charAt(e.length-1)&&e.length>=3?[null,e,null]:me.exec(e),!n||!n[1]&&t)return!t||t.jquery?(t||pe).find(e):this.constructor(t).find(e);if(n[1]){if(t=t instanceof ie?t[0]:t,ie.merge(this,ie.parseHTML(n[1],t&&t.nodeType?t.ownerDocument||t:he,!0)),de.test(n[1])&&ie.isPlainObject(t))for(n in t)ie.isFunction(this[n])?this[n](t[n]):this.attr(n,t[n]);return this}if(r=he.getElementById(n[2]),r&&r.parentNode){if(r.id!==n[2])return pe.find(e);this.length=1,this[0]=r}return this.context=he,this.selector=e,this}return e.nodeType?(this.context=this[0]=e,this.length=1,this):ie.isFunction(e)?"undefined"!=typeof pe.ready?pe.ready(e):e(ie):(void 0!==e.selector&&(this.selector=e.selector,this.context=e.context),ie.makeArray(e,this))};ge.prototype=ie.fn,pe=ie(he);var ve=/^(?:parents|prev(?:Until|All))/,ye={children:!0,contents:!0,next:!0,prev:!0};ie.extend({dir:function(e,t,n){for(var r=[],i=e[t];i&&9!==i.nodeType&&(void 0===n||1!==i.nodeType||!ie(i).is(n));)1===i.nodeType&&r.push(i),i=i[t];return r},sibling:function(e,t){for(var n=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&n.push(e);return n}}),ie.fn.extend({has:function(e){var t,n=ie(e,this),r=n.length;return this.filter(function(){for(t=0;r>t;t++)if(ie.contains(this,n[t]))return!0})},closest:function(e,t){for(var n,r=0,i=this.length,o=[],a=ce.test(e)||"string"!=typeof e?ie(e,t||this.context):0;i>r;r++)for(n=this[r];n&&n!==t;n=n.parentNode)if(n.nodeType<11&&(a?a.index(n)>-1:1===n.nodeType&&ie.find.matchesSelector(n,e))){o.push(n);break}return this.pushStack(o.length>1?ie.unique(o):o)},index:function(e){return e?"string"==typeof e?ie.inArray(this[0],ie(e)):ie.inArray(e.jquery?e[0]:e,this):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){return this.pushStack(ie.unique(ie.merge(this.get(),ie(e,t))))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),ie.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return ie.dir(e,"parentNode")},parentsUntil:function(e,t,n){return ie.dir(e,"parentNode",n)},next:function(e){return i(e,"nextSibling")},prev:function(e){return i(e,"previousSibling")},nextAll:function(e){return ie.dir(e,"nextSibling")},prevAll:function(e){return ie.dir(e,"previousSibling")},nextUntil:function(e,t,n){return ie.dir(e,"nextSibling",n)},prevUntil:function(e,t,n){return ie.dir(e,"previousSibling",n)},siblings:function(e){return ie.sibling((e.parentNode||{}).firstChild,e)},children:function(e){return ie.sibling(e.firstChild)},contents:function(e){return ie.nodeName(e,"iframe")?e.contentDocument||e.contentWindow.document:ie.merge([],e.childNodes)}},function(e,t){ie.fn[e]=function(n,r){var i=ie.map(this,t,n);return"Until"!==e.slice(-5)&&(r=n),r&&"string"==typeof r&&(i=ie.filter(r,i)),this.length>1&&(ye[e]||(i=ie.unique(i)),ve.test(e)&&(i=i.reverse())),this.pushStack(i)}});var be=/\S+/g,xe={};ie.Callbacks=function(e){e="string"==typeof e?xe[e]||o(e):ie.extend({},e);var t,n,r,i,a,s,l=[],u=!e.once&&[],c=function(o){for(n=e.memory&&o,r=!0,a=s||0,s=0,i=l.length,t=!0;l&&i>a;a++)if(l[a].apply(o[0],o[1])===!1&&e.stopOnFalse){n=!1;break}t=!1,l&&(u?u.length&&c(u.shift()):n?l=[]:d.disable())},d={add:function(){if(l){var r=l.length;!function o(t){ie.each(t,function(t,n){var r=ie.type(n);"function"===r?e.unique&&d.has(n)||l.push(n):n&&n.length&&"string"!==r&&o(n)})}(arguments),t?i=l.length:n&&(s=r,c(n))}return this},remove:function(){return l&&ie.each(arguments,function(e,n){for(var r;(r=ie.inArray(n,l,r))>-1;)l.splice(r,1),t&&(i>=r&&i--,a>=r&&a--)}),this},has:function(e){return e?ie.inArray(e,l)>-1:!(!l||!l.length)},empty:function(){return l=[],i=0,this},disable:function(){return l=u=n=void 0,this},disabled:function(){return!l},lock:function(){return u=void 0,n||d.disable(),this},locked:function(){return!u},fireWith:function(e,n){return!l||r&&!u||(n=n||[],n=[e,n.slice?n.slice():n],t?u.push(n):c(n)),this},fire:function(){return d.fireWith(this,arguments),this},fired:function(){return!!r}};return d},ie.extend({Deferred:function(e){var t=[["resolve","done",ie.Callbacks("once memory"),"resolved"],["reject","fail",ie.Callbacks("once memory"),"rejected"],["notify","progress",ie.Callbacks("memory")]],n="pending",r={state:function(){return n},always:function(){return i.done(arguments).fail(arguments),this},then:function(){var e=arguments;return ie.Deferred(function(n){ie.each(t,function(t,o){var a=ie.isFunction(e[t])&&e[t];i[o[1]](function(){var e=a&&a.apply(this,arguments);e&&ie.isFunction(e.promise)?e.promise().done(n.resolve).fail(n.reject).progress(n.notify):n[o[0]+"With"](this===r?n.promise():this,a?[e]:arguments)})}),e=null}).promise()},promise:function(e){return null!=e?ie.extend(e,r):r}},i={};return r.pipe=r.then,ie.each(t,function(e,o){var a=o[2],s=o[3];r[o[1]]=a.add,s&&a.add(function(){n=s},t[1^e][2].disable,t[2][2].lock),i[o[0]]=function(){return i[o[0]+"With"](this===i?r:this,arguments),this},i[o[0]+"With"]=a.fireWith}),r.promise(i),e&&e.call(i,i),i},when:function(e){var t,n,r,i=0,o=Y.call(arguments),a=o.length,s=1!==a||e&&ie.isFunction(e.promise)?a:0,l=1===s?e:ie.Deferred(),u=function(e,n,r){return function(i){n[e]=this,r[e]=arguments.length>1?Y.call(arguments):i,r===t?l.notifyWith(n,r):--s||l.resolveWith(n,r)}};if(a>1)for(t=new Array(a),n=new Array(a),r=new Array(a);a>i;i++)o[i]&&ie.isFunction(o[i].promise)?o[i].promise().done(u(i,r,o)).fail(l.reject).progress(u(i,n,t)):--s;return s||l.resolveWith(r,o),l.promise()}});var we;ie.fn.ready=function(e){return ie.ready.promise().done(e),this},ie.extend({isReady:!1,readyWait:1,holdReady:function(e){e?ie.readyWait++:ie.ready(!0)},ready:function(e){if(e===!0?!--ie.readyWait:!ie.isReady){if(!he.body)return setTimeout(ie.ready);ie.isReady=!0,e!==!0&&--ie.readyWait>0||(we.resolveWith(he,[ie]),ie.fn.triggerHandler&&(ie(he).triggerHandler("ready"),ie(he).off("ready")))}}}),ie.ready.promise=function(t){if(!we)if(we=ie.Deferred(),"complete"===he.readyState)setTimeout(ie.ready);else if(he.addEventListener)he.addEventListener("DOMContentLoaded",s,!1),e.addEventListener("load",s,!1);else{he.attachEvent("onreadystatechange",s),e.attachEvent("onload",s);var n=!1;try{n=null==e.frameElement&&he.documentElement}catch(r){}n&&n.doScroll&&!function i(){if(!ie.isReady){try{n.doScroll("left")}catch(e){return setTimeout(i,50)}a(),ie.ready()}}()}return we.promise(t)};var Te,Ce="undefined";for(Te in ie(ne))break;ne.ownLast="0"!==Te,ne.inlineBlockNeedsLayout=!1,ie(function(){var e,t,n,r;n=he.getElementsByTagName("body")[0],n&&n.style&&(t=he.createElement("div"),r=he.createElement("div"),r.style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px",n.appendChild(r).appendChild(t),typeof t.style.zoom!==Ce&&(t.style.cssText="display:inline;margin:0;border:0;padding:1px;width:1px;zoom:1",ne.inlineBlockNeedsLayout=e=3===t.offsetWidth,e&&(n.style.zoom=1)),n.removeChild(r))}),function(){var e=he.createElement("div");if(null==ne.deleteExpando){ne.deleteExpando=!0;try{delete e.test}catch(t){ne.deleteExpando=!1}}e=null}(),ie.acceptData=function(e){var t=ie.noData[(e.nodeName+" ").toLowerCase()],n=+e.nodeType||1;return 1!==n&&9!==n?!1:!t||t!==!0&&e.getAttribute("classid")===t};var Ne=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,Ee=/([A-Z])/g;ie.extend({cache:{},noData:{"applet ":!0,"embed ":!0,"object ":"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"},hasData:function(e){return e=e.nodeType?ie.cache[e[ie.expando]]:e[ie.expando],!!e&&!u(e)},data:function(e,t,n){return c(e,t,n)},removeData:function(e,t){return d(e,t)},_data:function(e,t,n){return c(e,t,n,!0)},_removeData:function(e,t){return d(e,t,!0)}}),ie.fn.extend({data:function(e,t){var n,r,i,o=this[0],a=o&&o.attributes;if(void 0===e){if(this.length&&(i=ie.data(o),1===o.nodeType&&!ie._data(o,"parsedAttrs"))){for(n=a.length;n--;)a[n]&&(r=a[n].name,0===r.indexOf("data-")&&(r=ie.camelCase(r.slice(5)),l(o,r,i[r])));ie._data(o,"parsedAttrs",!0)}return i}return"object"==typeof e?this.each(function(){ie.data(this,e)}):arguments.length>1?this.each(function(){ie.data(this,e,t)}):o?l(o,e,ie.data(o,e)):void 0},removeData:function(e){return this.each(function(){ie.removeData(this,e)})}}),ie.extend({queue:function(e,t,n){var r;return e?(t=(t||"fx")+"queue",r=ie._data(e,t),n&&(!r||ie.isArray(n)?r=ie._data(e,t,ie.makeArray(n)):r.push(n)),r||[]):void 0},dequeue:function(e,t){t=t||"fx";var n=ie.queue(e,t),r=n.length,i=n.shift(),o=ie._queueHooks(e,t),a=function(){ie.dequeue(e,t)};"inprogress"===i&&(i=n.shift(),r--),i&&("fx"===t&&n.unshift("inprogress"),delete o.stop,i.call(e,a,o)),!r&&o&&o.empty.fire()},_queueHooks:function(e,t){var n=t+"queueHooks";return ie._data(e,n)||ie._data(e,n,{empty:ie.Callbacks("once memory").add(function(){ie._removeData(e,t+"queue"),ie._removeData(e,n)})})}}),ie.fn.extend({queue:function(e,t){var n=2;return"string"!=typeof e&&(t=e,e="fx",n--),arguments.length<n?ie.queue(this[0],e):void 0===t?this:this.each(function(){var n=ie.queue(this,e,t);ie._queueHooks(this,e),"fx"===e&&"inprogress"!==n[0]&&ie.dequeue(this,e)})},dequeue:function(e){return this.each(function(){ie.dequeue(this,e)})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){var n,r=1,i=ie.Deferred(),o=this,a=this.length,s=function(){--r||i.resolveWith(o,[o])};for("string"!=typeof e&&(t=e,e=void 0),e=e||"fx";a--;)n=ie._data(o[a],e+"queueHooks"),n&&n.empty&&(r++,n.empty.add(s));return s(),i.promise(t)}});var ke=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,Se=["Top","Right","Bottom","Left"],Ae=function(e,t){return e=t||e,"none"===ie.css(e,"display")||!ie.contains(e.ownerDocument,e)},De=ie.access=function(e,t,n,r,i,o,a){var s=0,l=e.length,u=null==n;if("object"===ie.type(n)){i=!0;for(s in n)ie.access(e,t,s,n[s],!0,o,a)}else if(void 0!==r&&(i=!0,ie.isFunction(r)||(a=!0),u&&(a?(t.call(e,r),t=null):(u=t,t=function(e,t,n){return u.call(ie(e),n)})),t))for(;l>s;s++)t(e[s],n,a?r:r.call(e[s],s,t(e[s],n)));return i?e:u?t.call(e):l?t(e[0],n):o},je=/^(?:checkbox|radio)$/i;!function(){var e=he.createElement("input"),t=he.createElement("div"),n=he.createDocumentFragment();if(t.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",ne.leadingWhitespace=3===t.firstChild.nodeType,ne.tbody=!t.getElementsByTagName("tbody").length,ne.htmlSerialize=!!t.getElementsByTagName("link").length,ne.html5Clone="<:nav></:nav>"!==he.createElement("nav").cloneNode(!0).outerHTML,e.type="checkbox",e.checked=!0,n.appendChild(e),ne.appendChecked=e.checked,t.innerHTML="<textarea>x</textarea>",ne.noCloneChecked=!!t.cloneNode(!0).lastChild.defaultValue,n.appendChild(t),t.innerHTML="<input type='radio' checked='checked' name='t'/>",ne.checkClone=t.cloneNode(!0).cloneNode(!0).lastChild.checked,ne.noCloneEvent=!0,t.attachEvent&&(t.attachEvent("onclick",function(){ne.noCloneEvent=!1}),t.cloneNode(!0).click()),null==ne.deleteExpando){ne.deleteExpando=!0;try{delete t.test}catch(r){ne.deleteExpando=!1}}}(),function(){var t,n,r=he.createElement("div");for(t in{submit:!0,change:!0,focusin:!0})n="on"+t,(ne[t+"Bubbles"]=n in e)||(r.setAttribute(n,"t"),ne[t+"Bubbles"]=r.attributes[n].expando===!1);r=null}();var Le=/^(?:input|select|textarea)$/i,He=/^key/,qe=/^(?:mouse|pointer|contextmenu)|click/,_e=/^(?:focusinfocus|focusoutblur)$/,Me=/^([^.]*)(?:\.(.+)|)$/;ie.event={global:{},add:function(e,t,n,r,i){var o,a,s,l,u,c,d,f,p,h,m,g=ie._data(e);if(g){for(n.handler&&(l=n,n=l.handler,i=l.selector),n.guid||(n.guid=ie.guid++),(a=g.events)||(a=g.events={}),(c=g.handle)||(c=g.handle=function(e){return typeof ie===Ce||e&&ie.event.triggered===e.type?void 0:ie.event.dispatch.apply(c.elem,arguments)},c.elem=e),t=(t||"").match(be)||[""],s=t.length;s--;)o=Me.exec(t[s])||[],p=m=o[1],h=(o[2]||"").split(".").sort(),p&&(u=ie.event.special[p]||{},p=(i?u.delegateType:u.bindType)||p,u=ie.event.special[p]||{},d=ie.extend({type:p,origType:m,data:r,handler:n,guid:n.guid,selector:i,needsContext:i&&ie.expr.match.needsContext.test(i),namespace:h.join(".")},l),(f=a[p])||(f=a[p]=[],f.delegateCount=0,u.setup&&u.setup.call(e,r,h,c)!==!1||(e.addEventListener?e.addEventListener(p,c,!1):e.attachEvent&&e.attachEvent("on"+p,c))),u.add&&(u.add.call(e,d),d.handler.guid||(d.handler.guid=n.guid)),i?f.splice(f.delegateCount++,0,d):f.push(d),ie.event.global[p]=!0);e=null}},remove:function(e,t,n,r,i){var o,a,s,l,u,c,d,f,p,h,m,g=ie.hasData(e)&&ie._data(e);if(g&&(c=g.events)){for(t=(t||"").match(be)||[""],u=t.length;u--;)if(s=Me.exec(t[u])||[],p=m=s[1],h=(s[2]||"").split(".").sort(),p){for(d=ie.event.special[p]||{},p=(r?d.delegateType:d.bindType)||p,f=c[p]||[],s=s[2]&&new RegExp("(^|\\.)"+h.join("\\.(?:.*\\.|)")+"(\\.|$)"),l=o=f.length;o--;)a=f[o],!i&&m!==a.origType||n&&n.guid!==a.guid||s&&!s.test(a.namespace)||r&&r!==a.selector&&("**"!==r||!a.selector)||(f.splice(o,1),a.selector&&f.delegateCount--,d.remove&&d.remove.call(e,a));l&&!f.length&&(d.teardown&&d.teardown.call(e,h,g.handle)!==!1||ie.removeEvent(e,p,g.handle),delete c[p])}else for(p in c)ie.event.remove(e,p+t[u],n,r,!0);ie.isEmptyObject(c)&&(delete g.handle,ie._removeData(e,"events"))}},trigger:function(t,n,r,i){var o,a,s,l,u,c,d,f=[r||he],p=te.call(t,"type")?t.type:t,h=te.call(t,"namespace")?t.namespace.split("."):[];if(s=c=r=r||he,3!==r.nodeType&&8!==r.nodeType&&!_e.test(p+ie.event.triggered)&&(p.indexOf(".")>=0&&(h=p.split("."),p=h.shift(),h.sort()),a=p.indexOf(":")<0&&"on"+p,t=t[ie.expando]?t:new ie.Event(p,"object"==typeof t&&t),t.isTrigger=i?2:3,t.namespace=h.join("."),t.namespace_re=t.namespace?new RegExp("(^|\\.)"+h.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,t.result=void 0,t.target||(t.target=r),n=null==n?[t]:ie.makeArray(n,[t]),u=ie.event.special[p]||{},i||!u.trigger||u.trigger.apply(r,n)!==!1)){if(!i&&!u.noBubble&&!ie.isWindow(r)){for(l=u.delegateType||p,_e.test(l+p)||(s=s.parentNode);s;s=s.parentNode)f.push(s),c=s;c===(r.ownerDocument||he)&&f.push(c.defaultView||c.parentWindow||e)}for(d=0;(s=f[d++])&&!t.isPropagationStopped();)t.type=d>1?l:u.bindType||p,o=(ie._data(s,"events")||{})[t.type]&&ie._data(s,"handle"),o&&o.apply(s,n),o=a&&s[a],o&&o.apply&&ie.acceptData(s)&&(t.result=o.apply(s,n),t.result===!1&&t.preventDefault());if(t.type=p,!i&&!t.isDefaultPrevented()&&(!u._default||u._default.apply(f.pop(),n)===!1)&&ie.acceptData(r)&&a&&r[p]&&!ie.isWindow(r)){c=r[a],c&&(r[a]=null),ie.event.triggered=p;try{r[p]()}catch(m){}ie.event.triggered=void 0,c&&(r[a]=c)}return t.result}},dispatch:function(e){e=ie.event.fix(e);var t,n,r,i,o,a=[],s=Y.call(arguments),l=(ie._data(this,"events")||{})[e.type]||[],u=ie.event.special[e.type]||{};if(s[0]=e,e.delegateTarget=this,!u.preDispatch||u.preDispatch.call(this,e)!==!1){for(a=ie.event.handlers.call(this,e,l),t=0;(i=a[t++])&&!e.isPropagationStopped();)for(e.currentTarget=i.elem,o=0;(r=i.handlers[o++])&&!e.isImmediatePropagationStopped();)(!e.namespace_re||e.namespace_re.test(r.namespace))&&(e.handleObj=r,e.data=r.data,n=((ie.event.special[r.origType]||{}).handle||r.handler).apply(i.elem,s),void 0!==n&&(e.result=n)===!1&&(e.preventDefault(),e.stopPropagation()));return u.postDispatch&&u.postDispatch.call(this,e),e.result}},handlers:function(e,t){var n,r,i,o,a=[],s=t.delegateCount,l=e.target;if(s&&l.nodeType&&(!e.button||"click"!==e.type))for(;l!=this;l=l.parentNode||this)if(1===l.nodeType&&(l.disabled!==!0||"click"!==e.type)){for(i=[],o=0;s>o;o++)r=t[o],n=r.selector+" ",void 0===i[n]&&(i[n]=r.needsContext?ie(n,this).index(l)>=0:ie.find(n,this,null,[l]).length),i[n]&&i.push(r);i.length&&a.push({elem:l,handlers:i})}return s<t.length&&a.push({elem:this,handlers:t.slice(s)}),a},fix:function(e){if(e[ie.expando])return e;var t,n,r,i=e.type,o=e,a=this.fixHooks[i];for(a||(this.fixHooks[i]=a=qe.test(i)?this.mouseHooks:He.test(i)?this.keyHooks:{}),r=a.props?this.props.concat(a.props):this.props,e=new ie.Event(o),t=r.length;t--;)n=r[t],e[n]=o[n];return e.target||(e.target=o.srcElement||he),3===e.target.nodeType&&(e.target=e.target.parentNode),e.metaKey=!!e.metaKey,a.filter?a.filter(e,o):e},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(e,t){return null==e.which&&(e.which=null!=t.charCode?t.charCode:t.keyCode),e}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(e,t){var n,r,i,o=t.button,a=t.fromElement;return null==e.pageX&&null!=t.clientX&&(r=e.target.ownerDocument||he,i=r.documentElement,n=r.body,e.pageX=t.clientX+(i&&i.scrollLeft||n&&n.scrollLeft||0)-(i&&i.clientLeft||n&&n.clientLeft||0),e.pageY=t.clientY+(i&&i.scrollTop||n&&n.scrollTop||0)-(i&&i.clientTop||n&&n.clientTop||0)),!e.relatedTarget&&a&&(e.relatedTarget=a===e.target?t.toElement:a),e.which||void 0===o||(e.which=1&o?1:2&o?3:4&o?2:0),e}},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==h()&&this.focus)try{return this.focus(),!1}catch(e){}},delegateType:"focusin"},blur:{trigger:function(){return this===h()&&this.blur?(this.blur(),!1):void 0},delegateType:"focusout"},click:{trigger:function(){return ie.nodeName(this,"input")&&"checkbox"===this.type&&this.click?(this.click(),!1):void 0},_default:function(e){return ie.nodeName(e.target,"a")}},beforeunload:{postDispatch:function(e){void 0!==e.result&&e.originalEvent&&(e.originalEvent.returnValue=e.result)}}},simulate:function(e,t,n,r){var i=ie.extend(new ie.Event,n,{type:e,isSimulated:!0,originalEvent:{}});r?ie.event.trigger(i,null,t):ie.event.dispatch.call(t,i),i.isDefaultPrevented()&&n.preventDefault()}},ie.removeEvent=he.removeEventListener?function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n,!1)}:function(e,t,n){var r="on"+t;e.detachEvent&&(typeof e[r]===Ce&&(e[r]=null),e.detachEvent(r,n))},ie.Event=function(e,t){return this instanceof ie.Event?(e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||void 0===e.defaultPrevented&&e.returnValue===!1?f:p):this.type=e,t&&ie.extend(this,t),this.timeStamp=e&&e.timeStamp||ie.now(),void(this[ie.expando]=!0)):new ie.Event(e,t)},ie.Event.prototype={isDefaultPrevented:p,isPropagationStopped:p,isImmediatePropagationStopped:p,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=f,e&&(e.preventDefault?e.preventDefault():e.returnValue=!1)},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=f,e&&(e.stopPropagation&&e.stopPropagation(),e.cancelBubble=!0)},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=f,e&&e.stopImmediatePropagation&&e.stopImmediatePropagation(),this.stopPropagation()}},ie.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(e,t){ie.event.special[e]={delegateType:t,bindType:t,handle:function(e){var n,r=this,i=e.relatedTarget,o=e.handleObj;return(!i||i!==r&&!ie.contains(r,i))&&(e.type=o.origType,n=o.handler.apply(this,arguments),e.type=t),n}}}),ne.submitBubbles||(ie.event.special.submit={setup:function(){return ie.nodeName(this,"form")?!1:void ie.event.add(this,"click._submit keypress._submit",function(e){var t=e.target,n=ie.nodeName(t,"input")||ie.nodeName(t,"button")?t.form:void 0;n&&!ie._data(n,"submitBubbles")&&(ie.event.add(n,"submit._submit",function(e){e._submit_bubble=!0}),ie._data(n,"submitBubbles",!0))})},postDispatch:function(e){e._submit_bubble&&(delete e._submit_bubble,this.parentNode&&!e.isTrigger&&ie.event.simulate("submit",this.parentNode,e,!0))},teardown:function(){return ie.nodeName(this,"form")?!1:void ie.event.remove(this,"._submit")}}),ne.changeBubbles||(ie.event.special.change={setup:function(){return Le.test(this.nodeName)?(("checkbox"===this.type||"radio"===this.type)&&(ie.event.add(this,"propertychange._change",function(e){"checked"===e.originalEvent.propertyName&&(this._just_changed=!0)}),ie.event.add(this,"click._change",function(e){this._just_changed&&!e.isTrigger&&(this._just_changed=!1),ie.event.simulate("change",this,e,!0)})),!1):void ie.event.add(this,"beforeactivate._change",function(e){var t=e.target;Le.test(t.nodeName)&&!ie._data(t,"changeBubbles")&&(ie.event.add(t,"change._change",function(e){!this.parentNode||e.isSimulated||e.isTrigger||ie.event.simulate("change",this.parentNode,e,!0)}),ie._data(t,"changeBubbles",!0))})},handle:function(e){var t=e.target;return this!==t||e.isSimulated||e.isTrigger||"radio"!==t.type&&"checkbox"!==t.type?e.handleObj.handler.apply(this,arguments):void 0},teardown:function(){return ie.event.remove(this,"._change"),!Le.test(this.nodeName)}}),ne.focusinBubbles||ie.each({focus:"focusin",blur:"focusout"},function(e,t){var n=function(e){ie.event.simulate(t,e.target,ie.event.fix(e),!0)};ie.event.special[t]={setup:function(){var r=this.ownerDocument||this,i=ie._data(r,t);i||r.addEventListener(e,n,!0),ie._data(r,t,(i||0)+1)},teardown:function(){var r=this.ownerDocument||this,i=ie._data(r,t)-1;i?ie._data(r,t,i):(r.removeEventListener(e,n,!0),ie._removeData(r,t))}}}),ie.fn.extend({on:function(e,t,n,r,i){var o,a;if("object"==typeof e){"string"!=typeof t&&(n=n||t,t=void 0);for(o in e)this.on(o,t,n,e[o],i);return this}if(null==n&&null==r?(r=t,n=t=void 0):null==r&&("string"==typeof t?(r=n,n=void 0):(r=n,n=t,t=void 0)),r===!1)r=p;else if(!r)return this;return 1===i&&(a=r,r=function(e){return ie().off(e),a.apply(this,arguments)},r.guid=a.guid||(a.guid=ie.guid++)),this.each(function(){ie.event.add(this,e,r,n,t)})},one:function(e,t,n,r){return this.on(e,t,n,r,1)},off:function(e,t,n){var r,i;if(e&&e.preventDefault&&e.handleObj)return r=e.handleObj,ie(e.delegateTarget).off(r.namespace?r.origType+"."+r.namespace:r.origType,r.selector,r.handler),this;if("object"==typeof e){for(i in e)this.off(i,t,e[i]);return this}return(t===!1||"function"==typeof t)&&(n=t,t=void 0),n===!1&&(n=p),this.each(function(){ie.event.remove(this,e,n,t)})},trigger:function(e,t){return this.each(function(){ie.event.trigger(e,t,this)})},triggerHandler:function(e,t){var n=this[0];return n?ie.event.trigger(e,t,n,!0):void 0}});var Fe="abbr|article|aside|audio|bdi|canvas|data|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",Oe=/ jQuery\d+="(?:null|\d+)"/g,Be=new RegExp("<(?:"+Fe+")[\\s/>]","i"),Pe=/^\s+/,Re=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,We=/<([\w:]+)/,$e=/<tbody/i,ze=/<|&#?\w+;/,Ie=/<(?:script|style|link)/i,Xe=/checked\s*(?:[^=]|=\s*.checked.)/i,Ue=/^$|\/(?:java|ecma)script/i,Ve=/^true\/(.*)/,Je=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,Ye={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],area:[1,"<map>","</map>"],param:[1,"<object>","</object>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:ne.htmlSerialize?[0,"",""]:[1,"X<div>","</div>"]},Ge=m(he),Qe=Ge.appendChild(he.createElement("div"));Ye.optgroup=Ye.option,Ye.tbody=Ye.tfoot=Ye.colgroup=Ye.caption=Ye.thead,Ye.th=Ye.td,ie.extend({clone:function(e,t,n){var r,i,o,a,s,l=ie.contains(e.ownerDocument,e);if(ne.html5Clone||ie.isXMLDoc(e)||!Be.test("<"+e.nodeName+">")?o=e.cloneNode(!0):(Qe.innerHTML=e.outerHTML,Qe.removeChild(o=Qe.firstChild)),!(ne.noCloneEvent&&ne.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||ie.isXMLDoc(e)))for(r=g(o),s=g(e),a=0;null!=(i=s[a]);++a)r[a]&&C(i,r[a]);if(t)if(n)for(s=s||g(e),r=r||g(o),a=0;null!=(i=s[a]);a++)T(i,r[a]);else T(e,o);return r=g(o,"script"),r.length>0&&w(r,!l&&g(e,"script")),r=s=i=null,o},buildFragment:function(e,t,n,r){for(var i,o,a,s,l,u,c,d=e.length,f=m(t),p=[],h=0;d>h;h++)if(o=e[h],o||0===o)if("object"===ie.type(o))ie.merge(p,o.nodeType?[o]:o);else if(ze.test(o)){for(s=s||f.appendChild(t.createElement("div")),l=(We.exec(o)||["",""])[1].toLowerCase(),c=Ye[l]||Ye._default,s.innerHTML=c[1]+o.replace(Re,"<$1></$2>")+c[2],i=c[0];i--;)s=s.lastChild;if(!ne.leadingWhitespace&&Pe.test(o)&&p.push(t.createTextNode(Pe.exec(o)[0])),!ne.tbody)for(o="table"!==l||$e.test(o)?"<table>"!==c[1]||$e.test(o)?0:s:s.firstChild,i=o&&o.childNodes.length;i--;)ie.nodeName(u=o.childNodes[i],"tbody")&&!u.childNodes.length&&o.removeChild(u);for(ie.merge(p,s.childNodes),s.textContent="";s.firstChild;)s.removeChild(s.firstChild);s=f.lastChild}else p.push(t.createTextNode(o));for(s&&f.removeChild(s),ne.appendChecked||ie.grep(g(p,"input"),v),h=0;o=p[h++];)if((!r||-1===ie.inArray(o,r))&&(a=ie.contains(o.ownerDocument,o),s=g(f.appendChild(o),"script"),a&&w(s),n))for(i=0;o=s[i++];)Ue.test(o.type||"")&&n.push(o);return s=null,f},cleanData:function(e,t){for(var n,r,i,o,a=0,s=ie.expando,l=ie.cache,u=ne.deleteExpando,c=ie.event.special;null!=(n=e[a]);a++)if((t||ie.acceptData(n))&&(i=n[s],o=i&&l[i])){if(o.events)for(r in o.events)c[r]?ie.event.remove(n,r):ie.removeEvent(n,r,o.handle);l[i]&&(delete l[i],u?delete n[s]:typeof n.removeAttribute!==Ce?n.removeAttribute(s):n[s]=null,J.push(i))}}}),ie.fn.extend({text:function(e){return De(this,function(e){return void 0===e?ie.text(this):this.empty().append((this[0]&&this[0].ownerDocument||he).createTextNode(e))},null,e,arguments.length)},append:function(){return this.domManip(arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=y(this,e);t.appendChild(e)}})},prepend:function(){return this.domManip(arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=y(this,e);t.insertBefore(e,t.firstChild)}})},before:function(){return this.domManip(arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function(){return this.domManip(arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},remove:function(e,t){for(var n,r=e?ie.filter(e,this):this,i=0;null!=(n=r[i]);i++)t||1!==n.nodeType||ie.cleanData(g(n)),n.parentNode&&(t&&ie.contains(n.ownerDocument,n)&&w(g(n,"script")),n.parentNode.removeChild(n));return this},empty:function(){for(var e,t=0;null!=(e=this[t]);t++){for(1===e.nodeType&&ie.cleanData(g(e,!1));e.firstChild;)e.removeChild(e.firstChild);e.options&&ie.nodeName(e,"select")&&(e.options.length=0)}return this},clone:function(e,t){return e=null==e?!1:e,t=null==t?e:t,this.map(function(){return ie.clone(this,e,t)})},html:function(e){return De(this,function(e){var t=this[0]||{},n=0,r=this.length;if(void 0===e)return 1===t.nodeType?t.innerHTML.replace(Oe,""):void 0;if(!("string"!=typeof e||Ie.test(e)||!ne.htmlSerialize&&Be.test(e)||!ne.leadingWhitespace&&Pe.test(e)||Ye[(We.exec(e)||["",""])[1].toLowerCase()])){e=e.replace(Re,"<$1></$2>");try{for(;r>n;n++)t=this[n]||{},1===t.nodeType&&(ie.cleanData(g(t,!1)),t.innerHTML=e);t=0}catch(i){}}t&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(){var e=arguments[0];return this.domManip(arguments,function(t){e=this.parentNode,ie.cleanData(g(this)),e&&e.replaceChild(t,this)}),e&&(e.length||e.nodeType)?this:this.remove()},detach:function(e){return this.remove(e,!0)},domManip:function(e,t){e=G.apply([],e);var n,r,i,o,a,s,l=0,u=this.length,c=this,d=u-1,f=e[0],p=ie.isFunction(f);if(p||u>1&&"string"==typeof f&&!ne.checkClone&&Xe.test(f))return this.each(function(n){var r=c.eq(n);p&&(e[0]=f.call(this,n,r.html())),r.domManip(e,t)});if(u&&(s=ie.buildFragment(e,this[0].ownerDocument,!1,this),n=s.firstChild,1===s.childNodes.length&&(s=n),n)){for(o=ie.map(g(s,"script"),b),i=o.length;u>l;l++)r=s,l!==d&&(r=ie.clone(r,!0,!0),i&&ie.merge(o,g(r,"script"))),t.call(this[l],r,l);if(i)for(a=o[o.length-1].ownerDocument,ie.map(o,x),l=0;i>l;l++)r=o[l],Ue.test(r.type||"")&&!ie._data(r,"globalEval")&&ie.contains(a,r)&&(r.src?ie._evalUrl&&ie._evalUrl(r.src):ie.globalEval((r.text||r.textContent||r.innerHTML||"").replace(Je,"")));s=n=null}return this}}),ie.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,t){ie.fn[e]=function(e){for(var n,r=0,i=[],o=ie(e),a=o.length-1;a>=r;r++)n=r===a?this:this.clone(!0),ie(o[r])[t](n),Q.apply(i,n.get());return this.pushStack(i)}});var Ke,Ze={};!function(){var e;ne.shrinkWrapBlocks=function(){if(null!=e)return e;e=!1;var t,n,r;return n=he.getElementsByTagName("body")[0],n&&n.style?(t=he.createElement("div"),r=he.createElement("div"),r.style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px",n.appendChild(r).appendChild(t),typeof t.style.zoom!==Ce&&(t.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:1px;width:1px;zoom:1",t.appendChild(he.createElement("div")).style.width="5px",e=3!==t.offsetWidth),n.removeChild(r),e):void 0}}();var et,tt,nt=/^margin/,rt=new RegExp("^("+ke+")(?!px)[a-z%]+$","i"),it=/^(top|right|bottom|left)$/;e.getComputedStyle?(et=function(t){return t.ownerDocument.defaultView.opener?t.ownerDocument.defaultView.getComputedStyle(t,null):e.getComputedStyle(t,null)},tt=function(e,t,n){var r,i,o,a,s=e.style;return n=n||et(e),a=n?n.getPropertyValue(t)||n[t]:void 0,n&&(""!==a||ie.contains(e.ownerDocument,e)||(a=ie.style(e,t)),rt.test(a)&&nt.test(t)&&(r=s.width,i=s.minWidth,
o=s.maxWidth,s.minWidth=s.maxWidth=s.width=a,a=n.width,s.width=r,s.minWidth=i,s.maxWidth=o)),void 0===a?a:a+""}):he.documentElement.currentStyle&&(et=function(e){return e.currentStyle},tt=function(e,t,n){var r,i,o,a,s=e.style;return n=n||et(e),a=n?n[t]:void 0,null==a&&s&&s[t]&&(a=s[t]),rt.test(a)&&!it.test(t)&&(r=s.left,i=e.runtimeStyle,o=i&&i.left,o&&(i.left=e.currentStyle.left),s.left="fontSize"===t?"1em":a,a=s.pixelLeft+"px",s.left=r,o&&(i.left=o)),void 0===a?a:a+""||"auto"}),!function(){function t(){var t,n,r,i;n=he.getElementsByTagName("body")[0],n&&n.style&&(t=he.createElement("div"),r=he.createElement("div"),r.style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px",n.appendChild(r).appendChild(t),t.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;display:block;margin-top:1%;top:1%;border:1px;padding:1px;width:4px;position:absolute",o=a=!1,l=!0,e.getComputedStyle&&(o="1%"!==(e.getComputedStyle(t,null)||{}).top,a="4px"===(e.getComputedStyle(t,null)||{width:"4px"}).width,i=t.appendChild(he.createElement("div")),i.style.cssText=t.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0",i.style.marginRight=i.style.width="0",t.style.width="1px",l=!parseFloat((e.getComputedStyle(i,null)||{}).marginRight),t.removeChild(i)),t.innerHTML="<table><tr><td></td><td>t</td></tr></table>",i=t.getElementsByTagName("td"),i[0].style.cssText="margin:0;border:0;padding:0;display:none",s=0===i[0].offsetHeight,s&&(i[0].style.display="",i[1].style.display="none",s=0===i[0].offsetHeight),n.removeChild(r))}var n,r,i,o,a,s,l;n=he.createElement("div"),n.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",i=n.getElementsByTagName("a")[0],(r=i&&i.style)&&(r.cssText="float:left;opacity:.5",ne.opacity="0.5"===r.opacity,ne.cssFloat=!!r.cssFloat,n.style.backgroundClip="content-box",n.cloneNode(!0).style.backgroundClip="",ne.clearCloneStyle="content-box"===n.style.backgroundClip,ne.boxSizing=""===r.boxSizing||""===r.MozBoxSizing||""===r.WebkitBoxSizing,ie.extend(ne,{reliableHiddenOffsets:function(){return null==s&&t(),s},boxSizingReliable:function(){return null==a&&t(),a},pixelPosition:function(){return null==o&&t(),o},reliableMarginRight:function(){return null==l&&t(),l}}))}(),ie.swap=function(e,t,n,r){var i,o,a={};for(o in t)a[o]=e.style[o],e.style[o]=t[o];i=n.apply(e,r||[]);for(o in t)e.style[o]=a[o];return i};var ot=/alpha\([^)]*\)/i,at=/opacity\s*=\s*([^)]*)/,st=/^(none|table(?!-c[ea]).+)/,lt=new RegExp("^("+ke+")(.*)$","i"),ut=new RegExp("^([+-])=("+ke+")","i"),ct={position:"absolute",visibility:"hidden",display:"block"},dt={letterSpacing:"0",fontWeight:"400"},ft=["Webkit","O","Moz","ms"];ie.extend({cssHooks:{opacity:{get:function(e,t){if(t){var n=tt(e,"opacity");return""===n?"1":n}}}},cssNumber:{columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":ne.cssFloat?"cssFloat":"styleFloat"},style:function(e,t,n,r){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var i,o,a,s=ie.camelCase(t),l=e.style;if(t=ie.cssProps[s]||(ie.cssProps[s]=S(l,s)),a=ie.cssHooks[t]||ie.cssHooks[s],void 0===n)return a&&"get"in a&&void 0!==(i=a.get(e,!1,r))?i:l[t];if(o=typeof n,"string"===o&&(i=ut.exec(n))&&(n=(i[1]+1)*i[2]+parseFloat(ie.css(e,t)),o="number"),null!=n&&n===n&&("number"!==o||ie.cssNumber[s]||(n+="px"),ne.clearCloneStyle||""!==n||0!==t.indexOf("background")||(l[t]="inherit"),!(a&&"set"in a&&void 0===(n=a.set(e,n,r)))))try{l[t]=n}catch(u){}}},css:function(e,t,n,r){var i,o,a,s=ie.camelCase(t);return t=ie.cssProps[s]||(ie.cssProps[s]=S(e.style,s)),a=ie.cssHooks[t]||ie.cssHooks[s],a&&"get"in a&&(o=a.get(e,!0,n)),void 0===o&&(o=tt(e,t,r)),"normal"===o&&t in dt&&(o=dt[t]),""===n||n?(i=parseFloat(o),n===!0||ie.isNumeric(i)?i||0:o):o}}),ie.each(["height","width"],function(e,t){ie.cssHooks[t]={get:function(e,n,r){return n?st.test(ie.css(e,"display"))&&0===e.offsetWidth?ie.swap(e,ct,function(){return L(e,t,r)}):L(e,t,r):void 0},set:function(e,n,r){var i=r&&et(e);return D(e,n,r?j(e,t,r,ne.boxSizing&&"border-box"===ie.css(e,"boxSizing",!1,i),i):0)}}}),ne.opacity||(ie.cssHooks.opacity={get:function(e,t){return at.test((t&&e.currentStyle?e.currentStyle.filter:e.style.filter)||"")?.01*parseFloat(RegExp.$1)+"":t?"1":""},set:function(e,t){var n=e.style,r=e.currentStyle,i=ie.isNumeric(t)?"alpha(opacity="+100*t+")":"",o=r&&r.filter||n.filter||"";n.zoom=1,(t>=1||""===t)&&""===ie.trim(o.replace(ot,""))&&n.removeAttribute&&(n.removeAttribute("filter"),""===t||r&&!r.filter)||(n.filter=ot.test(o)?o.replace(ot,i):o+" "+i)}}),ie.cssHooks.marginRight=k(ne.reliableMarginRight,function(e,t){return t?ie.swap(e,{display:"inline-block"},tt,[e,"marginRight"]):void 0}),ie.each({margin:"",padding:"",border:"Width"},function(e,t){ie.cssHooks[e+t]={expand:function(n){for(var r=0,i={},o="string"==typeof n?n.split(" "):[n];4>r;r++)i[e+Se[r]+t]=o[r]||o[r-2]||o[0];return i}},nt.test(e)||(ie.cssHooks[e+t].set=D)}),ie.fn.extend({css:function(e,t){return De(this,function(e,t,n){var r,i,o={},a=0;if(ie.isArray(t)){for(r=et(e),i=t.length;i>a;a++)o[t[a]]=ie.css(e,t[a],!1,r);return o}return void 0!==n?ie.style(e,t,n):ie.css(e,t)},e,t,arguments.length>1)},show:function(){return A(this,!0)},hide:function(){return A(this)},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each(function(){Ae(this)?ie(this).show():ie(this).hide()})}}),ie.Tween=H,H.prototype={constructor:H,init:function(e,t,n,r,i,o){this.elem=e,this.prop=n,this.easing=i||"swing",this.options=t,this.start=this.now=this.cur(),this.end=r,this.unit=o||(ie.cssNumber[n]?"":"px")},cur:function(){var e=H.propHooks[this.prop];return e&&e.get?e.get(this):H.propHooks._default.get(this)},run:function(e){var t,n=H.propHooks[this.prop];return this.options.duration?this.pos=t=ie.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):this.pos=t=e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):H.propHooks._default.set(this),this}},H.prototype.init.prototype=H.prototype,H.propHooks={_default:{get:function(e){var t;return null==e.elem[e.prop]||e.elem.style&&null!=e.elem.style[e.prop]?(t=ie.css(e.elem,e.prop,""),t&&"auto"!==t?t:0):e.elem[e.prop]},set:function(e){ie.fx.step[e.prop]?ie.fx.step[e.prop](e):e.elem.style&&(null!=e.elem.style[ie.cssProps[e.prop]]||ie.cssHooks[e.prop])?ie.style(e.elem,e.prop,e.now+e.unit):e.elem[e.prop]=e.now}}},H.propHooks.scrollTop=H.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},ie.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2}},ie.fx=H.prototype.init,ie.fx.step={};var pt,ht,mt=/^(?:toggle|show|hide)$/,gt=new RegExp("^(?:([+-])=|)("+ke+")([a-z%]*)$","i"),vt=/queueHooks$/,yt=[F],bt={"*":[function(e,t){var n=this.createTween(e,t),r=n.cur(),i=gt.exec(t),o=i&&i[3]||(ie.cssNumber[e]?"":"px"),a=(ie.cssNumber[e]||"px"!==o&&+r)&&gt.exec(ie.css(n.elem,e)),s=1,l=20;if(a&&a[3]!==o){o=o||a[3],i=i||[],a=+r||1;do s=s||".5",a/=s,ie.style(n.elem,e,a+o);while(s!==(s=n.cur()/r)&&1!==s&&--l)}return i&&(a=n.start=+a||+r||0,n.unit=o,n.end=i[1]?a+(i[1]+1)*i[2]:+i[2]),n}]};ie.Animation=ie.extend(B,{tweener:function(e,t){ie.isFunction(e)?(t=e,e=["*"]):e=e.split(" ");for(var n,r=0,i=e.length;i>r;r++)n=e[r],bt[n]=bt[n]||[],bt[n].unshift(t)},prefilter:function(e,t){t?yt.unshift(e):yt.push(e)}}),ie.speed=function(e,t,n){var r=e&&"object"==typeof e?ie.extend({},e):{complete:n||!n&&t||ie.isFunction(e)&&e,duration:e,easing:n&&t||t&&!ie.isFunction(t)&&t};return r.duration=ie.fx.off?0:"number"==typeof r.duration?r.duration:r.duration in ie.fx.speeds?ie.fx.speeds[r.duration]:ie.fx.speeds._default,(null==r.queue||r.queue===!0)&&(r.queue="fx"),r.old=r.complete,r.complete=function(){ie.isFunction(r.old)&&r.old.call(this),r.queue&&ie.dequeue(this,r.queue)},r},ie.fn.extend({fadeTo:function(e,t,n,r){return this.filter(Ae).css("opacity",0).show().end().animate({opacity:t},e,n,r)},animate:function(e,t,n,r){var i=ie.isEmptyObject(e),o=ie.speed(t,n,r),a=function(){var t=B(this,ie.extend({},e),o);(i||ie._data(this,"finish"))&&t.stop(!0)};return a.finish=a,i||o.queue===!1?this.each(a):this.queue(o.queue,a)},stop:function(e,t,n){var r=function(e){var t=e.stop;delete e.stop,t(n)};return"string"!=typeof e&&(n=t,t=e,e=void 0),t&&e!==!1&&this.queue(e||"fx",[]),this.each(function(){var t=!0,i=null!=e&&e+"queueHooks",o=ie.timers,a=ie._data(this);if(i)a[i]&&a[i].stop&&r(a[i]);else for(i in a)a[i]&&a[i].stop&&vt.test(i)&&r(a[i]);for(i=o.length;i--;)o[i].elem!==this||null!=e&&o[i].queue!==e||(o[i].anim.stop(n),t=!1,o.splice(i,1));(t||!n)&&ie.dequeue(this,e)})},finish:function(e){return e!==!1&&(e=e||"fx"),this.each(function(){var t,n=ie._data(this),r=n[e+"queue"],i=n[e+"queueHooks"],o=ie.timers,a=r?r.length:0;for(n.finish=!0,ie.queue(this,e,[]),i&&i.stop&&i.stop.call(this,!0),t=o.length;t--;)o[t].elem===this&&o[t].queue===e&&(o[t].anim.stop(!0),o.splice(t,1));for(t=0;a>t;t++)r[t]&&r[t].finish&&r[t].finish.call(this);delete n.finish})}}),ie.each(["toggle","show","hide"],function(e,t){var n=ie.fn[t];ie.fn[t]=function(e,r,i){return null==e||"boolean"==typeof e?n.apply(this,arguments):this.animate(_(t,!0),e,r,i)}}),ie.each({slideDown:_("show"),slideUp:_("hide"),slideToggle:_("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,t){ie.fn[e]=function(e,n,r){return this.animate(t,e,n,r)}}),ie.timers=[],ie.fx.tick=function(){var e,t=ie.timers,n=0;for(pt=ie.now();n<t.length;n++)e=t[n],e()||t[n]!==e||t.splice(n--,1);t.length||ie.fx.stop(),pt=void 0},ie.fx.timer=function(e){ie.timers.push(e),e()?ie.fx.start():ie.timers.pop()},ie.fx.interval=13,ie.fx.start=function(){ht||(ht=setInterval(ie.fx.tick,ie.fx.interval))},ie.fx.stop=function(){clearInterval(ht),ht=null},ie.fx.speeds={slow:600,fast:200,_default:400},ie.fn.delay=function(e,t){return e=ie.fx?ie.fx.speeds[e]||e:e,t=t||"fx",this.queue(t,function(t,n){var r=setTimeout(t,e);n.stop=function(){clearTimeout(r)}})},function(){var e,t,n,r,i;t=he.createElement("div"),t.setAttribute("className","t"),t.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",r=t.getElementsByTagName("a")[0],n=he.createElement("select"),i=n.appendChild(he.createElement("option")),e=t.getElementsByTagName("input")[0],r.style.cssText="top:1px",ne.getSetAttribute="t"!==t.className,ne.style=/top/.test(r.getAttribute("style")),ne.hrefNormalized="/a"===r.getAttribute("href"),ne.checkOn=!!e.value,ne.optSelected=i.selected,ne.enctype=!!he.createElement("form").enctype,n.disabled=!0,ne.optDisabled=!i.disabled,e=he.createElement("input"),e.setAttribute("value",""),ne.input=""===e.getAttribute("value"),e.value="t",e.setAttribute("type","radio"),ne.radioValue="t"===e.value}();var xt=/\r/g;ie.fn.extend({val:function(e){var t,n,r,i=this[0];return arguments.length?(r=ie.isFunction(e),this.each(function(n){var i;1===this.nodeType&&(i=r?e.call(this,n,ie(this).val()):e,null==i?i="":"number"==typeof i?i+="":ie.isArray(i)&&(i=ie.map(i,function(e){return null==e?"":e+""})),t=ie.valHooks[this.type]||ie.valHooks[this.nodeName.toLowerCase()],t&&"set"in t&&void 0!==t.set(this,i,"value")||(this.value=i))})):i?(t=ie.valHooks[i.type]||ie.valHooks[i.nodeName.toLowerCase()],t&&"get"in t&&void 0!==(n=t.get(i,"value"))?n:(n=i.value,"string"==typeof n?n.replace(xt,""):null==n?"":n)):void 0}}),ie.extend({valHooks:{option:{get:function(e){var t=ie.find.attr(e,"value");return null!=t?t:ie.trim(ie.text(e))}},select:{get:function(e){for(var t,n,r=e.options,i=e.selectedIndex,o="select-one"===e.type||0>i,a=o?null:[],s=o?i+1:r.length,l=0>i?s:o?i:0;s>l;l++)if(n=r[l],!(!n.selected&&l!==i||(ne.optDisabled?n.disabled:null!==n.getAttribute("disabled"))||n.parentNode.disabled&&ie.nodeName(n.parentNode,"optgroup"))){if(t=ie(n).val(),o)return t;a.push(t)}return a},set:function(e,t){for(var n,r,i=e.options,o=ie.makeArray(t),a=i.length;a--;)if(r=i[a],ie.inArray(ie.valHooks.option.get(r),o)>=0)try{r.selected=n=!0}catch(s){r.scrollHeight}else r.selected=!1;return n||(e.selectedIndex=-1),i}}}}),ie.each(["radio","checkbox"],function(){ie.valHooks[this]={set:function(e,t){return ie.isArray(t)?e.checked=ie.inArray(ie(e).val(),t)>=0:void 0}},ne.checkOn||(ie.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})});var wt,Tt,Ct=ie.expr.attrHandle,Nt=/^(?:checked|selected)$/i,Et=ne.getSetAttribute,kt=ne.input;ie.fn.extend({attr:function(e,t){return De(this,ie.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each(function(){ie.removeAttr(this,e)})}}),ie.extend({attr:function(e,t,n){var r,i,o=e.nodeType;return e&&3!==o&&8!==o&&2!==o?typeof e.getAttribute===Ce?ie.prop(e,t,n):(1===o&&ie.isXMLDoc(e)||(t=t.toLowerCase(),r=ie.attrHooks[t]||(ie.expr.match.bool.test(t)?Tt:wt)),void 0===n?r&&"get"in r&&null!==(i=r.get(e,t))?i:(i=ie.find.attr(e,t),null==i?void 0:i):null!==n?r&&"set"in r&&void 0!==(i=r.set(e,n,t))?i:(e.setAttribute(t,n+""),n):void ie.removeAttr(e,t)):void 0},removeAttr:function(e,t){var n,r,i=0,o=t&&t.match(be);if(o&&1===e.nodeType)for(;n=o[i++];)r=ie.propFix[n]||n,ie.expr.match.bool.test(n)?kt&&Et||!Nt.test(n)?e[r]=!1:e[ie.camelCase("default-"+n)]=e[r]=!1:ie.attr(e,n,""),e.removeAttribute(Et?n:r)},attrHooks:{type:{set:function(e,t){if(!ne.radioValue&&"radio"===t&&ie.nodeName(e,"input")){var n=e.value;return e.setAttribute("type",t),n&&(e.value=n),t}}}}}),Tt={set:function(e,t,n){return t===!1?ie.removeAttr(e,n):kt&&Et||!Nt.test(n)?e.setAttribute(!Et&&ie.propFix[n]||n,n):e[ie.camelCase("default-"+n)]=e[n]=!0,n}},ie.each(ie.expr.match.bool.source.match(/\w+/g),function(e,t){var n=Ct[t]||ie.find.attr;Ct[t]=kt&&Et||!Nt.test(t)?function(e,t,r){var i,o;return r||(o=Ct[t],Ct[t]=i,i=null!=n(e,t,r)?t.toLowerCase():null,Ct[t]=o),i}:function(e,t,n){return n?void 0:e[ie.camelCase("default-"+t)]?t.toLowerCase():null}}),kt&&Et||(ie.attrHooks.value={set:function(e,t,n){return ie.nodeName(e,"input")?void(e.defaultValue=t):wt&&wt.set(e,t,n)}}),Et||(wt={set:function(e,t,n){var r=e.getAttributeNode(n);return r||e.setAttributeNode(r=e.ownerDocument.createAttribute(n)),r.value=t+="","value"===n||t===e.getAttribute(n)?t:void 0}},Ct.id=Ct.name=Ct.coords=function(e,t,n){var r;return n?void 0:(r=e.getAttributeNode(t))&&""!==r.value?r.value:null},ie.valHooks.button={get:function(e,t){var n=e.getAttributeNode(t);return n&&n.specified?n.value:void 0},set:wt.set},ie.attrHooks.contenteditable={set:function(e,t,n){wt.set(e,""===t?!1:t,n)}},ie.each(["width","height"],function(e,t){ie.attrHooks[t]={set:function(e,n){return""===n?(e.setAttribute(t,"auto"),n):void 0}}})),ne.style||(ie.attrHooks.style={get:function(e){return e.style.cssText||void 0},set:function(e,t){return e.style.cssText=t+""}});var St=/^(?:input|select|textarea|button|object)$/i,At=/^(?:a|area)$/i;ie.fn.extend({prop:function(e,t){return De(this,ie.prop,e,t,arguments.length>1)},removeProp:function(e){return e=ie.propFix[e]||e,this.each(function(){try{this[e]=void 0,delete this[e]}catch(t){}})}}),ie.extend({propFix:{"for":"htmlFor","class":"className"},prop:function(e,t,n){var r,i,o,a=e.nodeType;return e&&3!==a&&8!==a&&2!==a?(o=1!==a||!ie.isXMLDoc(e),o&&(t=ie.propFix[t]||t,i=ie.propHooks[t]),void 0!==n?i&&"set"in i&&void 0!==(r=i.set(e,n,t))?r:e[t]=n:i&&"get"in i&&null!==(r=i.get(e,t))?r:e[t]):void 0},propHooks:{tabIndex:{get:function(e){var t=ie.find.attr(e,"tabindex");return t?parseInt(t,10):St.test(e.nodeName)||At.test(e.nodeName)&&e.href?0:-1}}}}),ne.hrefNormalized||ie.each(["href","src"],function(e,t){ie.propHooks[t]={get:function(e){return e.getAttribute(t,4)}}}),ne.optSelected||(ie.propHooks.selected={get:function(e){var t=e.parentNode;return t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex),null}}),ie.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){ie.propFix[this.toLowerCase()]=this}),ne.enctype||(ie.propFix.enctype="encoding");var Dt=/[\t\r\n\f]/g;ie.fn.extend({addClass:function(e){var t,n,r,i,o,a,s=0,l=this.length,u="string"==typeof e&&e;if(ie.isFunction(e))return this.each(function(t){ie(this).addClass(e.call(this,t,this.className))});if(u)for(t=(e||"").match(be)||[];l>s;s++)if(n=this[s],r=1===n.nodeType&&(n.className?(" "+n.className+" ").replace(Dt," "):" ")){for(o=0;i=t[o++];)r.indexOf(" "+i+" ")<0&&(r+=i+" ");a=ie.trim(r),n.className!==a&&(n.className=a)}return this},removeClass:function(e){var t,n,r,i,o,a,s=0,l=this.length,u=0===arguments.length||"string"==typeof e&&e;if(ie.isFunction(e))return this.each(function(t){ie(this).removeClass(e.call(this,t,this.className))});if(u)for(t=(e||"").match(be)||[];l>s;s++)if(n=this[s],r=1===n.nodeType&&(n.className?(" "+n.className+" ").replace(Dt," "):"")){for(o=0;i=t[o++];)for(;r.indexOf(" "+i+" ")>=0;)r=r.replace(" "+i+" "," ");a=e?ie.trim(r):"",n.className!==a&&(n.className=a)}return this},toggleClass:function(e,t){var n=typeof e;return"boolean"==typeof t&&"string"===n?t?this.addClass(e):this.removeClass(e):this.each(ie.isFunction(e)?function(n){ie(this).toggleClass(e.call(this,n,this.className,t),t)}:function(){if("string"===n)for(var t,r=0,i=ie(this),o=e.match(be)||[];t=o[r++];)i.hasClass(t)?i.removeClass(t):i.addClass(t);else(n===Ce||"boolean"===n)&&(this.className&&ie._data(this,"__className__",this.className),this.className=this.className||e===!1?"":ie._data(this,"__className__")||"")})},hasClass:function(e){for(var t=" "+e+" ",n=0,r=this.length;r>n;n++)if(1===this[n].nodeType&&(" "+this[n].className+" ").replace(Dt," ").indexOf(t)>=0)return!0;return!1}}),ie.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(e,t){ie.fn[t]=function(e,n){return arguments.length>0?this.on(t,null,e,n):this.trigger(t)}}),ie.fn.extend({hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)},bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,n,r){return this.on(t,e,n,r)},undelegate:function(e,t,n){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",n)}});var jt=ie.now(),Lt=/\?/,Ht=/(,)|(\[|{)|(}|])|"(?:[^"\\\r\n]|\\["\\\/bfnrt]|\\u[\da-fA-F]{4})*"\s*:?|true|false|null|-?(?!0\d)\d+(?:\.\d+|)(?:[eE][+-]?\d+|)/g;ie.parseJSON=function(t){if(e.JSON&&e.JSON.parse)return e.JSON.parse(t+"");var n,r=null,i=ie.trim(t+"");return i&&!ie.trim(i.replace(Ht,function(e,t,i,o){return n&&t&&(r=0),0===r?e:(n=i||t,r+=!o-!i,"")}))?Function("return "+i)():ie.error("Invalid JSON: "+t)},ie.parseXML=function(t){var n,r;if(!t||"string"!=typeof t)return null;try{e.DOMParser?(r=new DOMParser,n=r.parseFromString(t,"text/xml")):(n=new ActiveXObject("Microsoft.XMLDOM"),n.async="false",n.loadXML(t))}catch(i){n=void 0}return n&&n.documentElement&&!n.getElementsByTagName("parsererror").length||ie.error("Invalid XML: "+t),n};var qt,_t,Mt=/#.*$/,Ft=/([?&])_=[^&]*/,Ot=/^(.*?):[ \t]*([^\r\n]*)\r?$/gm,Bt=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,Pt=/^(?:GET|HEAD)$/,Rt=/^\/\//,Wt=/^([\w.+-]+:)(?:\/\/(?:[^\/?#]*@|)([^\/?#:]*)(?::(\d+)|)|)/,$t={},zt={},It="*/".concat("*");try{_t=location.href}catch(Xt){_t=he.createElement("a"),_t.href="",_t=_t.href}qt=Wt.exec(_t.toLowerCase())||[],ie.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:_t,type:"GET",isLocal:Bt.test(qt[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":It,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":ie.parseJSON,"text xml":ie.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?W(W(e,ie.ajaxSettings),t):W(ie.ajaxSettings,e)},ajaxPrefilter:P($t),ajaxTransport:P(zt),ajax:function(e,t){function n(e,t,n,r){var i,c,v,y,x,T=t;2!==b&&(b=2,s&&clearTimeout(s),u=void 0,a=r||"",w.readyState=e>0?4:0,i=e>=200&&300>e||304===e,n&&(y=$(d,w,n)),y=z(d,y,w,i),i?(d.ifModified&&(x=w.getResponseHeader("Last-Modified"),x&&(ie.lastModified[o]=x),x=w.getResponseHeader("etag"),x&&(ie.etag[o]=x)),204===e||"HEAD"===d.type?T="nocontent":304===e?T="notmodified":(T=y.state,c=y.data,v=y.error,i=!v)):(v=T,(e||!T)&&(T="error",0>e&&(e=0))),w.status=e,w.statusText=(t||T)+"",i?h.resolveWith(f,[c,T,w]):h.rejectWith(f,[w,T,v]),w.statusCode(g),g=void 0,l&&p.trigger(i?"ajaxSuccess":"ajaxError",[w,d,i?c:v]),m.fireWith(f,[w,T]),l&&(p.trigger("ajaxComplete",[w,d]),--ie.active||ie.event.trigger("ajaxStop")))}"object"==typeof e&&(t=e,e=void 0),t=t||{};var r,i,o,a,s,l,u,c,d=ie.ajaxSetup({},t),f=d.context||d,p=d.context&&(f.nodeType||f.jquery)?ie(f):ie.event,h=ie.Deferred(),m=ie.Callbacks("once memory"),g=d.statusCode||{},v={},y={},b=0,x="canceled",w={readyState:0,getResponseHeader:function(e){var t;if(2===b){if(!c)for(c={};t=Ot.exec(a);)c[t[1].toLowerCase()]=t[2];t=c[e.toLowerCase()]}return null==t?null:t},getAllResponseHeaders:function(){return 2===b?a:null},setRequestHeader:function(e,t){var n=e.toLowerCase();return b||(e=y[n]=y[n]||e,v[e]=t),this},overrideMimeType:function(e){return b||(d.mimeType=e),this},statusCode:function(e){var t;if(e)if(2>b)for(t in e)g[t]=[g[t],e[t]];else w.always(e[w.status]);return this},abort:function(e){var t=e||x;return u&&u.abort(t),n(0,t),this}};if(h.promise(w).complete=m.add,w.success=w.done,w.error=w.fail,d.url=((e||d.url||_t)+"").replace(Mt,"").replace(Rt,qt[1]+"//"),d.type=t.method||t.type||d.method||d.type,d.dataTypes=ie.trim(d.dataType||"*").toLowerCase().match(be)||[""],null==d.crossDomain&&(r=Wt.exec(d.url.toLowerCase()),d.crossDomain=!(!r||r[1]===qt[1]&&r[2]===qt[2]&&(r[3]||("http:"===r[1]?"80":"443"))===(qt[3]||("http:"===qt[1]?"80":"443")))),d.data&&d.processData&&"string"!=typeof d.data&&(d.data=ie.param(d.data,d.traditional)),R($t,d,t,w),2===b)return w;l=ie.event&&d.global,l&&0===ie.active++&&ie.event.trigger("ajaxStart"),d.type=d.type.toUpperCase(),d.hasContent=!Pt.test(d.type),o=d.url,d.hasContent||(d.data&&(o=d.url+=(Lt.test(o)?"&":"?")+d.data,delete d.data),d.cache===!1&&(d.url=Ft.test(o)?o.replace(Ft,"$1_="+jt++):o+(Lt.test(o)?"&":"?")+"_="+jt++)),d.ifModified&&(ie.lastModified[o]&&w.setRequestHeader("If-Modified-Since",ie.lastModified[o]),ie.etag[o]&&w.setRequestHeader("If-None-Match",ie.etag[o])),(d.data&&d.hasContent&&d.contentType!==!1||t.contentType)&&w.setRequestHeader("Content-Type",d.contentType),w.setRequestHeader("Accept",d.dataTypes[0]&&d.accepts[d.dataTypes[0]]?d.accepts[d.dataTypes[0]]+("*"!==d.dataTypes[0]?", "+It+"; q=0.01":""):d.accepts["*"]);for(i in d.headers)w.setRequestHeader(i,d.headers[i]);if(d.beforeSend&&(d.beforeSend.call(f,w,d)===!1||2===b))return w.abort();x="abort";for(i in{success:1,error:1,complete:1})w[i](d[i]);if(u=R(zt,d,t,w)){w.readyState=1,l&&p.trigger("ajaxSend",[w,d]),d.async&&d.timeout>0&&(s=setTimeout(function(){w.abort("timeout")},d.timeout));try{b=1,u.send(v,n)}catch(T){if(!(2>b))throw T;n(-1,T)}}else n(-1,"No Transport");return w},getJSON:function(e,t,n){return ie.get(e,t,n,"json")},getScript:function(e,t){return ie.get(e,void 0,t,"script")}}),ie.each(["get","post"],function(e,t){ie[t]=function(e,n,r,i){return ie.isFunction(n)&&(i=i||r,r=n,n=void 0),ie.ajax({url:e,type:t,dataType:i,data:n,success:r})}}),ie._evalUrl=function(e){return ie.ajax({url:e,type:"GET",dataType:"script",async:!1,global:!1,"throws":!0})},ie.fn.extend({wrapAll:function(e){if(ie.isFunction(e))return this.each(function(t){ie(this).wrapAll(e.call(this,t))});if(this[0]){var t=ie(e,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){for(var e=this;e.firstChild&&1===e.firstChild.nodeType;)e=e.firstChild;return e}).append(this)}return this},wrapInner:function(e){return this.each(ie.isFunction(e)?function(t){ie(this).wrapInner(e.call(this,t))}:function(){var t=ie(this),n=t.contents();n.length?n.wrapAll(e):t.append(e)})},wrap:function(e){var t=ie.isFunction(e);return this.each(function(n){ie(this).wrapAll(t?e.call(this,n):e)})},unwrap:function(){return this.parent().each(function(){ie.nodeName(this,"body")||ie(this).replaceWith(this.childNodes)}).end()}}),ie.expr.filters.hidden=function(e){return e.offsetWidth<=0&&e.offsetHeight<=0||!ne.reliableHiddenOffsets()&&"none"===(e.style&&e.style.display||ie.css(e,"display"))},ie.expr.filters.visible=function(e){return!ie.expr.filters.hidden(e)};var Ut=/%20/g,Vt=/\[\]$/,Jt=/\r?\n/g,Yt=/^(?:submit|button|image|reset|file)$/i,Gt=/^(?:input|select|textarea|keygen)/i;ie.param=function(e,t){var n,r=[],i=function(e,t){t=ie.isFunction(t)?t():null==t?"":t,r[r.length]=encodeURIComponent(e)+"="+encodeURIComponent(t)};if(void 0===t&&(t=ie.ajaxSettings&&ie.ajaxSettings.traditional),ie.isArray(e)||e.jquery&&!ie.isPlainObject(e))ie.each(e,function(){i(this.name,this.value)});else for(n in e)I(n,e[n],t,i);return r.join("&").replace(Ut,"+")},ie.fn.extend({serialize:function(){return ie.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=ie.prop(this,"elements");return e?ie.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!ie(this).is(":disabled")&&Gt.test(this.nodeName)&&!Yt.test(e)&&(this.checked||!je.test(e))}).map(function(e,t){var n=ie(this).val();return null==n?null:ie.isArray(n)?ie.map(n,function(e){return{name:t.name,value:e.replace(Jt,"\r\n")}}):{name:t.name,value:n.replace(Jt,"\r\n")}}).get()}}),ie.ajaxSettings.xhr=void 0!==e.ActiveXObject?function(){return!this.isLocal&&/^(get|post|head|put|delete|options)$/i.test(this.type)&&X()||U()}:X;var Qt=0,Kt={},Zt=ie.ajaxSettings.xhr();e.attachEvent&&e.attachEvent("onunload",function(){for(var e in Kt)Kt[e](void 0,!0)}),ne.cors=!!Zt&&"withCredentials"in Zt,Zt=ne.ajax=!!Zt,Zt&&ie.ajaxTransport(function(e){if(!e.crossDomain||ne.cors){var t;return{send:function(n,r){var i,o=e.xhr(),a=++Qt;if(o.open(e.type,e.url,e.async,e.username,e.password),e.xhrFields)for(i in e.xhrFields)o[i]=e.xhrFields[i];e.mimeType&&o.overrideMimeType&&o.overrideMimeType(e.mimeType),e.crossDomain||n["X-Requested-With"]||(n["X-Requested-With"]="XMLHttpRequest");for(i in n)void 0!==n[i]&&o.setRequestHeader(i,n[i]+"");o.send(e.hasContent&&e.data||null),t=function(n,i){var s,l,u;if(t&&(i||4===o.readyState))if(delete Kt[a],t=void 0,o.onreadystatechange=ie.noop,i)4!==o.readyState&&o.abort();else{u={},s=o.status,"string"==typeof o.responseText&&(u.text=o.responseText);try{l=o.statusText}catch(c){l=""}s||!e.isLocal||e.crossDomain?1223===s&&(s=204):s=u.text?200:404}u&&r(s,l,u,o.getAllResponseHeaders())},e.async?4===o.readyState?setTimeout(t):o.onreadystatechange=Kt[a]=t:t()},abort:function(){t&&t(void 0,!0)}}}}),ie.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/(?:java|ecma)script/},converters:{"text script":function(e){return ie.globalEval(e),e}}}),ie.ajaxPrefilter("script",function(e){void 0===e.cache&&(e.cache=!1),e.crossDomain&&(e.type="GET",e.global=!1)}),ie.ajaxTransport("script",function(e){if(e.crossDomain){var t,n=he.head||ie("head")[0]||he.documentElement;return{send:function(r,i){t=he.createElement("script"),t.async=!0,e.scriptCharset&&(t.charset=e.scriptCharset),t.src=e.url,t.onload=t.onreadystatechange=function(e,n){(n||!t.readyState||/loaded|complete/.test(t.readyState))&&(t.onload=t.onreadystatechange=null,t.parentNode&&t.parentNode.removeChild(t),t=null,n||i(200,"success"))},n.insertBefore(t,n.firstChild)},abort:function(){t&&t.onload(void 0,!0)}}}});var en=[],tn=/(=)\?(?=&|$)|\?\?/;ie.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=en.pop()||ie.expando+"_"+jt++;return this[e]=!0,e}}),ie.ajaxPrefilter("json jsonp",function(t,n,r){var i,o,a,s=t.jsonp!==!1&&(tn.test(t.url)?"url":"string"==typeof t.data&&!(t.contentType||"").indexOf("application/x-www-form-urlencoded")&&tn.test(t.data)&&"data");return s||"jsonp"===t.dataTypes[0]?(i=t.jsonpCallback=ie.isFunction(t.jsonpCallback)?t.jsonpCallback():t.jsonpCallback,s?t[s]=t[s].replace(tn,"$1"+i):t.jsonp!==!1&&(t.url+=(Lt.test(t.url)?"&":"?")+t.jsonp+"="+i),t.converters["script json"]=function(){return a||ie.error(i+" was not called"),a[0]},t.dataTypes[0]="json",o=e[i],e[i]=function(){a=arguments},r.always(function(){e[i]=o,t[i]&&(t.jsonpCallback=n.jsonpCallback,en.push(i)),a&&ie.isFunction(o)&&o(a[0]),a=o=void 0}),"script"):void 0}),ie.parseHTML=function(e,t,n){if(!e||"string"!=typeof e)return null;"boolean"==typeof t&&(n=t,t=!1),t=t||he;var r=de.exec(e),i=!n&&[];return r?[t.createElement(r[1])]:(r=ie.buildFragment([e],t,i),i&&i.length&&ie(i).remove(),ie.merge([],r.childNodes))};var nn=ie.fn.load;ie.fn.load=function(e,t,n){if("string"!=typeof e&&nn)return nn.apply(this,arguments);var r,i,o,a=this,s=e.indexOf(" ");return s>=0&&(r=ie.trim(e.slice(s,e.length)),e=e.slice(0,s)),ie.isFunction(t)?(n=t,t=void 0):t&&"object"==typeof t&&(o="POST"),a.length>0&&ie.ajax({url:e,type:o,dataType:"html",data:t}).done(function(e){i=arguments,a.html(r?ie("<div>").append(ie.parseHTML(e)).find(r):e)}).complete(n&&function(e,t){a.each(n,i||[e.responseText,t,e])}),this},ie.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(e,t){ie.fn[t]=function(e){return this.on(t,e)}}),ie.expr.filters.animated=function(e){return ie.grep(ie.timers,function(t){return e===t.elem}).length};var rn=e.document.documentElement;ie.offset={setOffset:function(e,t,n){var r,i,o,a,s,l,u,c=ie.css(e,"position"),d=ie(e),f={};"static"===c&&(e.style.position="relative"),s=d.offset(),o=ie.css(e,"top"),l=ie.css(e,"left"),u=("absolute"===c||"fixed"===c)&&ie.inArray("auto",[o,l])>-1,u?(r=d.position(),a=r.top,i=r.left):(a=parseFloat(o)||0,i=parseFloat(l)||0),ie.isFunction(t)&&(t=t.call(e,n,s)),null!=t.top&&(f.top=t.top-s.top+a),null!=t.left&&(f.left=t.left-s.left+i),"using"in t?t.using.call(e,f):d.css(f)}},ie.fn.extend({offset:function(e){if(arguments.length)return void 0===e?this:this.each(function(t){ie.offset.setOffset(this,e,t)});var t,n,r={top:0,left:0},i=this[0],o=i&&i.ownerDocument;return o?(t=o.documentElement,ie.contains(t,i)?(typeof i.getBoundingClientRect!==Ce&&(r=i.getBoundingClientRect()),n=V(o),{top:r.top+(n.pageYOffset||t.scrollTop)-(t.clientTop||0),left:r.left+(n.pageXOffset||t.scrollLeft)-(t.clientLeft||0)}):r):void 0},position:function(){if(this[0]){var e,t,n={top:0,left:0},r=this[0];return"fixed"===ie.css(r,"position")?t=r.getBoundingClientRect():(e=this.offsetParent(),t=this.offset(),ie.nodeName(e[0],"html")||(n=e.offset()),n.top+=ie.css(e[0],"borderTopWidth",!0),n.left+=ie.css(e[0],"borderLeftWidth",!0)),{top:t.top-n.top-ie.css(r,"marginTop",!0),left:t.left-n.left-ie.css(r,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var e=this.offsetParent||rn;e&&!ie.nodeName(e,"html")&&"static"===ie.css(e,"position");)e=e.offsetParent;return e||rn})}}),ie.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(e,t){var n=/Y/.test(t);ie.fn[e]=function(r){return De(this,function(e,r,i){var o=V(e);return void 0===i?o?t in o?o[t]:o.document.documentElement[r]:e[r]:void(o?o.scrollTo(n?ie(o).scrollLeft():i,n?i:ie(o).scrollTop()):e[r]=i)},e,r,arguments.length,null)}}),ie.each(["top","left"],function(e,t){ie.cssHooks[t]=k(ne.pixelPosition,function(e,n){return n?(n=tt(e,t),rt.test(n)?ie(e).position()[t]+"px":n):void 0})}),ie.each({Height:"height",Width:"width"},function(e,t){ie.each({padding:"inner"+e,content:t,"":"outer"+e},function(n,r){ie.fn[r]=function(r,i){var o=arguments.length&&(n||"boolean"!=typeof r),a=n||(r===!0||i===!0?"margin":"border");return De(this,function(t,n,r){
var i;return ie.isWindow(t)?t.document.documentElement["client"+e]:9===t.nodeType?(i=t.documentElement,Math.max(t.body["scroll"+e],i["scroll"+e],t.body["offset"+e],i["offset"+e],i["client"+e])):void 0===r?ie.css(t,n,a):ie.style(t,n,r,a)},t,o?r:void 0,o,null)}})}),ie.fn.size=function(){return this.length},ie.fn.andSelf=ie.fn.addBack,"function"==typeof define&&define.amd&&define("jquery",[],function(){return ie});var on=e.jQuery,an=e.$;return ie.noConflict=function(t){return e.$===ie&&(e.$=an),t&&e.jQuery===ie&&(e.jQuery=on),ie},typeof t===Ce&&(e.jQuery=e.$=ie),ie});
(function(e){function t(e,t,n){switch(arguments.length){case 2:return null!=e?e:t;case 3:return null!=e?e:null!=t?t:n;default:throw new Error("Implement me")}}function n(e,t){return be.call(e,t)}function s(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1}}function a(e){ge.suppressDeprecationWarnings===!1&&"undefined"!=typeof console&&console.warn&&console.warn("Deprecation warning: "+e)}function i(e,t){var n=!0;return h(function(){return n&&(a(e),n=!1),t.apply(this,arguments)},t)}function r(e,t){yt[e]||(a(t),yt[e]=!0)}function o(e,t){return function(n){return m(e.call(this,n),t)}}function u(e,t){return function(n){return this.localeData().ordinal(e.call(this,n),t)}}function c(){}function l(e,t){t!==!1&&U(e),f(this,e),this._d=new Date(+e._d)}function d(e){var t=k(e),n=t.year||0,s=t.quarter||0,a=t.month||0,i=t.week||0,r=t.day||0,o=t.hour||0,u=t.minute||0,c=t.second||0,l=t.millisecond||0;this._milliseconds=+l+1e3*c+6e4*u+36e5*o,this._days=+r+7*i,this._months=+a+3*s+12*n,this._data={},this._locale=ge.localeData(),this._bubble()}function h(e,t){for(var s in t)n(t,s)&&(e[s]=t[s]);return n(t,"toString")&&(e.toString=t.toString),n(t,"valueOf")&&(e.valueOf=t.valueOf),e}function f(e,t){var n,s,a;if("undefined"!=typeof t._isAMomentObject&&(e._isAMomentObject=t._isAMomentObject),"undefined"!=typeof t._i&&(e._i=t._i),"undefined"!=typeof t._f&&(e._f=t._f),"undefined"!=typeof t._l&&(e._l=t._l),"undefined"!=typeof t._strict&&(e._strict=t._strict),"undefined"!=typeof t._tzm&&(e._tzm=t._tzm),"undefined"!=typeof t._isUTC&&(e._isUTC=t._isUTC),"undefined"!=typeof t._offset&&(e._offset=t._offset),"undefined"!=typeof t._pf&&(e._pf=t._pf),"undefined"!=typeof t._locale&&(e._locale=t._locale),Pe.length>0)for(n in Pe)s=Pe[n],a=t[s],"undefined"!=typeof a&&(e[s]=a);return e}function _(e){return 0>e?Math.ceil(e):Math.floor(e)}function m(e,t,n){for(var s=""+Math.abs(e),a=e>=0;s.length<t;)s="0"+s;return(a?n?"+":"":"-")+s}function y(e,t){var n={milliseconds:0,months:0};return n.months=t.month()-e.month()+12*(t.year()-e.year()),e.clone().add(n.months,"M").isAfter(t)&&--n.months,n.milliseconds=+t-+e.clone().add(n.months,"M"),n}function p(e,t){var n;return t=I(t,e),e.isBefore(t)?n=y(e,t):(n=y(t,e),n.milliseconds=-n.milliseconds,n.months=-n.months),n}function M(e,t){return function(n,s){var a,i;return null===s||isNaN(+s)||(r(t,"moment()."+t+"(period, number) is deprecated. Please use moment()."+t+"(number, period)."),i=n,n=s,s=i),n="string"==typeof n?+n:n,a=ge.duration(n,s),g(this,a,e),this}}function g(e,t,n,s){var a=t._milliseconds,i=t._days,r=t._months;s=null==s?!0:s,a&&e._d.setTime(+e._d+a*n),i&&fe(e,"Date",he(e,"Date")+i*n),r&&de(e,he(e,"Month")+r*n),s&&ge.updateOffset(e,i||r)}function D(e){return"[object Array]"===Object.prototype.toString.call(e)}function Y(e){return"[object Date]"===Object.prototype.toString.call(e)||e instanceof Date}function w(e,t,n){var s,a=Math.min(e.length,t.length),i=Math.abs(e.length-t.length),r=0;for(s=0;a>s;s++)(n&&e[s]!==t[s]||!n&&S(e[s])!==S(t[s]))&&r++;return r+i}function v(e){if(e){var t=e.toLowerCase().replace(/(.)s$/,"$1");e=ct[e]||lt[t]||t}return e}function k(e){var t,s,a={};for(s in e)n(e,s)&&(t=v(s),t&&(a[t]=e[s]));return a}function b(t){var n,s;if(0===t.indexOf("week"))n=7,s="day";else{if(0!==t.indexOf("month"))return;n=12,s="month"}ge[t]=function(a,i){var r,o,u=ge._locale[t],c=[];if("number"==typeof a&&(i=a,a=e),o=function(e){var t=ge().utc().set(s,e);return u.call(ge._locale,t,a||"")},null!=i)return o(i);for(r=0;n>r;r++)c.push(o(r));return c}}function S(e){var t=+e,n=0;return 0!==t&&isFinite(t)&&(n=t>=0?Math.floor(t):Math.ceil(t)),n}function T(e,t){return new Date(Date.UTC(e,t+1,0)).getUTCDate()}function O(e,t,n){return oe(ge([e,11,31+t-n]),t,n).week}function W(e){return G(e)?366:365}function G(e){return e%4===0&&e%100!==0||e%400===0}function U(e){var t;e._a&&-2===e._pf.overflow&&(t=e._a[Te]<0||e._a[Te]>11?Te:e._a[Oe]<1||e._a[Oe]>T(e._a[Se],e._a[Te])?Oe:e._a[We]<0||e._a[We]>24||24===e._a[We]&&(0!==e._a[Ge]||0!==e._a[Ue]||0!==e._a[Ce])?We:e._a[Ge]<0||e._a[Ge]>59?Ge:e._a[Ue]<0||e._a[Ue]>59?Ue:e._a[Ce]<0||e._a[Ce]>999?Ce:-1,e._pf._overflowDayOfYear&&(Se>t||t>Oe)&&(t=Oe),e._pf.overflow=t)}function C(t){return null==t._isValid&&(t._isValid=!isNaN(t._d.getTime())&&t._pf.overflow<0&&!t._pf.empty&&!t._pf.invalidMonth&&!t._pf.nullInput&&!t._pf.invalidFormat&&!t._pf.userInvalidated,t._strict&&(t._isValid=t._isValid&&0===t._pf.charsLeftOver&&0===t._pf.unusedTokens.length&&t._pf.bigHour===e)),t._isValid}function F(e){return e?e.toLowerCase().replace("_","-"):e}function P(e){for(var t,n,s,a,i=0;i<e.length;){for(a=F(e[i]).split("-"),t=a.length,n=F(e[i+1]),n=n?n.split("-"):null;t>0;){if(s=z(a.slice(0,t).join("-")))return s;if(n&&n.length>=t&&w(a,n,!0)>=t-1)break;t--}i++}return null}function z(e){var t=null;if(!Fe[e]&&ze)try{t=ge.locale(),require("./locale/"+e),ge.locale(t)}catch(n){}return Fe[e]}function I(e,t){var n,s;return t._isUTC?(n=t.clone(),s=(ge.isMoment(e)||Y(e)?+e:+ge(e))-+n,n._d.setTime(+n._d+s),ge.updateOffset(n,!1),n):ge(e).local()}function L(e){return e.match(/\[[\s\S]/)?e.replace(/^\[|\]$/g,""):e.replace(/\\/g,"")}function x(e){var t,n,s=e.match(He);for(t=0,n=s.length;n>t;t++)s[t]=mt[s[t]]?mt[s[t]]:L(s[t]);return function(a){var i="";for(t=0;n>t;t++)i+=s[t]instanceof Function?s[t].call(a,e):s[t];return i}}function H(e,t){return e.isValid()?(t=A(t,e.localeData()),dt[t]||(dt[t]=x(t)),dt[t](e)):e.localeData().invalidDate()}function A(e,t){function n(e){return t.longDateFormat(e)||e}var s=5;for(Ae.lastIndex=0;s>=0&&Ae.test(e);)e=e.replace(Ae,n),Ae.lastIndex=0,s-=1;return e}function Z(e,t){var n,s=t._strict;switch(e){case"Q":return Xe;case"DDDD":return Ke;case"YYYY":case"GGGG":case"gggg":return s?et:Ne;case"Y":case"G":case"g":return nt;case"YYYYYY":case"YYYYY":case"GGGGG":case"ggggg":return s?tt:je;case"S":if(s)return Xe;case"SS":if(s)return Be;case"SSS":if(s)return Ke;case"DDD":return Ee;case"MMM":case"MMMM":case"dd":case"ddd":case"dddd":return $e;case"a":case"A":return t._locale._meridiemParse;case"x":return Re;case"X":return Qe;case"Z":case"ZZ":return qe;case"T":return Je;case"SSSS":return Ve;case"MM":case"DD":case"YY":case"GG":case"gg":case"HH":case"hh":case"mm":case"ss":case"ww":case"WW":return s?Be:Ze;case"M":case"D":case"d":case"H":case"h":case"m":case"s":case"w":case"W":case"e":case"E":return Ze;case"Do":return s?t._locale._ordinalParse:t._locale._ordinalParseLenient;default:return n=new RegExp(Q(R(e.replace("\\","")),"i"))}}function E(e){e=e||"";var t=e.match(qe)||[],n=t[t.length-1]||[],s=(n+"").match(ot)||["-",0,0],a=+(60*s[1])+S(s[2]);return"+"===s[0]?-a:a}function N(e,t,n){var s,a=n._a;switch(e){case"Q":null!=t&&(a[Te]=3*(S(t)-1));break;case"M":case"MM":null!=t&&(a[Te]=S(t)-1);break;case"MMM":case"MMMM":s=n._locale.monthsParse(t,e,n._strict),null!=s?a[Te]=s:n._pf.invalidMonth=t;break;case"D":case"DD":null!=t&&(a[Oe]=S(t));break;case"Do":null!=t&&(a[Oe]=S(parseInt(t.match(/\d{1,2}/)[0],10)));break;case"DDD":case"DDDD":null!=t&&(n._dayOfYear=S(t));break;case"YY":a[Se]=ge.parseTwoDigitYear(t);break;case"YYYY":case"YYYYY":case"YYYYYY":a[Se]=S(t);break;case"a":case"A":n._isPm=n._locale.isPM(t);break;case"h":case"hh":n._pf.bigHour=!0;case"H":case"HH":a[We]=S(t);break;case"m":case"mm":a[Ge]=S(t);break;case"s":case"ss":a[Ue]=S(t);break;case"S":case"SS":case"SSS":case"SSSS":a[Ce]=S(1e3*("0."+t));break;case"x":n._d=new Date(S(t));break;case"X":n._d=new Date(1e3*parseFloat(t));break;case"Z":case"ZZ":n._useUTC=!0,n._tzm=E(t);break;case"dd":case"ddd":case"dddd":s=n._locale.weekdaysParse(t),null!=s?(n._w=n._w||{},n._w.d=s):n._pf.invalidWeekday=t;break;case"w":case"ww":case"W":case"WW":case"d":case"e":case"E":e=e.substr(0,1);case"gggg":case"GGGG":case"GGGGG":e=e.substr(0,2),t&&(n._w=n._w||{},n._w[e]=S(t));break;case"gg":case"GG":n._w=n._w||{},n._w[e]=ge.parseTwoDigitYear(t)}}function j(e){var n,s,a,i,r,o,u;n=e._w,null!=n.GG||null!=n.W||null!=n.E?(r=1,o=4,s=t(n.GG,e._a[Se],oe(ge(),1,4).year),a=t(n.W,1),i=t(n.E,1)):(r=e._locale._week.dow,o=e._locale._week.doy,s=t(n.gg,e._a[Se],oe(ge(),r,o).year),a=t(n.w,1),null!=n.d?(i=n.d,r>i&&++a):i=null!=n.e?n.e+r:r),u=ue(s,a,i,o,r),e._a[Se]=u.year,e._dayOfYear=u.dayOfYear}function V(e){var n,s,a,i,r=[];if(!e._d){for(a=q(e),e._w&&null==e._a[Oe]&&null==e._a[Te]&&j(e),e._dayOfYear&&(i=t(e._a[Se],a[Se]),e._dayOfYear>W(i)&&(e._pf._overflowDayOfYear=!0),s=se(i,0,e._dayOfYear),e._a[Te]=s.getUTCMonth(),e._a[Oe]=s.getUTCDate()),n=0;3>n&&null==e._a[n];++n)e._a[n]=r[n]=a[n];for(;7>n;n++)e._a[n]=r[n]=null==e._a[n]?2===n?1:0:e._a[n];24===e._a[We]&&0===e._a[Ge]&&0===e._a[Ue]&&0===e._a[Ce]&&(e._nextDay=!0,e._a[We]=0),e._d=(e._useUTC?se:ne).apply(null,r),null!=e._tzm&&e._d.setUTCMinutes(e._d.getUTCMinutes()+e._tzm),e._nextDay&&(e._a[We]=24)}}function $(e){var t;e._d||(t=k(e._i),e._a=[t.year,t.month,t.day||t.date,t.hour,t.minute,t.second,t.millisecond],V(e))}function q(e){var t=new Date;return e._useUTC?[t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate()]:[t.getFullYear(),t.getMonth(),t.getDate()]}function J(t){if(t._f===ge.ISO_8601)return void B(t);t._a=[],t._pf.empty=!0;var n,s,a,i,r,o=""+t._i,u=o.length,c=0;for(a=A(t._f,t._locale).match(He)||[],n=0;n<a.length;n++)i=a[n],s=(o.match(Z(i,t))||[])[0],s&&(r=o.substr(0,o.indexOf(s)),r.length>0&&t._pf.unusedInput.push(r),o=o.slice(o.indexOf(s)+s.length),c+=s.length),mt[i]?(s?t._pf.empty=!1:t._pf.unusedTokens.push(i),N(i,s,t)):t._strict&&!s&&t._pf.unusedTokens.push(i);t._pf.charsLeftOver=u-c,o.length>0&&t._pf.unusedInput.push(o),t._pf.bigHour===!0&&t._a[We]<=12&&(t._pf.bigHour=e),t._isPm&&t._a[We]<12&&(t._a[We]+=12),t._isPm===!1&&12===t._a[We]&&(t._a[We]=0),V(t),U(t)}function R(e){return e.replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(e,t,n,s,a){return t||n||s||a})}function Q(e){return e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function X(e){var t,n,a,i,r;if(0===e._f.length)return e._pf.invalidFormat=!0,void(e._d=new Date(NaN));for(i=0;i<e._f.length;i++)r=0,t=f({},e),null!=e._useUTC&&(t._useUTC=e._useUTC),t._pf=s(),t._f=e._f[i],J(t),C(t)&&(r+=t._pf.charsLeftOver,r+=10*t._pf.unusedTokens.length,t._pf.score=r,(null==a||a>r)&&(a=r,n=t));h(e,n||t)}function B(e){var t,n,s=e._i,a=st.exec(s);if(a){for(e._pf.iso=!0,t=0,n=it.length;n>t;t++)if(it[t][1].exec(s)){e._f=it[t][0]+(a[6]||" ");break}for(t=0,n=rt.length;n>t;t++)if(rt[t][1].exec(s)){e._f+=rt[t][0];break}s.match(qe)&&(e._f+="Z"),J(e)}else e._isValid=!1}function K(e){B(e),e._isValid===!1&&(delete e._isValid,ge.createFromInputFallback(e))}function ee(e,t){var n,s=[];for(n=0;n<e.length;++n)s.push(t(e[n],n));return s}function te(t){var n,s=t._i;s===e?t._d=new Date:Y(s)?t._d=new Date(+s):null!==(n=Ie.exec(s))?t._d=new Date(+n[1]):"string"==typeof s?K(t):D(s)?(t._a=ee(s.slice(0),function(e){return parseInt(e,10)}),V(t)):"object"==typeof s?$(t):"number"==typeof s?t._d=new Date(s):ge.createFromInputFallback(t)}function ne(e,t,n,s,a,i,r){var o=new Date(e,t,n,s,a,i,r);return 1970>e&&o.setFullYear(e),o}function se(e){var t=new Date(Date.UTC.apply(null,arguments));return 1970>e&&t.setUTCFullYear(e),t}function ae(e,t){if("string"==typeof e)if(isNaN(e)){if(e=t.weekdaysParse(e),"number"!=typeof e)return null}else e=parseInt(e,10);return e}function ie(e,t,n,s,a){return a.relativeTime(t||1,!!n,e,s)}function re(e,t,n){var s=ge.duration(e).abs(),a=ke(s.as("s")),i=ke(s.as("m")),r=ke(s.as("h")),o=ke(s.as("d")),u=ke(s.as("M")),c=ke(s.as("y")),l=a<ht.s&&["s",a]||1===i&&["m"]||i<ht.m&&["mm",i]||1===r&&["h"]||r<ht.h&&["hh",r]||1===o&&["d"]||o<ht.d&&["dd",o]||1===u&&["M"]||u<ht.M&&["MM",u]||1===c&&["y"]||["yy",c];return l[2]=t,l[3]=+e>0,l[4]=n,ie.apply({},l)}function oe(e,t,n){var s,a=n-t,i=n-e.day();return i>a&&(i-=7),a-7>i&&(i+=7),s=ge(e).add(i,"d"),{week:Math.ceil(s.dayOfYear()/7),year:s.year()}}function ue(e,t,n,s,a){var i,r,o=se(e,0,1).getUTCDay();return o=0===o?7:o,n=null!=n?n:a,i=a-o+(o>s?7:0)-(a>o?7:0),r=7*(t-1)+(n-a)+i+1,{year:r>0?e:e-1,dayOfYear:r>0?r:W(e-1)+r}}function ce(t){var n,s=t._i,a=t._f;return t._locale=t._locale||ge.localeData(t._l),null===s||a===e&&""===s?ge.invalid({nullInput:!0}):("string"==typeof s&&(t._i=s=t._locale.preparse(s)),ge.isMoment(s)?new l(s,!0):(a?D(a)?X(t):J(t):te(t),n=new l(t),n._nextDay&&(n.add(1,"d"),n._nextDay=e),n))}function le(e,t){var n,s;if(1===t.length&&D(t[0])&&(t=t[0]),!t.length)return ge();for(n=t[0],s=1;s<t.length;++s)t[s][e](n)&&(n=t[s]);return n}function de(e,t){var n;return"string"==typeof t&&(t=e.localeData().monthsParse(t),"number"!=typeof t)?e:(n=Math.min(e.date(),T(e.year(),t)),e._d["set"+(e._isUTC?"UTC":"")+"Month"](t,n),e)}function he(e,t){return e._d["get"+(e._isUTC?"UTC":"")+t]()}function fe(e,t,n){return"Month"===t?de(e,n):e._d["set"+(e._isUTC?"UTC":"")+t](n)}function _e(e,t){return function(n){return null!=n?(fe(this,e,n),ge.updateOffset(this,t),this):he(this,e)}}function me(e){return 400*e/146097}function ye(e){return 146097*e/400}function pe(e){ge.duration.fn[e]=function(){return this._data[e]}}function Me(e){"undefined"==typeof ender&&(De=ve.moment,ve.moment=e?i("Accessing Moment through the global scope is deprecated, and will be removed in an upcoming release.",ge):ge)}for(var ge,De,Ye,we="2.8.4",ve="undefined"!=typeof global?global:this,ke=Math.round,be=Object.prototype.hasOwnProperty,Se=0,Te=1,Oe=2,We=3,Ge=4,Ue=5,Ce=6,Fe={},Pe=[],ze="undefined"!=typeof module&&module&&module.exports,Ie=/^\/?Date\((\-?\d+)/i,Le=/(\-)?(?:(\d*)\.)?(\d+)\:(\d+)(?:\:(\d+)\.?(\d{3})?)?/,xe=/^(-)?P(?:(?:([0-9,.]*)Y)?(?:([0-9,.]*)M)?(?:([0-9,.]*)D)?(?:T(?:([0-9,.]*)H)?(?:([0-9,.]*)M)?(?:([0-9,.]*)S)?)?|([0-9,.]*)W)$/,He=/(\[[^\[]*\])|(\\)?(Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Q|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|mm?|ss?|S{1,4}|x|X|zz?|ZZ?|.)/g,Ae=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,Ze=/\d\d?/,Ee=/\d{1,3}/,Ne=/\d{1,4}/,je=/[+\-]?\d{1,6}/,Ve=/\d+/,$e=/[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i,qe=/Z|[\+\-]\d\d:?\d\d/gi,Je=/T/i,Re=/[\+\-]?\d+/,Qe=/[\+\-]?\d+(\.\d{1,3})?/,Xe=/\d/,Be=/\d\d/,Ke=/\d{3}/,et=/\d{4}/,tt=/[+-]?\d{6}/,nt=/[+-]?\d+/,st=/^\s*(?:[+-]\d{6}|\d{4})-(?:(\d\d-\d\d)|(W\d\d$)|(W\d\d-\d)|(\d\d\d))((T| )(\d\d(:\d\d(:\d\d(\.\d+)?)?)?)?([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,at="YYYY-MM-DDTHH:mm:ssZ",it=[["YYYYYY-MM-DD",/[+-]\d{6}-\d{2}-\d{2}/],["YYYY-MM-DD",/\d{4}-\d{2}-\d{2}/],["GGGG-[W]WW-E",/\d{4}-W\d{2}-\d/],["GGGG-[W]WW",/\d{4}-W\d{2}/],["YYYY-DDD",/\d{4}-\d{3}/]],rt=[["HH:mm:ss.SSSS",/(T| )\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss",/(T| )\d\d:\d\d:\d\d/],["HH:mm",/(T| )\d\d:\d\d/],["HH",/(T| )\d\d/]],ot=/([\+\-]|\d\d)/gi,ut=("Date|Hours|Minutes|Seconds|Milliseconds".split("|"),{Milliseconds:1,Seconds:1e3,Minutes:6e4,Hours:36e5,Days:864e5,Months:2592e6,Years:31536e6}),ct={ms:"millisecond",s:"second",m:"minute",h:"hour",d:"day",D:"date",w:"week",W:"isoWeek",M:"month",Q:"quarter",y:"year",DDD:"dayOfYear",e:"weekday",E:"isoWeekday",gg:"weekYear",GG:"isoWeekYear"},lt={dayofyear:"dayOfYear",isoweekday:"isoWeekday",isoweek:"isoWeek",weekyear:"weekYear",isoweekyear:"isoWeekYear"},dt={},ht={s:45,m:45,h:22,d:26,M:11},ft="DDD w W M D d".split(" "),_t="M D H h m s w W".split(" "),mt={M:function(){return this.month()+1},MMM:function(e){return this.localeData().monthsShort(this,e)},MMMM:function(e){return this.localeData().months(this,e)},D:function(){return this.date()},DDD:function(){return this.dayOfYear()},d:function(){return this.day()},dd:function(e){return this.localeData().weekdaysMin(this,e)},ddd:function(e){return this.localeData().weekdaysShort(this,e)},dddd:function(e){return this.localeData().weekdays(this,e)},w:function(){return this.week()},W:function(){return this.isoWeek()},YY:function(){return m(this.year()%100,2)},YYYY:function(){return m(this.year(),4)},YYYYY:function(){return m(this.year(),5)},YYYYYY:function(){var e=this.year(),t=e>=0?"+":"-";return t+m(Math.abs(e),6)},gg:function(){return m(this.weekYear()%100,2)},gggg:function(){return m(this.weekYear(),4)},ggggg:function(){return m(this.weekYear(),5)},GG:function(){return m(this.isoWeekYear()%100,2)},GGGG:function(){return m(this.isoWeekYear(),4)},GGGGG:function(){return m(this.isoWeekYear(),5)},e:function(){return this.weekday()},E:function(){return this.isoWeekday()},a:function(){return this.localeData().meridiem(this.hours(),this.minutes(),!0)},A:function(){return this.localeData().meridiem(this.hours(),this.minutes(),!1)},H:function(){return this.hours()},h:function(){return this.hours()%12||12},m:function(){return this.minutes()},s:function(){return this.seconds()},S:function(){return S(this.milliseconds()/100)},SS:function(){return m(S(this.milliseconds()/10),2)},SSS:function(){return m(this.milliseconds(),3)},SSSS:function(){return m(this.milliseconds(),3)},Z:function(){var e=-this.zone(),t="+";return 0>e&&(e=-e,t="-"),t+m(S(e/60),2)+":"+m(S(e)%60,2)},ZZ:function(){var e=-this.zone(),t="+";return 0>e&&(e=-e,t="-"),t+m(S(e/60),2)+m(S(e)%60,2)},z:function(){return this.zoneAbbr()},zz:function(){return this.zoneName()},x:function(){return this.valueOf()},X:function(){return this.unix()},Q:function(){return this.quarter()}},yt={},pt=["months","monthsShort","weekdays","weekdaysShort","weekdaysMin"];ft.length;)Ye=ft.pop(),mt[Ye+"o"]=u(mt[Ye],Ye);for(;_t.length;)Ye=_t.pop(),mt[Ye+Ye]=o(mt[Ye],2);mt.DDDD=o(mt.DDD,3),h(c.prototype,{set:function(e){var t,n;for(n in e)t=e[n],"function"==typeof t?this[n]=t:this["_"+n]=t;this._ordinalParseLenient=new RegExp(this._ordinalParse.source+"|"+/\d{1,2}/.source)},_months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),months:function(e){return this._months[e.month()]},_monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),monthsShort:function(e){return this._monthsShort[e.month()]},monthsParse:function(e,t,n){var s,a,i;for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),s=0;12>s;s++){if(a=ge.utc([2e3,s]),n&&!this._longMonthsParse[s]&&(this._longMonthsParse[s]=new RegExp("^"+this.months(a,"").replace(".","")+"$","i"),this._shortMonthsParse[s]=new RegExp("^"+this.monthsShort(a,"").replace(".","")+"$","i")),n||this._monthsParse[s]||(i="^"+this.months(a,"")+"|^"+this.monthsShort(a,""),this._monthsParse[s]=new RegExp(i.replace(".",""),"i")),n&&"MMMM"===t&&this._longMonthsParse[s].test(e))return s;if(n&&"MMM"===t&&this._shortMonthsParse[s].test(e))return s;if(!n&&this._monthsParse[s].test(e))return s}},_weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdays:function(e){return this._weekdays[e.day()]},_weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysShort:function(e){return this._weekdaysShort[e.day()]},_weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),weekdaysMin:function(e){return this._weekdaysMin[e.day()]},weekdaysParse:function(e){var t,n,s;for(this._weekdaysParse||(this._weekdaysParse=[]),t=0;7>t;t++)if(this._weekdaysParse[t]||(n=ge([2e3,1]).day(t),s="^"+this.weekdays(n,"")+"|^"+this.weekdaysShort(n,"")+"|^"+this.weekdaysMin(n,""),this._weekdaysParse[t]=new RegExp(s.replace(".",""),"i")),this._weekdaysParse[t].test(e))return t},_longDateFormat:{LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY LT",LLLL:"dddd, MMMM D, YYYY LT"},longDateFormat:function(e){var t=this._longDateFormat[e];return!t&&this._longDateFormat[e.toUpperCase()]&&(t=this._longDateFormat[e.toUpperCase()].replace(/MMMM|MM|DD|dddd/g,function(e){return e.slice(1)}),this._longDateFormat[e]=t),t},isPM:function(e){return"p"===(e+"").toLowerCase().charAt(0)},_meridiemParse:/[ap]\.?m?\.?/i,meridiem:function(e,t,n){return e>11?n?"pm":"PM":n?"am":"AM"},_calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},calendar:function(e,t,n){var s=this._calendar[e];return"function"==typeof s?s.apply(t,[n]):s},_relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},relativeTime:function(e,t,n,s){var a=this._relativeTime[n];return"function"==typeof a?a(e,t,n,s):a.replace(/%d/i,e)},pastFuture:function(e,t){var n=this._relativeTime[e>0?"future":"past"];return"function"==typeof n?n(t):n.replace(/%s/i,t)},ordinal:function(e){return this._ordinal.replace("%d",e)},_ordinal:"%d",_ordinalParse:/\d{1,2}/,preparse:function(e){return e},postformat:function(e){return e},week:function(e){return oe(e,this._week.dow,this._week.doy).week},_week:{dow:0,doy:6},_invalidDate:"Invalid date",invalidDate:function(){return this._invalidDate}}),ge=function(t,n,a,i){var r;return"boolean"==typeof a&&(i=a,a=e),r={},r._isAMomentObject=!0,r._i=t,r._f=n,r._l=a,r._strict=i,r._isUTC=!1,r._pf=s(),ce(r)},ge.suppressDeprecationWarnings=!1,ge.createFromInputFallback=i("moment construction falls back to js Date. This is discouraged and will be removed in upcoming major release. Please refer to https://github.com/moment/moment/issues/1407 for more info.",function(e){e._d=new Date(e._i+(e._useUTC?" UTC":""))}),ge.min=function(){var e=[].slice.call(arguments,0);return le("isBefore",e)},ge.max=function(){var e=[].slice.call(arguments,0);return le("isAfter",e)},ge.utc=function(t,n,a,i){var r;return"boolean"==typeof a&&(i=a,a=e),r={},r._isAMomentObject=!0,r._useUTC=!0,r._isUTC=!0,r._l=a,r._i=t,r._f=n,r._strict=i,r._pf=s(),ce(r).utc()},ge.unix=function(e){return ge(1e3*e)},ge.duration=function(e,t){var s,a,i,r,o=e,u=null;return ge.isDuration(e)?o={ms:e._milliseconds,d:e._days,M:e._months}:"number"==typeof e?(o={},t?o[t]=e:o.milliseconds=e):(u=Le.exec(e))?(s="-"===u[1]?-1:1,o={y:0,d:S(u[Oe])*s,h:S(u[We])*s,m:S(u[Ge])*s,s:S(u[Ue])*s,ms:S(u[Ce])*s}):(u=xe.exec(e))?(s="-"===u[1]?-1:1,i=function(e){var t=e&&parseFloat(e.replace(",","."));return(isNaN(t)?0:t)*s},o={y:i(u[2]),M:i(u[3]),d:i(u[4]),h:i(u[5]),m:i(u[6]),s:i(u[7]),w:i(u[8])}):"object"==typeof o&&("from"in o||"to"in o)&&(r=p(ge(o.from),ge(o.to)),o={},o.ms=r.milliseconds,o.M=r.months),a=new d(o),ge.isDuration(e)&&n(e,"_locale")&&(a._locale=e._locale),a},ge.version=we,ge.defaultFormat=at,ge.ISO_8601=function(){},ge.momentProperties=Pe,ge.updateOffset=function(){},ge.relativeTimeThreshold=function(t,n){return ht[t]===e?!1:n===e?ht[t]:(ht[t]=n,!0)},ge.lang=i("moment.lang is deprecated. Use moment.locale instead.",function(e,t){return ge.locale(e,t)}),ge.locale=function(e,t){var n;return e&&(n="undefined"!=typeof t?ge.defineLocale(e,t):ge.localeData(e),n&&(ge.duration._locale=ge._locale=n)),ge._locale._abbr},ge.defineLocale=function(e,t){return null!==t?(t.abbr=e,Fe[e]||(Fe[e]=new c),Fe[e].set(t),ge.locale(e),Fe[e]):(delete Fe[e],null)},ge.langData=i("moment.langData is deprecated. Use moment.localeData instead.",function(e){return ge.localeData(e)}),ge.localeData=function(e){var t;if(e&&e._locale&&e._locale._abbr&&(e=e._locale._abbr),!e)return ge._locale;if(!D(e)){if(t=z(e))return t;e=[e]}return P(e)},ge.isMoment=function(e){return e instanceof l||null!=e&&n(e,"_isAMomentObject")},ge.isDuration=function(e){return e instanceof d};for(Ye=pt.length-1;Ye>=0;--Ye)b(pt[Ye]);ge.normalizeUnits=function(e){return v(e)},ge.invalid=function(e){var t=ge.utc(NaN);return null!=e?h(t._pf,e):t._pf.userInvalidated=!0,t},ge.parseZone=function(){return ge.apply(null,arguments).parseZone()},ge.parseTwoDigitYear=function(e){return S(e)+(S(e)>68?1900:2e3)},h(ge.fn=l.prototype,{clone:function(){return ge(this)},valueOf:function(){return+this._d+6e4*(this._offset||0)},unix:function(){return Math.floor(+this/1e3)},toString:function(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")},toDate:function(){return this._offset?new Date(+this):this._d},toISOString:function(){var e=ge(this).utc();return 0<e.year()&&e.year()<=9999?"function"==typeof Date.prototype.toISOString?this.toDate().toISOString():H(e,"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]"):H(e,"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]")},toArray:function(){var e=this;return[e.year(),e.month(),e.date(),e.hours(),e.minutes(),e.seconds(),e.milliseconds()]},isValid:function(){return C(this)},isDSTShifted:function(){return this._a?this.isValid()&&w(this._a,(this._isUTC?ge.utc(this._a):ge(this._a)).toArray())>0:!1},parsingFlags:function(){return h({},this._pf)},invalidAt:function(){return this._pf.overflow},utc:function(e){return this.zone(0,e)},local:function(e){return this._isUTC&&(this.zone(0,e),this._isUTC=!1,e&&this.add(this._dateTzOffset(),"m")),this},format:function(e){var t=H(this,e||ge.defaultFormat);return this.localeData().postformat(t)},add:M(1,"add"),subtract:M(-1,"subtract"),diff:function(e,t,n){var s,a,i,r=I(e,this),o=6e4*(this.zone()-r.zone());return t=v(t),"year"===t||"month"===t?(s=432e5*(this.daysInMonth()+r.daysInMonth()),a=12*(this.year()-r.year())+(this.month()-r.month()),i=this-ge(this).startOf("month")-(r-ge(r).startOf("month")),i-=6e4*(this.zone()-ge(this).startOf("month").zone()-(r.zone()-ge(r).startOf("month").zone())),a+=i/s,"year"===t&&(a/=12)):(s=this-r,a="second"===t?s/1e3:"minute"===t?s/6e4:"hour"===t?s/36e5:"day"===t?(s-o)/864e5:"week"===t?(s-o)/6048e5:s),n?a:_(a)},from:function(e,t){return ge.duration({to:this,from:e}).locale(this.locale()).humanize(!t)},fromNow:function(e){return this.from(ge(),e)},calendar:function(e){var t=e||ge(),n=I(t,this).startOf("day"),s=this.diff(n,"days",!0),a=-6>s?"sameElse":-1>s?"lastWeek":0>s?"lastDay":1>s?"sameDay":2>s?"nextDay":7>s?"nextWeek":"sameElse";return this.format(this.localeData().calendar(a,this,ge(t)))},isLeapYear:function(){return G(this.year())},isDST:function(){return this.zone()<this.clone().month(0).zone()||this.zone()<this.clone().month(5).zone()},day:function(e){var t=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=e?(e=ae(e,this.localeData()),this.add(e-t,"d")):t},month:_e("Month",!0),startOf:function(e){switch(e=v(e)){case"year":this.month(0);case"quarter":case"month":this.date(1);case"week":case"isoWeek":case"day":this.hours(0);case"hour":this.minutes(0);case"minute":this.seconds(0);case"second":this.milliseconds(0)}return"week"===e?this.weekday(0):"isoWeek"===e&&this.isoWeekday(1),"quarter"===e&&this.month(3*Math.floor(this.month()/3)),this},endOf:function(t){return t=v(t),t===e||"millisecond"===t?this:this.startOf(t).add(1,"isoWeek"===t?"week":t).subtract(1,"ms")},isAfter:function(e,t){var n;return t=v("undefined"!=typeof t?t:"millisecond"),"millisecond"===t?(e=ge.isMoment(e)?e:ge(e),+this>+e):(n=ge.isMoment(e)?+e:+ge(e),n<+this.clone().startOf(t))},isBefore:function(e,t){var n;return t=v("undefined"!=typeof t?t:"millisecond"),"millisecond"===t?(e=ge.isMoment(e)?e:ge(e),+e>+this):(n=ge.isMoment(e)?+e:+ge(e),+this.clone().endOf(t)<n)},isSame:function(e,t){var n;return t=v(t||"millisecond"),"millisecond"===t?(e=ge.isMoment(e)?e:ge(e),+this===+e):(n=+ge(e),+this.clone().startOf(t)<=n&&n<=+this.clone().endOf(t))},min:i("moment().min is deprecated, use moment.min instead. https://github.com/moment/moment/issues/1548",function(e){return e=ge.apply(null,arguments),this>e?this:e}),max:i("moment().max is deprecated, use moment.max instead. https://github.com/moment/moment/issues/1548",function(e){return e=ge.apply(null,arguments),e>this?this:e}),zone:function(e,t){var n,s=this._offset||0;return null==e?this._isUTC?s:this._dateTzOffset():("string"==typeof e&&(e=E(e)),Math.abs(e)<16&&(e=60*e),!this._isUTC&&t&&(n=this._dateTzOffset()),this._offset=e,this._isUTC=!0,null!=n&&this.subtract(n,"m"),s!==e&&(!t||this._changeInProgress?g(this,ge.duration(s-e,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,ge.updateOffset(this,!0),this._changeInProgress=null)),this)},zoneAbbr:function(){return this._isUTC?"UTC":""},zoneName:function(){return this._isUTC?"Coordinated Universal Time":""},parseZone:function(){return this._tzm?this.zone(this._tzm):"string"==typeof this._i&&this.zone(this._i),this},hasAlignedHourOffset:function(e){return e=e?ge(e).zone():0,(this.zone()-e)%60===0},daysInMonth:function(){return T(this.year(),this.month())},dayOfYear:function(e){var t=ke((ge(this).startOf("day")-ge(this).startOf("year"))/864e5)+1;return null==e?t:this.add(e-t,"d")},quarter:function(e){return null==e?Math.ceil((this.month()+1)/3):this.month(3*(e-1)+this.month()%3)},weekYear:function(e){var t=oe(this,this.localeData()._week.dow,this.localeData()._week.doy).year;return null==e?t:this.add(e-t,"y")},isoWeekYear:function(e){var t=oe(this,1,4).year;return null==e?t:this.add(e-t,"y")},week:function(e){var t=this.localeData().week(this);return null==e?t:this.add(7*(e-t),"d")},isoWeek:function(e){var t=oe(this,1,4).week;return null==e?t:this.add(7*(e-t),"d")},weekday:function(e){var t=(this.day()+7-this.localeData()._week.dow)%7;return null==e?t:this.add(e-t,"d")},isoWeekday:function(e){return null==e?this.day()||7:this.day(this.day()%7?e:e-7)},isoWeeksInYear:function(){return O(this.year(),1,4)},weeksInYear:function(){var e=this.localeData()._week;return O(this.year(),e.dow,e.doy)},get:function(e){return e=v(e),this[e]()},set:function(e,t){return e=v(e),"function"==typeof this[e]&&this[e](t),this},locale:function(t){var n;return t===e?this._locale._abbr:(n=ge.localeData(t),null!=n&&(this._locale=n),this)},lang:i("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(t){return t===e?this.localeData():this.locale(t)}),localeData:function(){return this._locale},_dateTzOffset:function(){return 15*Math.round(this._d.getTimezoneOffset()/15)}}),ge.fn.millisecond=ge.fn.milliseconds=_e("Milliseconds",!1),ge.fn.second=ge.fn.seconds=_e("Seconds",!1),ge.fn.minute=ge.fn.minutes=_e("Minutes",!1),ge.fn.hour=ge.fn.hours=_e("Hours",!0),ge.fn.date=_e("Date",!0),ge.fn.dates=i("dates accessor is deprecated. Use date instead.",_e("Date",!0)),ge.fn.year=_e("FullYear",!0),ge.fn.years=i("years accessor is deprecated. Use year instead.",_e("FullYear",!0)),ge.fn.days=ge.fn.day,ge.fn.months=ge.fn.month,ge.fn.weeks=ge.fn.week,ge.fn.isoWeeks=ge.fn.isoWeek,ge.fn.quarters=ge.fn.quarter,ge.fn.toJSON=ge.fn.toISOString,h(ge.duration.fn=d.prototype,{_bubble:function(){var e,t,n,s=this._milliseconds,a=this._days,i=this._months,r=this._data,o=0;r.milliseconds=s%1e3,e=_(s/1e3),r.seconds=e%60,t=_(e/60),r.minutes=t%60,n=_(t/60),r.hours=n%24,a+=_(n/24),o=_(me(a)),a-=_(ye(o)),i+=_(a/30),a%=30,o+=_(i/12),i%=12,r.days=a,r.months=i,r.years=o},abs:function(){return this._milliseconds=Math.abs(this._milliseconds),this._days=Math.abs(this._days),this._months=Math.abs(this._months),this._data.milliseconds=Math.abs(this._data.milliseconds),this._data.seconds=Math.abs(this._data.seconds),this._data.minutes=Math.abs(this._data.minutes),this._data.hours=Math.abs(this._data.hours),this._data.months=Math.abs(this._data.months),this._data.years=Math.abs(this._data.years),this},weeks:function(){return _(this.days()/7)},valueOf:function(){return this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*S(this._months/12)},humanize:function(e){var t=re(this,!e,this.localeData());return e&&(t=this.localeData().pastFuture(+this,t)),this.localeData().postformat(t)},add:function(e,t){var n=ge.duration(e,t);return this._milliseconds+=n._milliseconds,this._days+=n._days,this._months+=n._months,this._bubble(),this},subtract:function(e,t){var n=ge.duration(e,t);return this._milliseconds-=n._milliseconds,this._days-=n._days,this._months-=n._months,this._bubble(),this},get:function(e){return e=v(e),this[e.toLowerCase()+"s"]()},as:function(e){var t,n;if(e=v(e),"month"===e||"year"===e)return t=this._days+this._milliseconds/864e5,n=this._months+12*me(t),"month"===e?n:n/12;switch(t=this._days+Math.round(ye(this._months/12)),e){case"week":return t/7+this._milliseconds/6048e5;case"day":return t+this._milliseconds/864e5;case"hour":return 24*t+this._milliseconds/36e5;case"minute":return 24*t*60+this._milliseconds/6e4;case"second":
return 24*t*60*60+this._milliseconds/1e3;case"millisecond":return Math.floor(24*t*60*60*1e3)+this._milliseconds;default:throw new Error("Unknown unit "+e)}},lang:ge.fn.lang,locale:ge.fn.locale,toIsoString:i("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",function(){return this.toISOString()}),toISOString:function(){var e=Math.abs(this.years()),t=Math.abs(this.months()),n=Math.abs(this.days()),s=Math.abs(this.hours()),a=Math.abs(this.minutes()),i=Math.abs(this.seconds()+this.milliseconds()/1e3);return this.asSeconds()?(this.asSeconds()<0?"-":"")+"P"+(e?e+"Y":"")+(t?t+"M":"")+(n?n+"D":"")+(s||a||i?"T":"")+(s?s+"H":"")+(a?a+"M":"")+(i?i+"S":""):"P0D"},localeData:function(){return this._locale}}),ge.duration.fn.toString=ge.duration.fn.toISOString;for(Ye in ut)n(ut,Ye)&&pe(Ye.toLowerCase());ge.duration.fn.asMilliseconds=function(){return this.as("ms")},ge.duration.fn.asSeconds=function(){return this.as("s")},ge.duration.fn.asMinutes=function(){return this.as("m")},ge.duration.fn.asHours=function(){return this.as("h")},ge.duration.fn.asDays=function(){return this.as("d")},ge.duration.fn.asWeeks=function(){return this.as("weeks")},ge.duration.fn.asMonths=function(){return this.as("M")},ge.duration.fn.asYears=function(){return this.as("y")},ge.locale("en",{ordinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(e){var t=e%10,n=1===S(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th";return e+n}}),ze?module.exports=ge:"function"==typeof define&&define.amd?(define("moment",function(e,t,n){return n.config&&n.config()&&n.config().noGlobal===!0&&(ve.moment=De),ge}),Me(!0)):Me()}).call(this);
!function(t){"use strict";function e(t,e,a){return t=t.replace(/[(^\s)(\s$)]/g,""),t.length?t+"/"+e+"."+a:e+"."+a}function a(t){return e(l.partialPath,t,l.partialExtension)}function r(e,r){t.get(a(e),function(t){Handlebars.registerPartial(r,Handlebars.compile(t))},"text")}var n={},i={templatePath:"",templateExtension:"handlebars",partialPath:"",partialExtension:"partial"},l=t.extend({},i);t.handlebars=function(){if("string"!=typeof arguments[0]){var e=arguments[0];if(l=t.extend(i,e),l.templatePath=l.templatePath.replace(/\\\/$/,""),l.partialPath=l.partialPath.replace(/\\\/$/,""),e.hasOwnProperty("partials")){var a;a="string"!=typeof e.partials?e.partials:e.partials.split(/\s+/g);for(var n=0;n<a.length;n++)r(a[n],a[n])}}else switch(arguments[0]){case"partial":arguments.length<3?r(arguments[1],arguments[1]):r(arguments[1],arguments[2]);break;case"helper":Handlebars.registerHelper(arguments[1],arguments[2]);break;default:throw"invalid action specified to jQuery.handlebars: "+arguments[0]}},t.handlebarsPreload=function(t){var e=t;if(!n.hasOwnProperty(e)){n[e]=wints.templates[e]}},t.fn.render=function(t,e,a){var r=t;if(n.hasOwnProperty(r))this.html(n[r](e)).trigger("render.handlebars",[t,e]),a&&a();else{var i=this;n[r]=wints.templates[r],n[r]=wints.templates[r],i.html(n[r](e)).trigger("render.handlebars",[t,e]),a&&a()}return this}}(jQuery);
$.fn.shiftSelectable=function(){var i,e=this;e.off("click"),e.click(function(c){if(!i)return void(i=this);if(c.shiftKey){var t=e.index(this),h=e.index(i);e.slice(Math.min(t,h),Math.max(t,h)+1).prop("checked",i.checked).trigger("change")}i=this})};
!function(e){"function"==typeof define&&define.amd?define(["jquery"],e):"object"==typeof module&&"object"==typeof module.exports?module.exports=e(require("jquery")):e(jQuery)}(function(e){return function(e){"use strict";e.extend({tablesorter:new function(){function t(t,r,s,o){for(var a,n,i=m.parsers.length,d=!1,c="",l=!0;""===c&&l;)s++,r[s]?(d=r[s].cells[o],c=m.getElementText(t,d,o),n=e(d),t.debug&&console.log("Checking if value was empty on row "+s+", column: "+o+': "'+c+'"')):l=!1;for(;--i>=0;)if(a=m.parsers[i],a&&"text"!==a.id&&a.is&&a.is(c,t.table,d,n))return a;return m.getParserById("text")}function r(e,r){var s,o,a,n,i,d,c,l,g,p,u,f,h=e.table,b=0,y={};if(e.$tbodies=e.$table.children("tbody:not(."+e.cssInfoBlock+")"),u="undefined"==typeof r?e.$tbodies:r,f=u.length,0===f)return e.debug?console.warn("Warning: *Empty table!* Not building a parser cache"):"";for(e.debug&&(p=new Date,console[console.group?"group":"log"]("Detecting parsers for each column")),o={extractors:[],parsers:[]};f>b;){if(s=u[b].rows,s.length)for(a=e.columns,n=0;a>n;n++)i=e.$headerIndexed[n],d=m.getColumnData(h,e.headers,n),g=m.getParserById(m.getData(i,d,"extractor")),l=m.getParserById(m.getData(i,d,"sorter")),c="false"===m.getData(i,d,"parser"),e.empties[n]=(m.getData(i,d,"empty")||e.emptyTo||(e.emptyToBottom?"bottom":"top")).toLowerCase(),e.strings[n]=(m.getData(i,d,"string")||e.stringTo||"max").toLowerCase(),c&&(l=m.getParserById("no-parser")),g||(g=!1),l||(l=t(e,s,-1,n)),e.debug&&(y["("+n+") "+i.text()]={parser:l.id,extractor:g?g.id:"none",string:e.strings[n],empty:e.empties[n]}),o.parsers[n]=l,o.extractors[n]=g;b+=o.parsers.length?f:1}e.debug&&(m.isEmptyObject(y)?console.warn("  No parsers detected!"):console[console.table?"table":"log"](y),console.log("Completed detecting parsers"+m.benchmark(p)),console.groupEnd&&console.groupEnd()),e.parsers=o.parsers,e.extractors=o.extractors}function s(t,r,s){var o,a,n,i,d,c,l,g,p,u,f,h,b,y,x=t.config,w=x.parsers;if(x.$tbodies=x.$table.children("tbody:not(."+x.cssInfoBlock+")"),l="undefined"==typeof s?x.$tbodies:s,x.cache={},x.totalRows=0,!w)return x.debug?console.warn("Warning: *Empty table!* Not building a cache"):"";for(x.debug&&(u=new Date),x.showProcessing&&m.isProcessing(t,!0),c=0;c<l.length;c++){for(y=[],o=x.cache[c]={normalized:[]},f=l[c]&&l[c].rows.length||0,i=0;f>i;++i)if(h={child:[],raw:[]},g=e(l[c].rows[i]),p=[],g.hasClass(x.cssChildRow)&&0!==i)for(a=o.normalized.length-1,b=o.normalized[a][x.columns],b.$row=b.$row.add(g),g.prev().hasClass(x.cssChildRow)||g.prev().addClass(m.css.cssHasChild),n=g.children("th, td"),a=b.child.length,b.child[a]=[],d=0;d<x.columns;d++)b.child[a][d]=m.getParsedText(x,n[d],d);else{for(h.$row=g,h.order=i,d=0;d<x.columns;++d)"undefined"!=typeof w[d]?(a=m.getElementText(x,g[0].cells[d],d),h.raw.push(a),n=m.getParsedText(x,g[0].cells[d],d,a),p.push(n),"numeric"===(w[d].type||"").toLowerCase()&&(y[d]=Math.max(Math.abs(n)||0,y[d]||0))):x.debug&&console.warn("No parser found for cell:",g[0].cells[d],"does it have a header?");p[x.columns]=h,o.normalized.push(p)}o.colMax=y,x.totalRows+=o.normalized.length}x.showProcessing&&m.isProcessing(t),x.debug&&console.log("Building cache for "+f+" rows"+m.benchmark(u)),e.isFunction(r)&&r(t)}function o(e){return/^d/i.test(e)||1===e}function a(t){var r,s,a,n,d,c,l,g;for(t.headerList=[],t.headerContent=[],t.debug&&(l=new Date),t.columns=m.computeColumnIndex(t.$table.children("thead, tfoot").children("tr")),n=t.cssIcon?'<i class="'+(t.cssIcon===m.css.icon?m.css.icon:t.cssIcon+" "+m.css.icon)+'"></i>':"",t.$headers=e(e.map(t.$table.find(t.selectorHeaders),function(i,l){return s=e(i),s.parent().hasClass(t.cssIgnoreRow)?void 0:(r=m.getColumnData(t.table,t.headers,l,!0),t.headerContent[l]=s.html(),""===t.headerTemplate||s.find("."+m.css.headerIn).length||(d=t.headerTemplate.replace(m.regex.templateContent,s.html()).replace(m.regex.templateIcon,s.find("."+m.css.icon).length?"":n),t.onRenderTemplate&&(a=t.onRenderTemplate.apply(s,[l,d]),a&&"string"==typeof a&&(d=a)),s.html('<div class="'+m.css.headerIn+'">'+d+"</div>")),t.onRenderHeader&&t.onRenderHeader.apply(s,[l,t,t.$table]),i.column=parseInt(s.attr("data-column"),10),i.order=o(m.getData(s,r,"sortInitialOrder")||t.sortInitialOrder)?[1,0,2]:[0,1,2],i.count=-1,i.lockedOrder=!1,c=m.getData(s,r,"lockedOrder")||!1,"undefined"!=typeof c&&c!==!1&&(i.order=i.lockedOrder=o(c)?[1,1,1]:[0,0,0]),s.addClass(m.css.header+" "+t.cssHeader),t.headerList[l]=i,s.parent().addClass(m.css.headerRow+" "+t.cssHeaderRow).attr("role","row"),t.tabIndex&&s.attr("tabindex",0),i)})),t.$headerIndexed=[],g=0;g<t.columns;g++)s=t.$headers.filter('[data-column="'+g+'"]'),t.$headerIndexed[g]=s.not(".sorter-false").length?s.not(".sorter-false").filter(":last"):s.filter(":last");t.$table.find(t.selectorHeaders).attr({scope:"col",role:"columnheader"}),i(t.table),t.debug&&(console.log("Built headers:"+m.benchmark(l)),console.log(t.$headers))}function n(e,t,o){var a=e.config;a.$table.find(a.selectorRemove).remove(),r(a),s(e),f(a,t,o)}function i(e){var t,r,s,o,a=e.config,n=a.$headers.length;for(t=0;n>t;t++)s=a.$headers.eq(t),o=m.getColumnData(e,a.headers,t,!0),r="false"===m.getData(s,o,"sorter")||"false"===m.getData(s,o,"parser"),s[0].sortDisabled=r,s[r?"addClass":"removeClass"]("sorter-false").attr("aria-disabled",""+r),e.id&&(r?s.removeAttr("aria-controls"):s.attr("aria-controls",e.id))}function d(t){var r,s,o,a,n,i,d,c,l=t.config,g=l.sortList,p=g.length,u=m.css.sortNone+" "+l.cssNone,f=[m.css.sortAsc+" "+l.cssAsc,m.css.sortDesc+" "+l.cssDesc],h=[l.cssIconAsc,l.cssIconDesc,l.cssIconNone],b=["ascending","descending"],y=e(t).find("tfoot tr").children().add(e(l.namespace+"_extra_headers")).removeClass(f.join(" "));for(l.$headers.removeClass(f.join(" ")).addClass(u).attr("aria-sort","none").find("."+m.css.icon).removeClass(h.join(" ")).addClass(h[2]),o=0;p>o;o++)if(2!==g[o][1]&&(r=l.$headers.not(".sorter-false").filter('[data-column="'+g[o][0]+'"]'+(1===p?":last":"")),r.length)){for(a=0;a<r.length;a++)r[a].sortDisabled||r.eq(a).removeClass(u).addClass(f[g[o][1]]).attr("aria-sort",b[g[o][1]]).find("."+m.css.icon).removeClass(h[2]).addClass(h[g[o][1]]);y.length&&y.filter('[data-column="'+g[o][0]+'"]').removeClass(u).addClass(f[g[o][1]])}for(p=l.$headers.length,n=l.$headers.not(".sorter-false"),o=0;p>o;o++)i=n.eq(o),i.length&&(s=n[o],d=s.order[(s.count+1)%(l.sortReset?3:2)],c=e.trim(i.text())+": "+m.language[i.hasClass(m.css.sortAsc)?"sortAsc":i.hasClass(m.css.sortDesc)?"sortDesc":"sortNone"]+m.language[0===d?"nextAsc":1===d?"nextDesc":"nextNone"],i.attr("aria-label",c))}function c(t,r){var s,o,a,n,i,d,c,l,g=t.config,p=r||g.sortList,u=p.length;for(g.sortList=[],i=0;u>i;i++)if(l=p[i],s=parseInt(l[0],10),s<g.columns&&g.$headerIndexed[s]){switch(n=g.$headerIndexed[s][0],o=(""+l[1]).match(/^(1|d|s|o|n)/),o=o?o[0]:""){case"1":case"d":o=1;break;case"s":o=d||0;break;case"o":c=n.order[(d||0)%(g.sortReset?3:2)],o=0===c?1:1===c?0:2;break;case"n":n.count=n.count+1,o=n.order[n.count%(g.sortReset?3:2)];break;default:o=0}d=0===i?o:d,a=[s,parseInt(o,10)||0],g.sortList.push(a),o=e.inArray(a[1],n.order),n.count=o>=0?o:a[1]%(g.sortReset?3:2)}}function l(e,t){return e&&e[t]?e[t].type||"":""}function g(t,r,s){if(t.isUpdating)return setTimeout(function(){g(t,r,s)},50);var o,a,n,i,c,l,u,f=t.config,h=!s[f.sortMultiSortKey],b=f.$table,y=f.$headers.length;if(b.trigger("sortStart",t),r.count=s[f.sortResetKey]?2:(r.count+1)%(f.sortReset?3:2),f.sortRestart)for(a=r,n=0;y>n;n++)u=f.$headers.eq(n),u[0]===a||!h&&u.is("."+m.css.sortDesc+",."+m.css.sortAsc)||(u[0].count=-1);if(a=parseInt(e(r).attr("data-column"),10),h){if(f.sortList=[],null!==f.sortForce)for(o=f.sortForce,i=0;i<o.length;i++)o[i][0]!==a&&f.sortList.push(o[i]);if(c=r.order[r.count],2>c&&(f.sortList.push([a,c]),r.colSpan>1))for(i=1;i<r.colSpan;i++)f.sortList.push([a+i,c])}else{if(f.sortAppend&&f.sortList.length>1)for(i=0;i<f.sortAppend.length;i++)l=m.isValueInArray(f.sortAppend[i][0],f.sortList),l>=0&&f.sortList.splice(l,1);if(m.isValueInArray(a,f.sortList)>=0)for(i=0;i<f.sortList.length;i++)l=f.sortList[i],c=f.$headerIndexed[l[0]][0],l[0]===a&&(l[1]=c.order[r.count],2===l[1]&&(f.sortList.splice(i,1),c.count=-1));else if(c=r.order[r.count],2>c&&(f.sortList.push([a,c]),r.colSpan>1))for(i=1;i<r.colSpan;i++)f.sortList.push([a+i,c])}if(null!==f.sortAppend)for(o=f.sortAppend,i=0;i<o.length;i++)o[i][0]!==a&&f.sortList.push(o[i]);b.trigger("sortBegin",t),setTimeout(function(){d(t),p(t),m.appendCache(f),b.trigger("sortEnd",t)},1)}function p(e){var t,r,s,o,a,n,i,d,c,g,p,u=0,f=e.config,h=f.textSorter||"",b=f.sortList,y=b.length,x=f.$tbodies.length;if(!f.serverSideSorting&&!m.isEmptyObject(f.cache)){for(f.debug&&(a=new Date),r=0;x>r;r++)n=f.cache[r].colMax,i=f.cache[r].normalized,i.sort(function(r,a){for(t=0;y>t;t++){if(o=b[t][0],d=b[t][1],u=0===d,f.sortStable&&r[o]===a[o]&&1===y)return r[f.columns].order-a[f.columns].order;if(s=/n/i.test(l(f.parsers,o)),s&&f.strings[o]?(s="boolean"==typeof f.string[f.strings[o]]?(u?1:-1)*(f.string[f.strings[o]]?-1:1):f.strings[o]?f.string[f.strings[o]]||0:0,c=f.numberSorter?f.numberSorter(r[o],a[o],u,n[o],e):m["sortNumeric"+(u?"Asc":"Desc")](r[o],a[o],s,n[o],o,e)):(g=u?r:a,p=u?a:r,c="function"==typeof h?h(g[o],p[o],u,o,e):"object"==typeof h&&h.hasOwnProperty(o)?h[o](g[o],p[o],u,o,e):m["sortNatural"+(u?"Asc":"Desc")](r[o],a[o],o,e,f)),c)return c}return r[f.columns].order-a[f.columns].order});f.debug&&console.log("Sorting on "+b.toString()+" and dir "+d+" time"+m.benchmark(a))}}function u(t,r){t.table.isUpdating&&t.$table.trigger("updateComplete",t.table),e.isFunction(r)&&r(t.table)}function f(t,r,s){var o=e.isArray(r)?r:t.sortList,a="undefined"==typeof r?t.resort:r;a===!1||t.serverSideSorting||t.table.isProcessing?(u(t,s),m.applyWidget(t.table,!1)):o.length?t.$table.trigger("sorton",[o,function(){u(t,s)},!0]):t.$table.trigger("sortReset",[function(){u(t,s),m.applyWidget(t.table,!1)}])}function h(t){var r=t.config,s=r.$table,o="sortReset update updateRows updateAll updateHeaders addRows updateCell updateComplete sorton appendCache updateCache applyWidgetId applyWidgets refreshWidgets destroy mouseup mouseleave ".split(" ").join(r.namespace+" ");s.unbind(o.replace(m.regex.spaces," ")).bind("sortReset"+r.namespace,function(e,t){e.stopPropagation(),m.sortReset(this.config,t)}).bind("updateAll"+r.namespace,function(e,t,r){e.stopPropagation(),m.updateAll(this.config,t,r)}).bind("update"+r.namespace+" updateRows"+r.namespace,function(e,t,r){e.stopPropagation(),m.update(this.config,t,r)}).bind("updateHeaders"+r.namespace,function(e,t){e.stopPropagation(),m.updateHeaders(this.config,t)}).bind("updateCell"+r.namespace,function(e,t,r,s){e.stopPropagation(),m.updateCell(this.config,t,r,s)}).bind("addRows"+r.namespace,function(e,t,r,s){e.stopPropagation(),m.addRows(this.config,t,r,s)}).bind("updateComplete"+r.namespace,function(){t.isUpdating=!1}).bind("sorton"+r.namespace,function(e,t,r,s){e.stopPropagation(),m.sortOn(this.config,t,r,s)}).bind("appendCache"+r.namespace,function(r,s,o){r.stopPropagation(),m.appendCache(this.config,o),e.isFunction(s)&&s(t)}).bind("updateCache"+r.namespace,function(e,t,r){e.stopPropagation(),m.updateCache(this.config,t,r)}).bind("applyWidgetId"+r.namespace,function(e,r){e.stopPropagation(),m.getWidgetById(r).format(t,this.config,this.config.widgetOptions)}).bind("applyWidgets"+r.namespace,function(e,r){e.stopPropagation(),m.applyWidget(t,r)}).bind("refreshWidgets"+r.namespace,function(e,r,s){e.stopPropagation(),m.refreshWidgets(t,r,s)}).bind("destroy"+r.namespace,function(e,r,s){e.stopPropagation(),m.destroy(t,r,s)}).bind("resetToLoadState"+r.namespace,function(s){s.stopPropagation(),m.removeWidget(t,!0,!1),r=e.extend(!0,m.defaults,r.originalSettings),t.hasInitialized=!1,m.setup(t,r)})}var m=this;m.version="2.23.2",m.parsers=[],m.widgets=[],m.defaults={theme:"default",widthFixed:!1,showProcessing:!1,headerTemplate:"{content}",onRenderTemplate:null,onRenderHeader:null,cancelSelection:!0,tabIndex:!0,dateFormat:"mmddyyyy",sortMultiSortKey:"shiftKey",sortResetKey:"ctrlKey",usNumberFormat:!0,delayInit:!1,serverSideSorting:!1,resort:!0,headers:{},ignoreCase:!0,sortForce:null,sortList:[],sortAppend:null,sortStable:!1,sortInitialOrder:"asc",sortLocaleCompare:!1,sortReset:!1,sortRestart:!1,emptyTo:"bottom",stringTo:"max",textExtraction:"basic",textAttribute:"data-text",textSorter:null,numberSorter:null,widgets:[],widgetOptions:{zebra:["even","odd"]},initWidgets:!0,widgetClass:"widget-{name}",initialized:null,tableClass:"",cssAsc:"",cssDesc:"",cssNone:"",cssHeader:"",cssHeaderRow:"",cssProcessing:"",cssChildRow:"tablesorter-childRow",cssIcon:"tablesorter-icon",cssIconNone:"",cssIconAsc:"",cssIconDesc:"",cssInfoBlock:"tablesorter-infoOnly",cssNoSort:"tablesorter-noSort",cssIgnoreRow:"tablesorter-ignoreRow",pointerClick:"click",pointerDown:"mousedown",pointerUp:"mouseup",selectorHeaders:"> thead th, > thead td",selectorSort:"th, td",selectorRemove:".remove-me",debug:!1,headerList:[],empties:{},strings:{},parsers:[]},m.css={table:"tablesorter",cssHasChild:"tablesorter-hasChildRow",childRow:"tablesorter-childRow",colgroup:"tablesorter-colgroup",header:"tablesorter-header",headerRow:"tablesorter-headerRow",headerIn:"tablesorter-header-inner",icon:"tablesorter-icon",processing:"tablesorter-processing",sortAsc:"tablesorter-headerAsc",sortDesc:"tablesorter-headerDesc",sortNone:"tablesorter-headerUnSorted"},m.language={sortAsc:"Ascending sort applied, ",sortDesc:"Descending sort applied, ",sortNone:"No sort applied, ",nextAsc:"activate to apply an ascending sort",nextDesc:"activate to apply a descending sort",nextNone:"activate to remove the sort"},m.regex={templateContent:/\{content\}/g,templateIcon:/\{icon\}/g,templateName:/\{name\}/i,spaces:/\s+/g,nonWord:/\W/g,formElements:/(input|select|button|textarea)/i},m.instanceMethods={},m.isEmptyObject=function(e){for(var t in e)return!1;return!0},m.getElementText=function(t,r,s){if(!r)return"";var o,a=t.textExtraction||"",n=r.jquery?r:e(r);return"string"==typeof a?"basic"===a&&"undefined"!=typeof(o=n.attr(t.textAttribute))?e.trim(o):e.trim(r.textContent||n.text()):"function"==typeof a?e.trim(a(n[0],t.table,s)):"function"==typeof(o=m.getColumnData(t.table,a,s))?e.trim(o(n[0],t.table,s)):e.trim(n[0].textContent||n.text())},m.getParsedText=function(e,t,r,s){"undefined"==typeof s&&(s=m.getElementText(e,t,r));var o=""+s,a=e.parsers[r],n=e.extractors[r];return a&&(n&&"function"==typeof n.format&&(s=n.format(s,e.table,t,r)),o="no-parser"===a.id?"":a.format(""+s,e.table,t,r),e.ignoreCase&&"string"==typeof o&&(o=o.toLowerCase())),o},m.construct=function(t){return this.each(function(){var r=this,s=e.extend(!0,{},m.defaults,t,m.instanceMethods);s.originalSettings=t,!r.hasInitialized&&m.buildTable&&"TABLE"!==this.nodeName?m.buildTable(r,s):m.setup(r,s)})},m.setup=function(t,o){if(!t||!t.tHead||0===t.tBodies.length||t.hasInitialized===!0)return void(o.debug&&(t.hasInitialized?console.warn("Stopping initialization. Tablesorter has already been initialized"):console.error("Stopping initialization! No table, thead or tbody")));var n="",i=e(t),c=e.metadata;t.hasInitialized=!1,t.isProcessing=!0,t.config=o,e.data(t,"tablesorter",o),o.debug&&(console[console.group?"group":"log"]("Initializing tablesorter"),e.data(t,"startoveralltimer",new Date)),o.supportsDataObject=function(e){return e[0]=parseInt(e[0],10),e[0]>1||1===e[0]&&parseInt(e[1],10)>=4}(e.fn.jquery.split(".")),o.string={max:1,min:-1,emptymin:1,emptymax:-1,zero:0,none:0,"null":0,top:!0,bottom:!1},o.emptyTo=o.emptyTo.toLowerCase(),o.stringTo=o.stringTo.toLowerCase(),/tablesorter\-/.test(i.attr("class"))||(n=""!==o.theme?" tablesorter-"+o.theme:""),o.table=t,o.$table=i.addClass(m.css.table+" "+o.tableClass+n).attr("role","grid"),o.$headers=i.find(o.selectorHeaders),o.namespace?o.namespace="."+o.namespace.replace(m.regex.nonWord,""):o.namespace=".tablesorter"+Math.random().toString(16).slice(2),o.$table.children().children("tr").attr("role","row"),o.$tbodies=i.children("tbody:not(."+o.cssInfoBlock+")").attr({"aria-live":"polite","aria-relevant":"all"}),o.$table.children("caption").length&&(n=o.$table.children("caption")[0],n.id||(n.id=o.namespace.slice(1)+"caption"),o.$table.attr("aria-labelledby",n.id)),o.widgetInit={},o.textExtraction=o.$table.attr("data-text-extraction")||o.textExtraction||"basic",a(o),m.fixColumnWidth(t),m.applyWidgetOptions(t,o),r(o),o.totalRows=0,o.delayInit||s(t),m.bindEvents(t,o.$headers,!0),h(t),o.supportsDataObject&&"undefined"!=typeof i.data().sortlist?o.sortList=i.data().sortlist:c&&i.metadata()&&i.metadata().sortlist&&(o.sortList=i.metadata().sortlist),m.applyWidget(t,!0),o.sortList.length>0?i.trigger("sorton",[o.sortList,{},!o.initWidgets,!0]):(d(t),o.initWidgets&&m.applyWidget(t,!1)),o.showProcessing&&i.unbind("sortBegin"+o.namespace+" sortEnd"+o.namespace).bind("sortBegin"+o.namespace+" sortEnd"+o.namespace,function(e){clearTimeout(o.processTimer),m.isProcessing(t),"sortBegin"===e.type&&(o.processTimer=setTimeout(function(){m.isProcessing(t,!0)},500))}),t.hasInitialized=!0,t.isProcessing=!1,o.debug&&(console.log("Overall initialization time: "+m.benchmark(e.data(t,"startoveralltimer"))),o.debug&&console.groupEnd&&console.groupEnd()),i.trigger("tablesorter-initialized",t),"function"==typeof o.initialized&&o.initialized(t)},m.fixColumnWidth=function(t){t=e(t)[0];var r,s,o,a,n,i=t.config,d=i.$table.children("colgroup");if(d.length&&d.hasClass(m.css.colgroup)&&d.remove(),i.widthFixed&&0===i.$table.children("colgroup").length){for(d=e('<colgroup class="'+m.css.colgroup+'">'),r=i.$table.width(),o=i.$tbodies.find("tr:first").children(":visible"),a=o.length,n=0;a>n;n++)s=parseInt(o.eq(n).width()/r*1e3,10)/10+"%",d.append(e("<col>").css("width",s));i.$table.prepend(d)}},m.getColumnData=function(t,r,s,o,a){if("undefined"!=typeof r&&null!==r){t=e(t)[0];var n,i,d=t.config,c=a||d.$headers,l=d.$headerIndexed&&d.$headerIndexed[s]||c.filter('[data-column="'+s+'"]:last');if(r[s])return o?r[s]:r[c.index(l)];for(i in r)if("string"==typeof i&&(n=l.filter(i).add(l.find(i)),n.length))return r[i]}},m.computeColumnIndex=function(t){var r,s,o,a,n,i,d,c,l,g,p,u,f=[],h=[],m={};for(r=0;r<t.length;r++)for(d=t[r].cells,s=0;s<d.length;s++){for(i=d[s],n=e(i),c=i.parentNode.rowIndex,l=c+"-"+n.index(),g=i.rowSpan||1,p=i.colSpan||1,"undefined"==typeof f[c]&&(f[c]=[]),o=0;o<f[c].length+1;o++)if("undefined"==typeof f[c][o]){u=o;break}for(m[l]=u,n.attr({"data-column":u}),o=c;c+g>o;o++)for("undefined"==typeof f[o]&&(f[o]=[]),h=f[o],a=u;u+p>a;a++)h[a]="x"}return h.length},m.isProcessing=function(t,r,s){t=e(t);var o=t[0].config,a=s||t.find("."+m.css.header);r?("undefined"!=typeof s&&o.sortList.length>0&&(a=a.filter(function(){return this.sortDisabled?!1:m.isValueInArray(parseFloat(e(this).attr("data-column")),o.sortList)>=0})),t.add(a).addClass(m.css.processing+" "+o.cssProcessing)):t.add(a).removeClass(m.css.processing+" "+o.cssProcessing)},m.processTbody=function(t,r,s){t=e(t)[0];var o;return s?(t.isProcessing=!0,r.before('<colgroup class="tablesorter-savemyplace"/>'),o=e.fn.detach?r.detach():r.remove()):(o=e(t).find("colgroup.tablesorter-savemyplace"),r.insertAfter(o),o.remove(),void(t.isProcessing=!1))},m.clearTableBody=function(t){e(t)[0].config.$tbodies.children().detach()},m.bindEvents=function(t,r,o){t=e(t)[0];var a,n=null,i=t.config;o!==!0&&(r.addClass(i.namespace.slice(1)+"_extra_headers"),a=e.fn.closest?r.closest("table")[0]:r.parents("table")[0],a&&"TABLE"===a.nodeName&&a!==t&&e(a).addClass(i.namespace.slice(1)+"_extra_table")),a=(i.pointerDown+" "+i.pointerUp+" "+i.pointerClick+" sort keyup ").replace(m.regex.spaces," ").split(" ").join(i.namespace+" "),r.find(i.selectorSort).add(r.filter(i.selectorSort)).unbind(a).bind(a,function(r,o){var a,d,c,l=e(r.target),p=" "+r.type+" ";if(!(1!==(r.which||r.button)&&!p.match(" "+i.pointerClick+" | sort | keyup ")||" keyup "===p&&13!==r.which||p.match(" "+i.pointerClick+" ")&&"undefined"!=typeof r.which||p.match(" "+i.pointerUp+" ")&&n!==r.target&&o!==!0)){if(p.match(" "+i.pointerDown+" "))return n=r.target,c=l.jquery.split("."),void("1"===c[0]&&c[1]<4&&r.preventDefault());if(n=null,m.regex.formElements.test(r.target.nodeName)||l.hasClass(i.cssNoSort)||l.parents("."+i.cssNoSort).length>0||l.parents("button").length>0)return!i.cancelSelection;i.delayInit&&m.isEmptyObject(i.cache)&&s(t),a=e.fn.closest?e(this).closest("th, td"):/TH|TD/.test(this.nodeName)?e(this):e(this).parents("th, td"),d=i.$headers[a.prevAll().length],d&&!d.sortDisabled&&g(t,d,r)}}),i.cancelSelection&&r.attr("unselectable","on").bind("selectstart",!1).css({"user-select":"none",MozUserSelect:"none"})},m.sortReset=function(t,r){var s=t.table;t.sortList=[],d(s),p(s),m.appendCache(t),e.isFunction(r)&&r(s)},m.updateAll=function(e,t,r){var s=e.table;s.isUpdating=!0,m.refreshWidgets(s,!0,!0),a(e),m.bindEvents(s,e.$headers,!0),h(s),n(s,t,r)},m.update=function(e,t,r){var s=e.table;s.isUpdating=!0,i(s),n(s,t,r)},m.updateHeaders=function(e,t){e.table.isUpdating=!0,a(e),m.bindEvents(e.table,e.$headers,!0),u(e,t)},m.updateCell=function(t,r,s,o){t.table.isUpdating=!0,t.$table.find(t.selectorRemove).remove();var a,n,i,d,c=(t.table,t.$tbodies),l=e(r),g=c.index(e.fn.closest?l.closest("tbody"):l.parents("tbody").filter(":first")),p=t.cache[g],h=e.fn.closest?l.closest("tr"):l.parents("tr").filter(":first");r=l[0],c.length&&g>=0&&(n=c.eq(g).find("tr").index(h),d=p.normalized[n],i=l.index(),a=m.getParsedText(t,r,i),d[i]=a,d[t.columns].$row=h,"numeric"===(t.parsers[i].type||"").toLowerCase()&&(p.colMax[i]=Math.max(Math.abs(a)||0,p.colMax[i]||0)),a="undefined"!==s?s:t.resort,a!==!1?f(t,a,o):u(t,o))},m.addRows=function(t,s,o,a){var d,c,l,g,p,u,h,b="string"==typeof s&&1===t.$tbodies.length&&/<tr/.test(s||""),y=t.table;if(b)s=e(s),t.$tbodies.append(s);else if(!(s&&s instanceof jQuery&&(e.fn.closest?s.closest("table")[0]:s.parents("table")[0])===t.table))return t.debug&&console.error("addRows method requires (1) a jQuery selector reference to rows that have already been added to the table, or (2) row HTML string to be added to a table with only one tbody"),!1;if(y.isUpdating=!0,m.isEmptyObject(t.cache))i(y),n(y,o,a);else{for(u=s.filter("tr").attr("role","row").length,h=t.$tbodies.index(s.parents("tbody").filter(":first")),t.parsers&&t.parsers.length||r(t),d=0;u>d;d++){for(l=s[d].cells.length,p=[],g={child:[],$row:s.eq(d),order:t.cache[h].normalized.length},c=0;l>c;c++)p[c]=m.getParsedText(t,s[d].cells[c],c),"numeric"===(t.parsers[c].type||"").toLowerCase()&&(t.cache[h].colMax[c]=Math.max(Math.abs(p[c])||0,t.cache[h].colMax[c]||0));p.push(g),t.cache[h].normalized.push(p)}f(t,o,a)}},m.updateCache=function(e,t,o){e.parsers&&e.parsers.length||r(e,o),s(e.table,t,o)},m.appendCache=function(e,t){var r,s,o,a,n,i,d,c=e.table,l=e.widgetOptions,g=e.$tbodies,p=[],u=e.cache;if(m.isEmptyObject(u))return e.appender?e.appender(c,p):c.isUpdating?e.$table.trigger("updateComplete",c):"";for(e.debug&&(d=new Date),i=0;i<g.length;i++)if(o=g.eq(i),o.length){for(a=m.processTbody(c,o,!0),r=u[i].normalized,s=r.length,n=0;s>n;n++)p.push(r[n][e.columns].$row),e.appender&&(!e.pager||e.pager.removeRows&&l.pager_removeRows||e.pager.ajax)||a.append(r[n][e.columns].$row);m.processTbody(c,a,!1)}e.appender&&e.appender(c,p),e.debug&&console.log("Rebuilt table"+m.benchmark(d)),t||e.appender||m.applyWidget(c),c.isUpdating&&e.$table.trigger("updateComplete",c)},m.sortOn=function(t,r,o,a){var n=t.table;t.$table.trigger("sortStart",n),c(n,r),d(n),t.delayInit&&m.isEmptyObject(t.cache)&&s(n),t.$table.trigger("sortBegin",n),p(n),m.appendCache(t,a),t.$table.trigger("sortEnd",n),m.applyWidget(n),e.isFunction(o)&&o(n)},m.restoreHeaders=function(t){var r,s,o=e(t)[0].config,a=o.$table.find(o.selectorHeaders),n=a.length;for(r=0;n>r;r++)s=a.eq(r),s.find("."+m.css.headerIn).length&&s.html(o.headerContent[r])},m.destroy=function(t,r,s){if(t=e(t)[0],t.hasInitialized){m.removeWidget(t,!0,!1);var o,a=e(t),n=t.config,i=n.debug,d=a.find("thead:first"),c=d.find("tr."+m.css.headerRow).removeClass(m.css.headerRow+" "+n.cssHeaderRow),l=a.find("tfoot:first > tr").children("th, td");r===!1&&e.inArray("uitheme",n.widgets)>=0&&(a.trigger("applyWidgetId",["uitheme"]),a.trigger("applyWidgetId",["zebra"])),d.find("tr").not(c).remove(),o="sortReset update updateRows updateAll updateHeaders updateCell addRows updateComplete sorton appendCache updateCache applyWidgetId applyWidgets refreshWidgets destroy mouseup mouseleave keypress "+"sortBegin sortEnd resetToLoadState ".split(" ").join(n.namespace+" "),a.removeData("tablesorter").unbind(o.replace(m.regex.spaces," ")),n.$headers.add(l).removeClass([m.css.header,n.cssHeader,n.cssAsc,n.cssDesc,m.css.sortAsc,m.css.sortDesc,m.css.sortNone].join(" ")).removeAttr("data-column").removeAttr("aria-label").attr("aria-disabled","true"),c.find(n.selectorSort).unbind("mousedown mouseup keypress ".split(" ").join(n.namespace+" ").replace(m.regex.spaces," ")),m.restoreHeaders(t),a.toggleClass(m.css.table+" "+n.tableClass+" tablesorter-"+n.theme,r===!1),t.hasInitialized=!1,delete t.config.cache,"function"==typeof s&&s(t),i&&console.log("tablesorter has been removed")}},m.regex.chunk=/(^([+\-]?(?:0|[1-9]\d*)(?:\.\d*)?(?:[eE][+\-]?\d+)?)?$|^0x[0-9a-f]+$|\d+)/gi,m.regex.chunks=/(^\\0|\\0$)/,m.regex.hex=/^0x[0-9a-f]+$/i,m.sortNatural=function(e,t){if(e===t)return 0;var r,s,o,a,n,i,d,c,l=m.regex;if(l.hex.test(t)){if(s=parseInt(e.match(l.hex),16),a=parseInt(t.match(l.hex),16),a>s)return-1;if(s>a)return 1}for(r=e.replace(l.chunk,"\\0$1\\0").replace(l.chunks,"").split("\\0"),o=t.replace(l.chunk,"\\0$1\\0").replace(l.chunks,"").split("\\0"),c=Math.max(r.length,o.length),d=0;c>d;d++){if(n=isNaN(r[d])?r[d]||0:parseFloat(r[d])||0,i=isNaN(o[d])?o[d]||0:parseFloat(o[d])||0,isNaN(n)!==isNaN(i))return isNaN(n)?1:-1;if(typeof n!=typeof i&&(n+="",i+=""),i>n)return-1;if(n>i)return 1}return 0},m.sortNaturalAsc=function(e,t,r,s,o){if(e===t)return 0;var a=o.string[o.empties[r]||o.emptyTo];return""===e&&0!==a?"boolean"==typeof a?a?-1:1:-a||-1:""===t&&0!==a?"boolean"==typeof a?a?1:-1:a||1:m.sortNatural(e,t)},m.sortNaturalDesc=function(e,t,r,s,o){if(e===t)return 0;var a=o.string[o.empties[r]||o.emptyTo];return""===e&&0!==a?"boolean"==typeof a?a?-1:1:a||1:""===t&&0!==a?"boolean"==typeof a?a?1:-1:-a||-1:m.sortNatural(t,e)},m.sortText=function(e,t){return e>t?1:t>e?-1:0},m.getTextValue=function(e,t,r){if(r){var s,o=e?e.length:0,a=r+t;for(s=0;o>s;s++)a+=e.charCodeAt(s);return t*a}return 0},m.sortNumericAsc=function(e,t,r,s,o,a){if(e===t)return 0;var n=a.config,i=n.string[n.empties[o]||n.emptyTo];return""===e&&0!==i?"boolean"==typeof i?i?-1:1:-i||-1:""===t&&0!==i?"boolean"==typeof i?i?1:-1:i||1:(isNaN(e)&&(e=m.getTextValue(e,r,s)),isNaN(t)&&(t=m.getTextValue(t,r,s)),e-t)},m.sortNumericDesc=function(e,t,r,s,o,a){if(e===t)return 0;var n=a.config,i=n.string[n.empties[o]||n.emptyTo];return""===e&&0!==i?"boolean"==typeof i?i?-1:1:i||1:""===t&&0!==i?"boolean"==typeof i?i?1:-1:-i||-1:(isNaN(e)&&(e=m.getTextValue(e,r,s)),isNaN(t)&&(t=m.getTextValue(t,r,s)),t-e)},m.sortNumeric=function(e,t){return e-t},m.characterEquivalents={a:"",A:"",c:"",C:"",e:"",E:"",i:"",I:"",o:"",O:"",ss:"",SS:"",u:"",U:""},m.replaceAccents=function(e){var t,r="[",s=m.characterEquivalents;if(!m.characterRegex){m.characterRegexArray={};for(t in s)"string"==typeof t&&(r+=s[t],m.characterRegexArray[t]=new RegExp("["+s[t]+"]","g"));m.characterRegex=new RegExp(r+"]")}if(m.characterRegex.test(e))for(t in s)"string"==typeof t&&(e=e.replace(m.characterRegexArray[t],t));return e},m.isValueInArray=function(e,t){var r,s=t&&t.length||0;for(r=0;s>r;r++)if(t[r][0]===e)return r;return-1},m.addParser=function(e){var t,r=m.parsers.length,s=!0;for(t=0;r>t;t++)m.parsers[t].id.toLowerCase()===e.id.toLowerCase()&&(s=!1);s&&m.parsers.push(e)},m.addInstanceMethods=function(t){e.extend(m.instanceMethods,t)},m.getParserById=function(e){if("false"==e)return!1;var t,r=m.parsers.length;for(t=0;r>t;t++)if(m.parsers[t].id.toLowerCase()===e.toString().toLowerCase())return m.parsers[t];return!1},m.addWidget=function(e){m.widgets.push(e)},m.hasWidget=function(t,r){return t=e(t),t.length&&t[0].config&&t[0].config.widgetInit[r]||!1},m.getWidgetById=function(e){var t,r,s=m.widgets.length;for(t=0;s>t;t++)if(r=m.widgets[t],r&&r.hasOwnProperty("id")&&r.id.toLowerCase()===e.toLowerCase())return r},m.applyWidgetOptions=function(t,r){var s,o,a=r.widgets.length,n=r.widgetOptions;if(a)for(s=0;a>s;s++)o=m.getWidgetById(r.widgets[s]),o&&"options"in o&&(n=t.config.widgetOptions=e.extend(!0,{},o.options,n))},m.applyWidget=function(t,r,s){t=e(t)[0];var o,a,n,i,d,c,l,g,p,u,f=t.config,h=f.widgetOptions,b=" "+f.table.className+" ",y=[];if(r===!1||!t.hasInitialized||!t.isApplyingWidgets&&!t.isUpdating){if(f.debug&&(l=new Date),u=new RegExp("\\s"+f.widgetClass.replace(m.regex.templateName,"([\\w-]+)")+"\\s","g"),b.match(u)&&(p=b.match(u)))for(a=p.length,o=0;a>o;o++)f.widgets.push(p[o].replace(u,"$1"));if(f.widgets.length){for(t.isApplyingWidgets=!0,f.widgets=e.grep(f.widgets,function(t,r){return e.inArray(t,f.widgets)===r}),n=f.widgets||[],a=n.length,o=0;a>o;o++)u=m.getWidgetById(n[o]),u&&u.id&&(u.priority||(u.priority=10),y[o]=u);for(y.sort(function(e,t){return e.priority<t.priority?-1:e.priority===t.priority?0:1}),a=y.length,f.debug&&console[console.group?"group":"log"]("Start "+(r?"initializing":"applying")+" widgets"),o=0;a>o;o++)i=y[o],i&&(d=i.id,c=!1,f.debug&&(g=new Date),(r||!f.widgetInit[d])&&(f.widgetInit[d]=!0,t.hasInitialized&&m.applyWidgetOptions(t,f),"init"in i&&(c=!0,f.debug&&console[console.group?"group":"log"]("Initializing "+d+" widget"),i.init(t,i,f,h))),!r&&"format"in i&&(c=!0,f.debug&&console[console.group?"group":"log"]("Updating "+d+" widget"),i.format(t,f,h,!1)),f.debug&&c&&(console.log("Completed "+(r?"initializing ":"applying ")+d+" widget"+m.benchmark(g)),console.groupEnd&&console.groupEnd()));f.debug&&console.groupEnd&&console.groupEnd(),r||"function"!=typeof s||s(t)}setTimeout(function(){t.isApplyingWidgets=!1,e.data(t,"lastWidgetApplication",new Date)},0),f.debug&&(p=f.widgets.length,console.log("Completed "+(r===!0?"initializing ":"applying ")+p+" widget"+(1!==p?"s":"")+m.benchmark(l)))}},m.removeWidget=function(t,r,s){t=e(t)[0];var o,a,n,i,d=t.config;if(r===!0)for(r=[],i=m.widgets.length,n=0;i>n;n++)a=m.widgets[n],a&&a.id&&r.push(a.id);else r=(e.isArray(r)?r.join(","):r||"").toLowerCase().split(/[\s,]+/);for(i=r.length,o=0;i>o;o++)a=m.getWidgetById(r[o]),n=e.inArray(r[o],d.widgets),a&&"remove"in a&&(d.debug&&n>=0&&console.log('Removing "'+r[o]+'" widget'),d.debug&&console.log((s?"Refreshing":"Removing")+' "'+r[o]+'" widget'),a.remove(t,d,d.widgetOptions,s),d.widgetInit[r[o]]=!1),n>=0&&s!==!0&&d.widgets.splice(n,1)},m.refreshWidgets=function(t,r,s){t=e(t)[0];var o,a=t.config,n=a.widgets,i=m.widgets,d=i.length,c=[],l=function(t){e(t).trigger("refreshComplete")};for(o=0;d>o;o++)i[o]&&i[o].id&&(r||e.inArray(i[o].id,n)<0)&&c.push(i[o].id);m.removeWidget(t,c.join(","),!0),s!==!0?(m.applyWidget(t,r||!1,l),r&&m.applyWidget(t,!1,l)):l(t)},m.getColumnText=function(t,r,s){t=e(t)[0];var o,a,n,i,d,c,l,g,p,u,f="function"==typeof s,h="all"===r,b={raw:[],parsed:[],$cell:[]},y=t.config;if(!m.isEmptyObject(y)){for(d=y.$tbodies.length,o=0;d>o;o++)for(n=y.cache[o].normalized,c=n.length,a=0;c>a;a++)u=!0,i=n[a],g=h?i.slice(0,y.columns):i[r],i=i[y.columns],l=h?i.raw:i.raw[r],p=h?i.$row.children():i.$row.children().eq(r),f&&(u=s({tbodyIndex:o,rowIndex:a,parsed:g,raw:l,$row:i.$row,$cell:p})),u!==!1&&(b.parsed.push(g),b.raw.push(l),b.$cell.push(p));return b}y.debug&&console.warn("No cache found - aborting getColumnText function!")},m.getData=function(t,r,s){var o,a,n="",i=e(t);return i.length?(o=e.metadata?i.metadata():!1,a=" "+(i.attr("class")||""),"undefined"!=typeof i.data(s)||"undefined"!=typeof i.data(s.toLowerCase())?n+=i.data(s)||i.data(s.toLowerCase()):o&&"undefined"!=typeof o[s]?n+=o[s]:r&&"undefined"!=typeof r[s]?n+=r[s]:" "!==a&&a.match(" "+s+"-")&&(n=a.match(new RegExp("\\s"+s+"-([\\w-]+)"))[1]||""),
e.trim(n)):""},m.regex.comma=/,/g,m.regex.digitNonUS=/[\s|\.]/g,m.regex.digitNegativeTest=/^\s*\([.\d]+\)/,m.regex.digitNegativeReplace=/^\s*\(([.\d]+)\)/,m.formatFloat=function(t,r){if("string"!=typeof t||""===t)return t;var s,o=r&&r.config?r.config.usNumberFormat!==!1:"undefined"!=typeof r?r:!0;return t=o?t.replace(m.regex.comma,""):t.replace(m.regex.digitNonUS,"").replace(m.regex.comma,"."),m.regex.digitNegativeTest.test(t)&&(t=t.replace(m.regex.digitNegativeReplace,"-$1")),s=parseFloat(t),isNaN(s)?e.trim(t):s},m.regex.digitTest=/^[\-+(]?\d+[)]?$/,m.regex.digitReplace=/[,.'"\s]/g,m.isDigit=function(e){return isNaN(e)?m.regex.digitTest.test(e.toString().replace(m.regex.digitReplace,"")):""!==e}}});var t=e.tablesorter;e.fn.extend({tablesorter:t.construct}),console&&console.log||(t.logs=[],console={},console.log=console.warn=console.error=console.table=function(){t.logs.push([Date.now(),arguments])}),t.log=function(){console.log(arguments)},t.benchmark=function(e){return" ("+((new Date).getTime()-e.getTime())+"ms)"},t.addParser({id:"no-parser",is:function(){return!1},format:function(){return""},type:"text"}),t.addParser({id:"text",is:function(){return!0},format:function(r,s){var o=s.config;return r&&(r=e.trim(o.ignoreCase?r.toLocaleLowerCase():r),r=o.sortLocaleCompare?t.replaceAccents(r):r),r},type:"text"}),t.regex.nondigit=/[^\w,. \-()]/g,t.addParser({id:"digit",is:function(e){return t.isDigit(e)},format:function(r,s){var o=t.formatFloat((r||"").replace(t.regex.nondigit,""),s);return r&&"number"==typeof o?o:r?e.trim(r&&s.config.ignoreCase?r.toLocaleLowerCase():r):r},type:"numeric"}),t.regex.currencyReplace=/[+\-,. ]/g,t.regex.currencyTest=/^\(?\d+[\u00a3$\u20ac\u00a4\u00a5\u00a2?.]|[\u00a3$\u20ac\u00a4\u00a5\u00a2?.]\d+\)?$/,t.addParser({id:"currency",is:function(e){return e=(e||"").replace(t.regex.currencyReplace,""),t.regex.currencyTest.test(e)},format:function(r,s){var o=t.formatFloat((r||"").replace(t.regex.nondigit,""),s);return r&&"number"==typeof o?o:r?e.trim(r&&s.config.ignoreCase?r.toLocaleLowerCase():r):r},type:"numeric"}),t.regex.urlProtocolTest=/^(https?|ftp|file):\/\//,t.regex.urlProtocolReplace=/(https?|ftp|file):\/\//,t.addParser({id:"url",is:function(e){return t.regex.urlProtocolTest.test(e)},format:function(r){return r?e.trim(r.replace(t.regex.urlProtocolReplace,"")):r},parsed:!0,type:"text"}),t.regex.dash=/-/g,t.regex.isoDate=/^\d{4}[\/\-]\d{1,2}[\/\-]\d{1,2}/,t.addParser({id:"isoDate",is:function(e){return t.regex.isoDate.test(e)},format:function(e,r){var s=e?new Date(e.replace(t.regex.dash,"/")):e;return s instanceof Date&&isFinite(s)?s.getTime():e},type:"numeric"}),t.regex.percent=/%/g,t.regex.percentTest=/(\d\s*?%|%\s*?\d)/,t.addParser({id:"percent",is:function(e){return t.regex.percentTest.test(e)&&e.length<15},format:function(e,r){return e?t.formatFloat(e.replace(t.regex.percent,""),r):e},type:"numeric"}),t.addParser({id:"image",is:function(e,t,r,s){return s.find("img").length>0},format:function(t,r,s){return e(s).find("img").attr(r.config.imgAttr||"alt")||t},parsed:!0,type:"text"}),t.regex.dateReplace=/(\S)([AP]M)$/i,t.regex.usLongDateTest1=/^[A-Z]{3,10}\.?\s+\d{1,2},?\s+(\d{4})(\s+\d{1,2}:\d{2}(:\d{2})?(\s+[AP]M)?)?$/i,t.regex.usLongDateTest2=/^\d{1,2}\s+[A-Z]{3,10}\s+\d{4}/i,t.addParser({id:"usLongDate",is:function(e){return t.regex.usLongDateTest1.test(e)||t.regex.usLongDateTest2.test(e)},format:function(e,r){var s=e?new Date(e.replace(t.regex.dateReplace,"$1 $2")):e;return s instanceof Date&&isFinite(s)?s.getTime():e},type:"numeric"}),t.regex.shortDateTest=/(^\d{1,2}[\/\s]\d{1,2}[\/\s]\d{4})|(^\d{4}[\/\s]\d{1,2}[\/\s]\d{1,2})/,t.regex.shortDateReplace=/[\-.,]/g,t.regex.shortDateXXY=/(\d{1,2})[\/\s](\d{1,2})[\/\s](\d{4})/,t.regex.shortDateYMD=/(\d{4})[\/\s](\d{1,2})[\/\s](\d{1,2})/,t.addParser({id:"shortDate",is:function(e){return e=(e||"").replace(t.regex.spaces," ").replace(t.regex.shortDateReplace,"/"),t.regex.shortDateTest.test(e)},format:function(e,r,s,o){if(e){var a,n,i=r.config,d=i.$headerIndexed[o],c=d.length&&d[0].dateFormat||t.getData(d,t.getColumnData(r,i.headers,o),"dateFormat")||i.dateFormat;return n=e.replace(t.regex.spaces," ").replace(t.regex.shortDateReplace,"/"),"mmddyyyy"===c?n=n.replace(t.regex.shortDateXXY,"$3/$1/$2"):"ddmmyyyy"===c?n=n.replace(t.regex.shortDateXXY,"$3/$2/$1"):"yyyymmdd"===c&&(n=n.replace(t.regex.shortDateYMD,"$1/$2/$3")),a=new Date(n),a instanceof Date&&isFinite(a)?a.getTime():e}return e},type:"numeric"}),t.regex.timeTest=/^(([0-2]?\d:[0-5]\d)|([0-1]?\d:[0-5]\d\s?([AP]M)))$/i,t.addParser({id:"time",is:function(e){return t.regex.timeTest.test(e)},format:function(e,r){var s=e?new Date("2000/01/01 "+e.replace(t.regex.dateReplace,"$1 $2")):e;return s instanceof Date&&isFinite(s)?s.getTime():e},type:"numeric"}),t.addParser({id:"metadata",is:function(){return!1},format:function(t,r,s){var o=r.config,a=o.parserMetadataName?o.parserMetadataName:"sortValue";return e(s).metadata()[a]},type:"numeric"}),t.addWidget({id:"zebra",priority:90,format:function(t,r,s){var o,a,n,i,d,c,l,g,p=new RegExp(r.cssChildRow,"i"),u=r.$tbodies.add(e(r.namespace+"_extra_table").children("tbody:not(."+r.cssInfoBlock+")"));for(r.debug&&(d=new Date),c=0;c<u.length;c++)for(n=0,o=u.eq(c).children("tr:visible").not(r.selectorRemove),g=o.length,l=0;g>l;l++)a=o.eq(l),p.test(a[0].className)||n++,i=n%2===0,a.removeClass(s.zebra[i?1:0]).addClass(s.zebra[i?0:1])},remove:function(e,r,s,o){if(!o){var a,n,i=r.$tbodies,d=(s.zebra||["even","odd"]).join(" ");for(a=0;a<i.length;a++)n=t.processTbody(e,i.eq(a),!0),n.children().removeClass(d),t.processTbody(e,n,!1)}}})}(jQuery),e.tablesorter});
!function(e){"function"==typeof define&&define.amd?define(["jquery"],e):"object"==typeof module&&"object"==typeof module.exports?module.exports=e(require("jquery")):e(jQuery)}(function(e){return function(e,t,r){"use strict";var i=e.tablesorter||{};i.storage=function(i,a,s,l){i=e(i)[0];var n,o,c,d=!1,f={},u=i.config,h=u&&u.widgetOptions,p=l&&l.useSessionStorage||h&&h.storage_useSessionStorage?"sessionStorage":"localStorage",g=e(i),m=l&&l.id||g.attr(l&&l.group||h&&h.storage_group||"data-table-group")||h&&h.storage_tableId||i.id||e(".tablesorter").index(g),b=l&&l.url||g.attr(l&&l.page||h&&h.storage_page||"data-table-page")||h&&h.storage_fixedUrl||u&&u.fixedUrl||t.location.pathname;if(p in t)try{t[p].setItem("_tmptest","temp"),d=!0,t[p].removeItem("_tmptest")}catch(y){u&&u.debug&&console.warn(p+" is not supported in this browser")}return e.parseJSON&&(d?f=e.parseJSON(t[p][a]||"null")||{}:(o=r.cookie.split(/[;\s|=]/),n=e.inArray(a,o)+1,f=0!==n?e.parseJSON(o[n]||"null")||{}:{})),(s||""===s)&&t.JSON&&JSON.hasOwnProperty("stringify")?(f[b]||(f[b]={}),f[b][m]=s,void(d?t[p][a]=JSON.stringify(f):(c=new Date,c.setTime(c.getTime()+31536e6),r.cookie=a+"="+JSON.stringify(f).replace(/\"/g,'"')+"; expires="+c.toGMTString()+"; path=/"))):f&&f[b]?f[b][m]:""}}(jQuery,window,document),function(e){"use strict";var t=e.tablesorter||{};t.themes={bootstrap:{table:"table table-bordered table-striped",caption:"caption",header:"bootstrap-header",sortNone:"",sortAsc:"",sortDesc:"",active:"",hover:"",icons:"",iconSortNone:"bootstrap-icon-unsorted",iconSortAsc:"icon-chevron-up glyphicon glyphicon-chevron-up",iconSortDesc:"icon-chevron-down glyphicon glyphicon-chevron-down",filterRow:"",footerRow:"",footerCells:"",even:"",odd:""},jui:{table:"ui-widget ui-widget-content ui-corner-all",caption:"ui-widget-content",header:"ui-widget-header ui-corner-all ui-state-default",sortNone:"",sortAsc:"",sortDesc:"",active:"ui-state-active",hover:"ui-state-hover",icons:"ui-icon",iconSortNone:"ui-icon-carat-2-n-s",iconSortAsc:"ui-icon-carat-1-n",iconSortDesc:"ui-icon-carat-1-s",filterRow:"",footerRow:"",footerCells:"",even:"ui-widget-content",odd:"ui-state-default"}},e.extend(t.css,{wrapper:"tablesorter-wrapper"}),t.addWidget({id:"uitheme",priority:10,format:function(r,i,a){var s,l,n,o,c,d,f,u,h,p,g,m,b=t.themes,y=i.$table.add(e(i.namespace+"_extra_table")),_=i.$headers.add(e(i.namespace+"_extra_headers")),v=i.theme||"jui",w=b[v]||{},x=e.trim([w.sortNone,w.sortDesc,w.sortAsc,w.active].join(" ")),z=e.trim([w.iconSortNone,w.iconSortDesc,w.iconSortAsc].join(" "));for(i.debug&&(o=new Date),y.hasClass("tablesorter-"+v)&&i.theme===i.appliedTheme&&a.uitheme_applied||(a.uitheme_applied=!0,h=b[i.appliedTheme]||{},m=!e.isEmptyObject(h),p=m?[h.sortNone,h.sortDesc,h.sortAsc,h.active].join(" "):"",g=m?[h.iconSortNone,h.iconSortDesc,h.iconSortAsc].join(" "):"",m&&(a.zebra[0]=e.trim(" "+a.zebra[0].replace(" "+h.even,"")),a.zebra[1]=e.trim(" "+a.zebra[1].replace(" "+h.odd,"")),i.$tbodies.children().removeClass([h.even,h.odd].join(" "))),w.even&&(a.zebra[0]+=" "+w.even),w.odd&&(a.zebra[1]+=" "+w.odd),y.children("caption").removeClass(h.caption||"").addClass(w.caption),f=y.removeClass((i.appliedTheme?"tablesorter-"+(i.appliedTheme||""):"")+" "+(h.table||"")).addClass("tablesorter-"+v+" "+(w.table||"")).children("tfoot"),i.appliedTheme=i.theme,f.length&&f.children("tr").removeClass(h.footerRow||"").addClass(w.footerRow).children("th, td").removeClass(h.footerCells||"").addClass(w.footerCells),_.removeClass((m?[h.header,h.hover,p].join(" "):"")||"").addClass(w.header).not(".sorter-false").unbind("mouseenter.tsuitheme mouseleave.tsuitheme").bind("mouseenter.tsuitheme mouseleave.tsuitheme",function(t){e(this)["mouseenter"===t.type?"addClass":"removeClass"](w.hover||"")}),_.each(function(){var r=e(this);r.find("."+t.css.wrapper).length||r.wrapInner('<div class="'+t.css.wrapper+'" style="position:relative;height:100%;width:100%"></div>')}),i.cssIcon&&_.find("."+t.css.icon).removeClass(m?[h.icons,g].join(" "):"").addClass(w.icons||""),y.hasClass("hasFilters")&&y.children("thead").children("."+t.css.filterRow).removeClass(m?h.filterRow||"":"").addClass(w.filterRow||"")),s=0;s<i.columns;s++)c=i.$headers.add(e(i.namespace+"_extra_headers")).not(".sorter-false").filter('[data-column="'+s+'"]'),d=t.css.icon?c.find("."+t.css.icon):e(),u=_.not(".sorter-false").filter('[data-column="'+s+'"]:last'),u.length&&(c.removeClass(x),d.removeClass(z),u[0].sortDisabled?d.removeClass(w.icons||""):(l=w.sortNone,n=w.iconSortNone,u.hasClass(t.css.sortAsc)?(l=[w.sortAsc,w.active].join(" "),n=w.iconSortAsc):u.hasClass(t.css.sortDesc)&&(l=[w.sortDesc,w.active].join(" "),n=w.iconSortDesc),c.addClass(l),d.addClass(n||"")));i.debug&&console.log("Applying "+v+" theme"+t.benchmark(o))},remove:function(e,r,i,a){if(i.uitheme_applied){var s=r.$table,l=r.appliedTheme||"jui",n=t.themes[l]||t.themes.jui,o=s.children("thead").children(),c=n.sortNone+" "+n.sortDesc+" "+n.sortAsc,d=n.iconSortNone+" "+n.iconSortDesc+" "+n.iconSortAsc;s.removeClass("tablesorter-"+l+" "+n.table),i.uitheme_applied=!1,a||(s.find(t.css.header).removeClass(n.header),o.unbind("mouseenter.tsuitheme mouseleave.tsuitheme").removeClass(n.hover+" "+c+" "+n.active).filter("."+t.css.filterRow).removeClass(n.filterRow),o.find("."+t.css.icon).removeClass(n.icons+" "+d))}}})}(jQuery),function(e){"use strict";var t=e.tablesorter||{};t.addWidget({id:"columns",priority:30,options:{columns:["primary","secondary","tertiary"]},format:function(r,i,a){var s,l,n,o,c,d,f,u,h=i.$table,p=i.$tbodies,g=i.sortList,m=g.length,b=a&&a.columns||["primary","secondary","tertiary"],y=b.length-1;for(f=b.join(" "),l=0;l<p.length;l++)s=t.processTbody(r,p.eq(l),!0),n=s.children("tr"),n.each(function(){if(c=e(this),"none"!==this.style.display&&(d=c.children().removeClass(f),g&&g[0]&&(d.eq(g[0][0]).addClass(b[0]),m>1)))for(u=1;m>u;u++)d.eq(g[u][0]).addClass(b[u]||b[y])}),t.processTbody(r,s,!1);if(o=a.columns_thead!==!1?["thead tr"]:[],a.columns_tfoot!==!1&&o.push("tfoot tr"),o.length&&(n=h.find(o.join(",")).children().removeClass(f),m))for(u=0;m>u;u++)n.filter('[data-column="'+g[u][0]+'"]').addClass(b[u]||b[y])},remove:function(r,i,a){var s,l,n=i.$tbodies,o=(a.columns||["primary","secondary","tertiary"]).join(" ");for(i.$headers.removeClass(o),i.$table.children("tfoot").children("tr").children("th, td").removeClass(o),s=0;s<n.length;s++)l=t.processTbody(r,n.eq(s),!0),l.children("tr").each(function(){e(this).children().removeClass(o)}),t.processTbody(r,l,!1)}})}(jQuery),function(e){"use strict";var t,r=e.tablesorter||{},i=r.css;e.extend(i,{filterRow:"tablesorter-filter-row",filter:"tablesorter-filter",filterDisabled:"disabled",filterRowHide:"hideme"}),r.addWidget({id:"filter",priority:50,options:{filter_childRows:!1,filter_childByColumn:!1,filter_columnFilters:!0,filter_columnAnyMatch:!0,filter_cellFilter:"",filter_cssFilter:"",filter_defaultFilter:{},filter_excludeFilter:{},filter_external:"",filter_filteredRow:"filtered",filter_formatter:null,filter_functions:null,filter_hideEmpty:!0,filter_hideFilters:!1,filter_ignoreCase:!0,filter_liveSearch:!0,filter_onlyAvail:"filter-onlyAvail",filter_placeholder:{search:"",select:""},filter_reset:null,filter_saveFilters:!1,filter_searchDelay:300,filter_searchFiltered:!0,filter_selectSource:null,filter_startsWith:!1,filter_useParsedData:!1,filter_serversideFiltering:!1,filter_defaultAttrib:"data-value",filter_selectSourceSeparator:"|"},format:function(e,r,i){r.$table.hasClass("hasFilters")||t.init(e,r,i)},remove:function(t,a,s,l){var n,o,c=a.$table,d=a.$tbodies,f="addRows updateCell update updateRows updateComplete appendCache filterReset filterEnd search ".split(" ").join(a.namespace+"filter ");if(c.removeClass("hasFilters").unbind(f.replace(r.regex.spaces," ")).find("."+i.filterRow).remove(),!l){for(n=0;n<d.length;n++)o=r.processTbody(t,d.eq(n),!0),o.children().removeClass(s.filter_filteredRow).show(),r.processTbody(t,o,!1);s.filter_reset&&e(document).undelegate(s.filter_reset,"click.tsfilter")}}}),t=r.filter={regex:{regex:/^\/((?:\\\/|[^\/])+)\/([mig]{0,3})?$/,child:/tablesorter-childRow/,filtered:/filtered/,type:/undefined|number/,exact:/(^[\"\'=]+)|([\"\'=]+$)/g,operators:/[<>=]/g,query:"(q|query)",wild01:/\?/g,wild0More:/\*/g,quote:/\"/g,isNeg1:/(>=?\s*-\d)/,isNeg2:/(<=?\s*\d)/},types:{or:function(r,i,a){if(t.regex.orTest.test(i.iFilter)||t.regex.orSplit.test(i.filter)){var s,l,n,o,c=e.extend({},i),d=i.index,f=i.parsed[d],u=i.filter.split(t.regex.orSplit),h=i.iFilter.split(t.regex.orSplit),p=u.length;for(s=0;p>s;s++){c.nestedFilters=!0,c.filter=""+(t.parseFilter(r,u[s],d,f)||""),c.iFilter=""+(t.parseFilter(r,h[s],d,f)||""),n="("+(t.parseFilter(r,c.filter,d,f)||"")+")";try{if(o=new RegExp(i.isMatch?n:"^"+n+"$",r.widgetOptions.filter_ignoreCase?"i":""),l=o.test(c.exact)||t.processTypes(r,c,a))return l}catch(g){return null}}return l||!1}return null},and:function(r,i,a){if(t.regex.andTest.test(i.filter)){var s,l,n,o,c,d=e.extend({},i),f=i.index,u=i.parsed[f],h=i.filter.split(t.regex.andSplit),p=i.iFilter.split(t.regex.andSplit),g=h.length;for(s=0;g>s;s++){d.nestedFilters=!0,d.filter=""+(t.parseFilter(r,h[s],f,u)||""),d.iFilter=""+(t.parseFilter(r,p[s],f,u)||""),o=("("+(t.parseFilter(r,d.filter,f,u)||"")+")").replace(t.regex.wild01,"\\S{1}").replace(t.regex.wild0More,"\\S*");try{c=new RegExp(i.isMatch?o:"^"+o+"$",r.widgetOptions.filter_ignoreCase?"i":""),n=c.test(d.exact)||t.processTypes(r,d,a),l=0===s?n:l&&n}catch(m){return null}}return l||!1}return null},regex:function(e,r){if(t.regex.regex.test(r.filter)){var i,a=r.filter_regexCache[r.index]||t.regex.regex.exec(r.filter),s=a instanceof RegExp;try{s||(r.filter_regexCache[r.index]=a=new RegExp(a[1],a[2])),i=a.test(r.exact)}catch(l){i=!1}return i}return null},operators:function(i,a){if(t.regex.operTest.test(a.iFilter)&&""!==a.iExact){var s,l,n,o=i.table,c=a.index,d=a.parsed[c],f=r.formatFloat(a.iFilter.replace(t.regex.operators,""),o),u=i.parsers[c],h=f;return(d||"numeric"===u.type)&&(n=e.trim(""+a.iFilter.replace(t.regex.operators,"")),l=t.parseFilter(i,n,c,!0),f="number"!=typeof l||""===l||isNaN(l)?f:l),!d&&"numeric"!==u.type||isNaN(f)||"undefined"==typeof a.cache?(n=isNaN(a.iExact)?a.iExact.replace(r.regex.nondigit,""):a.iExact,s=r.formatFloat(n,o)):s=a.cache,t.regex.gtTest.test(a.iFilter)?l=t.regex.gteTest.test(a.iFilter)?s>=f:s>f:t.regex.ltTest.test(a.iFilter)&&(l=t.regex.lteTest.test(a.iFilter)?f>=s:f>s),l||""!==h||(l=!0),l}return null},notMatch:function(r,i){if(t.regex.notTest.test(i.iFilter)){var a,s=i.iFilter.replace("!",""),l=t.parseFilter(r,s,i.index,i.parsed[i.index])||"";return t.regex.exact.test(l)?(l=l.replace(t.regex.exact,""),""===l?!0:e.trim(l)!==i.iExact):(a=i.iExact.search(e.trim(l)),""===l?!0:!(r.widgetOptions.filter_startsWith?0===a:a>=0))}return null},exact:function(r,i){if(t.regex.exact.test(i.iFilter)){var a=i.iFilter.replace(t.regex.exact,""),s=t.parseFilter(r,a,i.index,i.parsed[i.index])||"";return i.anyMatch?e.inArray(s,i.rowArray)>=0:s==i.iExact}return null},range:function(e,i){if(t.regex.toTest.test(i.iFilter)){var a,s,l,n,o=e.table,c=i.index,d=i.parsed[c],f=i.iFilter.split(t.regex.toSplit);return s=f[0].replace(r.regex.nondigit,"")||"",l=r.formatFloat(t.parseFilter(e,s,c,d),o),s=f[1].replace(r.regex.nondigit,"")||"",n=r.formatFloat(t.parseFilter(e,s,c,d),o),(d||"numeric"===e.parsers[c].type)&&(a=e.parsers[c].format(""+f[0],o,e.$headers.eq(c),c),l=""===a||isNaN(a)?l:a,a=e.parsers[c].format(""+f[1],o,e.$headers.eq(c),c),n=""===a||isNaN(a)?n:a),!d&&"numeric"!==e.parsers[c].type||isNaN(l)||isNaN(n)?(s=isNaN(i.iExact)?i.iExact.replace(r.regex.nondigit,""):i.iExact,a=r.formatFloat(s,o)):a=i.cache,l>n&&(s=l,l=n,n=s),a>=l&&n>=a||""===l||""===n}return null},wild:function(e,r){if(t.regex.wildOrTest.test(r.iFilter)){var i=r.index,a=r.parsed[i],s=""+(t.parseFilter(e,r.iFilter,i,a)||"");!t.regex.wildTest.test(s)&&r.nestedFilters&&(s=r.isMatch?s:"^("+s+")$");try{return new RegExp(s.replace(t.regex.wild01,"\\S{1}").replace(t.regex.wild0More,"\\S*"),e.widgetOptions.filter_ignoreCase?"i":"").test(r.exact)}catch(l){return null}}return null},fuzzy:function(e,r){if(t.regex.fuzzyTest.test(r.iFilter)){var i,a=0,s=r.iExact.length,l=r.iFilter.slice(1),n=t.parseFilter(e,l,r.index,r.parsed[r.index])||"";for(i=0;s>i;i++)r.iExact[i]===n[a]&&(a+=1);return a===n.length}return null}},init:function(a,s,l){r.language=e.extend(!0,{},{to:"to",or:"or",and:"and"},r.language);var n,o,c,d,f,u,h,p,g,m=t.regex;if(s.$table.addClass("hasFilters"),l.searchTimer=null,l.filter_initTimer=null,l.filter_formatterCount=0,l.filter_formatterInit=[],l.filter_anyColumnSelector='[data-column="all"],[data-column="any"]',l.filter_multipleColumnSelector='[data-column*="-"],[data-column*=","]',h="\\{"+t.regex.query+"\\}",e.extend(m,{child:new RegExp(s.cssChildRow),filtered:new RegExp(l.filter_filteredRow),alreadyFiltered:new RegExp("(\\s+("+r.language.or+"|-|"+r.language.to+")\\s+)","i"),toTest:new RegExp("\\s+(-|"+r.language.to+")\\s+","i"),toSplit:new RegExp("(?:\\s+(?:-|"+r.language.to+")\\s+)","gi"),andTest:new RegExp("\\s+("+r.language.and+"|&&)\\s+","i"),andSplit:new RegExp("(?:\\s+(?:"+r.language.and+"|&&)\\s+)","gi"),orTest:/\|/,orSplit:new RegExp("(?:\\s+(?:"+r.language.or+")\\s+|\\|)","gi"),iQuery:new RegExp(h,"i"),igQuery:new RegExp(h,"ig"),operTest:/^[<>]=?/,gtTest:/>/,gteTest:/>=/,ltTest:/</,lteTest:/<=/,notTest:/^\!/,wildOrTest:/[\?\*\|]/,wildTest:/\?\*/,fuzzyTest:/^~/,exactTest:/[=\"\|!]/}),h=s.$headers.filter(".filter-false, .parser-false").length,l.filter_columnFilters!==!1&&h!==s.$headers.length&&t.buildRow(a,s,l),c="addRows updateCell update updateRows updateComplete appendCache filterReset filterEnd search ".split(" ").join(s.namespace+"filter "),s.$table.bind(c,function(r,n){return h=l.filter_hideEmpty&&e.isEmptyObject(s.cache)&&!(s.delayInit&&"appendCache"===r.type),s.$table.find("."+i.filterRow).toggleClass(l.filter_filteredRow,h),/(search|filter)/.test(r.type)||(r.stopPropagation(),t.buildDefault(a,!0)),"filterReset"===r.type?(s.$table.find("."+i.filter).add(l.filter_$externalFilters).val(""),t.searching(a,[])):"filterEnd"===r.type?t.buildDefault(a,!0):(n="search"===r.type?n:"updateComplete"===r.type?s.$table.data("lastSearch"):"",/(update|add)/.test(r.type)&&"updateComplete"!==r.type&&(s.lastCombinedFilter=null,s.lastSearch=[]),t.searching(a,n,!0)),!1}),l.filter_reset&&(l.filter_reset instanceof e?l.filter_reset.click(function(){s.$table.trigger("filterReset")}):e(l.filter_reset).length&&e(document).undelegate(l.filter_reset,"click.tsfilter").delegate(l.filter_reset,"click.tsfilter",function(){s.$table.trigger("filterReset")})),l.filter_functions)for(f=0;f<s.columns;f++)if(p=r.getColumnData(a,l.filter_functions,f))if(d=s.$headerIndexed[f].removeClass("filter-select"),g=!(d.hasClass("filter-false")||d.hasClass("parser-false")),n="",p===!0&&g)t.buildSelect(a,f);else if("object"==typeof p&&g){for(o in p)"string"==typeof o&&(n+=""===n?'<option value="">'+(d.data("placeholder")||d.attr("data-placeholder")||l.filter_placeholder.select||"")+"</option>":"",h=o,c=o,o.indexOf(l.filter_selectSourceSeparator)>=0&&(h=o.split(l.filter_selectSourceSeparator),c=h[1],h=h[0]),n+="<option "+(c===h?"":'data-function-name="'+o+'" ')+'value="'+h+'">'+c+"</option>");s.$table.find("thead").find("select."+i.filter+'[data-column="'+f+'"]').append(n),c=l.filter_selectSource,p=e.isFunction(c)?!0:r.getColumnData(a,c,f),p&&t.buildSelect(s.table,f,"",!0,d.hasClass(l.filter_onlyAvail))}t.buildDefault(a,!0),t.bindSearch(a,s.$table.find("."+i.filter),!0),l.filter_external&&t.bindSearch(a,l.filter_external),l.filter_hideFilters&&t.hideFilters(a,s),s.showProcessing&&(c="filterStart filterEnd ".split(" ").join(s.namespace+"filter "),s.$table.unbind(c.replace(r.regex.spaces," ")).bind(c,function(t,l){d=l?s.$table.find("."+i.header).filter("[data-column]").filter(function(){return""!==l[e(this).data("column")]}):"",r.isProcessing(a,"filterStart"===t.type,l?d:"")})),s.filteredRows=s.totalRows,c="tablesorter-initialized pagerBeforeInitialized ".split(" ").join(s.namespace+"filter "),s.$table.unbind(c.replace(r.regex.spaces," ")).bind(c,function(){var e=this.config.widgetOptions;u=t.setDefaults(a,s,e)||[],u.length&&(s.delayInit&&""===u.join("")||r.setFilters(a,u,!0)),s.$table.trigger("filterFomatterUpdate"),setTimeout(function(){e.filter_initialized||t.filterInitComplete(s)},100)}),s.pager&&s.pager.initialized&&!l.filter_initialized&&(s.$table.trigger("filterFomatterUpdate"),setTimeout(function(){t.filterInitComplete(s)},100))},formatterUpdated:function(e,t){var r=e.closest("table")[0].config.widgetOptions;r.filter_initialized||(r.filter_formatterInit[t]=1)},filterInitComplete:function(r){var i,a,s=r.widgetOptions,l=0,n=function(){s.filter_initialized=!0,r.$table.trigger("filterInit",r),t.findRows(r.table,r.$table.data("lastSearch")||[])};if(e.isEmptyObject(s.filter_formatter))n();else{for(a=s.filter_formatterInit.length,i=0;a>i;i++)1===s.filter_formatterInit[i]&&l++;clearTimeout(s.filter_initTimer),s.filter_initialized||l!==s.filter_formatterCount?s.filter_initialized||(s.filter_initTimer=setTimeout(function(){n()},500)):n()}},setDefaults:function(t,i,a){var s,l,n,o,c,d=r.getFilters(t)||[];if(a.filter_saveFilters&&r.storage&&(l=r.storage(t,"tablesorter-filters")||[],s=e.isArray(l),s&&""===l.join("")||!s||(d=l)),""===d.join(""))for(c=i.$headers.add(a.filter_$externalFilters).filter("["+a.filter_defaultAttrib+"]"),n=0;n<=i.columns;n++)o=n===i.columns?"all":n,d[n]=c.filter('[data-column="'+o+'"]').attr(a.filter_defaultAttrib)||d[n]||"";return i.$table.data("lastSearch",d),d},parseFilter:function(e,t,r,i){return i?e.parsers[r].format(t,e.table,[],r):t},buildRow:function(t,a,s){var l,n,o,c,d,f,u,h,p=s.filter_cellFilter,g=a.columns,m=e.isArray(p),b='<tr role="row" class="'+i.filterRow+" "+a.cssIgnoreRow+'">';for(n=0;g>n;n++)b+="<td",b+=m?p[n]?' class="'+p[n]+'"':"":""!==p?' class="'+p+'"':"",b+="></td>";for(a.$filters=e(b+="</tr>").appendTo(a.$table.children("thead").eq(0)).find("td"),n=0;g>n;n++)d=!1,o=a.$headerIndexed[n],u=r.getColumnData(t,s.filter_functions,n),c=s.filter_functions&&u&&"function"!=typeof u||o.hasClass("filter-select"),l=r.getColumnData(t,a.headers,n),d="false"===r.getData(o[0],l,"filter")||"false"===r.getData(o[0],l,"parser"),c?b=e("<select>").appendTo(a.$filters.eq(n)):(u=r.getColumnData(t,s.filter_formatter,n),u?(s.filter_formatterCount++,b=u(a.$filters.eq(n),n),b&&0===b.length&&(b=a.$filters.eq(n).children("input")),b&&(0===b.parent().length||b.parent().length&&b.parent()[0]!==a.$filters[n])&&a.$filters.eq(n).append(b)):b=e('<input type="search">').appendTo(a.$filters.eq(n)),b&&(h=o.data("placeholder")||o.attr("data-placeholder")||s.filter_placeholder.search||"",b.attr("placeholder",h))),b&&(f=(e.isArray(s.filter_cssFilter)?"undefined"!=typeof s.filter_cssFilter[n]?s.filter_cssFilter[n]||"":"":s.filter_cssFilter)||"",b.addClass(i.filter+" "+f).attr("data-column",n),d&&(b.attr("placeholder","").addClass(i.filterDisabled)[0].disabled=!0))},bindSearch:function(i,a,s){if(i=e(i)[0],a=e(a),a.length){var l,n=i.config,o=n.widgetOptions,c=n.namespace+"filter",d=o.filter_$externalFilters;s!==!0&&(l=o.filter_anyColumnSelector+","+o.filter_multipleColumnSelector,o.filter_$anyMatch=a.filter(l),d&&d.length?o.filter_$externalFilters=o.filter_$externalFilters.add(a):o.filter_$externalFilters=a,r.setFilters(i,n.$table.data("lastSearch")||[],s===!1)),l="keypress keyup search change ".split(" ").join(c+" "),a.attr("data-lastSearchTime",(new Date).getTime()).unbind(l.replace(r.regex.spaces," ")).bind("keyup"+c,function(r){if(e(this).attr("data-lastSearchTime",(new Date).getTime()),27===r.which)this.value="";else{if(o.filter_liveSearch===!1)return;if(""!==this.value&&("number"==typeof o.filter_liveSearch&&this.value.length<o.filter_liveSearch||13!==r.which&&8!==r.which&&(r.which<32||r.which>=37&&r.which<=40)))return}t.searching(i,!0,!0)}).bind("search change keypress ".split(" ").join(c+" "),function(r){var a=parseInt(e(this).attr("data-column"),10);(13===r.which||"search"===r.type||"change"===r.type&&this.value!==n.lastSearch[a])&&(r.preventDefault(),e(this).attr("data-lastSearchTime",(new Date).getTime()),t.searching(i,!1,!0))})}},searching:function(e,r,i){var a=e.config.widgetOptions;clearTimeout(a.searchTimer),"undefined"==typeof r||r===!0?a.searchTimer=setTimeout(function(){t.checkFilters(e,r,i)},a.filter_liveSearch?a.filter_searchDelay:10):t.checkFilters(e,r,i)},checkFilters:function(a,s,l){var n=a.config,o=n.widgetOptions,c=e.isArray(s),d=c?s:r.getFilters(a,!0),f=(d||[]).join("");return e.isEmptyObject(n.cache)?void(n.delayInit&&n.pager&&n.pager.initialized&&n.$table.trigger("updateCache",[function(){t.checkFilters(a,!1,l)}])):(c&&(r.setFilters(a,d,!1,l!==!0),o.filter_initialized||(n.lastCombinedFilter="")),o.filter_hideFilters&&n.$table.find("."+i.filterRow).trigger(""===f?"mouseleave":"mouseenter"),n.lastCombinedFilter!==f||s===!1?(s===!1&&(n.lastCombinedFilter=null,n.lastSearch=[]),o.filter_initialized&&n.$table.trigger("filterStart",[d]),n.showProcessing?void setTimeout(function(){return t.findRows(a,d,f),!1},30):(t.findRows(a,d,f),!1)):void 0)},hideFilters:function(t,a){var s;a.$table.find("."+i.filterRow).bind("mouseenter mouseleave",function(t){var r=t,l=e(this);clearTimeout(s),s=setTimeout(function(){/enter|over/.test(r.type)?l.removeClass(i.filterRowHide):e(document.activeElement).closest("tr")[0]!==l[0]&&""===a.lastCombinedFilter&&l.addClass(i.filterRowHide)},200)}).find("input, select").bind("focus blur",function(t){var l=t,n=e(this).closest("tr");clearTimeout(s),s=setTimeout(function(){clearTimeout(s),""===r.getFilters(a.$table).join("")&&n.toggleClass(i.filterRowHide,"focus"!==l.type)},200)})},defaultFilter:function(r,i){if(""===r)return r;var a=t.regex.iQuery,s=i.match(t.regex.igQuery).length,l=s>1?e.trim(r).split(/\s/):[e.trim(r)],n=l.length-1,o=0,c=i;for(1>n&&s>1&&(l[1]=l[0]);a.test(c);)c=c.replace(a,l[o++]||""),a.test(c)&&n>o&&""!==(l[o]||"")&&(c=i.replace(a,c));return c},getLatestSearch:function(t){return t?t.sort(function(t,r){return e(r).attr("data-lastSearchTime")-e(t).attr("data-lastSearchTime")}):t||e()},multipleColumns:function(r,i){var a,s,l,n,o,c,d,f,u,h=r.widgetOptions,p=h.filter_initialized||!i.filter(h.filter_anyColumnSelector).length,g=[],m=e.trim(t.getLatestSearch(i).attr("data-column")||"");if(!/[,-]/.test(m)&&1===m.length)return parseInt(m,10);if(p&&/-/.test(m))for(s=m.match(/(\d+)\s*-\s*(\d+)/g),u=s.length,f=0;u>f;f++){for(l=s[f].split(/\s*-\s*/),n=parseInt(l[0],10)||0,o=parseInt(l[1],10)||r.columns-1,n>o&&(a=n,n=o,o=a),o>=r.columns&&(o=r.columns-1);o>=n;n++)g.push(n);m=m.replace(s[f],"")}if(p&&/,/.test(m))for(c=m.split(/\s*,\s*/),u=c.length,d=0;u>d;d++)""!==c[d]&&(f=parseInt(c[d],10),f<r.columns&&g.push(f));if(!g.length)for(f=0;f<r.columns;f++)g.push(f);return g},processTypes:function(r,i,a){var s,l=null,n=null;for(s in t.types)e.inArray(s,a.excludeMatch)<0&&null===n&&(n=t.types[s](r,i,a),null!==n&&(l=n));return l},processRow:function(i,a,s){var l,n,o,c,d,f,u,h=t.regex,p=i.widgetOptions,g=!0,m=p.filter_$anyMatch&&p.filter_$anyMatch.length?t.multipleColumns(i,p.filter_$anyMatch):[];if(a.$cells=a.$row.children(),a.anyMatchFlag&&m.length>1){if(a.anyMatch=!0,a.isMatch=!0,a.rowArray=a.$cells.map(function(t){return e.inArray(t,m)>-1?(a.parsed[t]?u=a.cacheArray[t]:(u=a.rawArray[t],u=e.trim(p.filter_ignoreCase?u.toLowerCase():u),i.sortLocaleCompare&&(u=r.replaceAccents(u))),u):void 0}).get(),a.filter=a.anyMatchFilter,a.iFilter=a.iAnyMatchFilter,a.exact=a.rowArray.join(" "),a.iExact=p.filter_ignoreCase?a.exact.toLowerCase():a.exact,a.cache=a.cacheArray.slice(0,-1).join(" "),s.excludeMatch=s.noAnyMatch,c=t.processTypes(i,a,s),null!==c)g=c;else if(p.filter_startsWith)for(g=!1,m=Math.min(i.columns,a.rowArray.length);!g&&m>0;)m--,g=g||0===a.rowArray[m].indexOf(a.iFilter);else g=(a.iExact+a.childRowText).indexOf(a.iFilter)>=0;if(a.anyMatch=!1,a.filters.join("")===a.filter)return g}for(m=0;m<i.columns;m++)a.filter=a.filters[m],a.index=m,s.excludeMatch=s.excludeFilter[m],a.filter&&(a.cache=a.cacheArray[m],p.filter_useParsedData||a.parsed[m]?a.exact=a.cache:(n=a.rawArray[m]||"",a.exact=i.sortLocaleCompare?r.replaceAccents(n):n),a.iExact=!h.type.test(typeof a.exact)&&p.filter_ignoreCase?a.exact.toLowerCase():a.exact,a.isMatch=i.$headerIndexed[a.index].hasClass("filter-match"),n=g,f=p.filter_columnFilters?i.$filters.add(i.$externalFilters).filter('[data-column="'+m+'"]').find("select option:selected").attr("data-function-name")||"":"",i.sortLocaleCompare&&(a.filter=r.replaceAccents(a.filter)),o=!0,p.filter_defaultFilter&&h.iQuery.test(s.defaultColFilter[m])&&(a.filter=t.defaultFilter(a.filter,s.defaultColFilter[m]),o=!1),a.iFilter=p.filter_ignoreCase?(a.filter||"").toLowerCase():a.filter,d=s.functions[m],l=i.$headerIndexed[m].hasClass("filter-select"),c=null,(d||l&&o)&&(d===!0||l?c=a.isMatch?a.iExact.search(a.iFilter)>=0:a.filter===a.exact:"function"==typeof d?c=d(a.exact,a.cache,a.filter,m,a.$row,i,a):"function"==typeof d[f||a.filter]&&(u=f||a.filter,c=d[u](a.exact,a.cache,a.filter,m,a.$row,i,a))),null===c?(c=t.processTypes(i,a,s),null!==c?n=c:(u=(a.iExact+a.childRowText).indexOf(t.parseFilter(i,a.iFilter,m,a.parsed[m])),n=!p.filter_startsWith&&u>=0||p.filter_startsWith&&0===u)):n=c,g=n?g:!1);return g},findRows:function(i,a,s){if(i.config.lastCombinedFilter!==s&&i.config.widgetOptions.filter_initialized){var l,n,o,c,d,f,u,h,p,g,m,b,y,_,v,w,x,z,C,S,$,F,T=e.extend([],a),R=t.regex,k=i.config,A=k.widgetOptions,H={anyMatch:!1,filters:a,filter_regexCache:[]},I={noAnyMatch:["range","notMatch","operators"],functions:[],excludeFilter:[],defaultColFilter:[],defaultAnyFilter:r.getColumnData(i,A.filter_defaultFilter,k.columns,!0)||""};for(H.parsed=k.$headers.map(function(t){return k.parsers&&k.parsers[t]&&k.parsers[t].parsed||r.getData&&"parsed"===r.getData(k.$headerIndexed[t],r.getColumnData(i,k.headers,t),"filter")||e(this).hasClass("filter-parsed")}).get(),h=0;h<k.columns;h++)I.functions[h]=r.getColumnData(i,A.filter_functions,h),I.defaultColFilter[h]=r.getColumnData(i,A.filter_defaultFilter,h)||"",I.excludeFilter[h]=(r.getColumnData(i,A.filter_excludeFilter,h,!0)||"").split(/\s+/);for(k.debug&&(console.log("Filter: Starting filter widget search",a),y=new Date),k.filteredRows=0,k.totalRows=0,s=(T||[]).join(""),f=0;f<k.$tbodies.length;f++){if(u=r.processTbody(i,k.$tbodies.eq(f),!0),h=k.columns,n=k.cache[f].normalized,c=e(e.map(n,function(e){return e[h].$row.get()})),""===s||A.filter_serversideFiltering)c.removeClass(A.filter_filteredRow).not("."+k.cssChildRow).css("display","");else{if(c=c.not("."+k.cssChildRow),l=c.length,(A.filter_$anyMatch&&A.filter_$anyMatch.length||"undefined"!=typeof a[k.columns])&&(H.anyMatchFlag=!0,H.anyMatchFilter=""+(a[k.columns]||A.filter_$anyMatch&&t.getLatestSearch(A.filter_$anyMatch).val()||""),A.filter_columnAnyMatch)){for(z=H.anyMatchFilter.split(R.andSplit),C=!1,v=0;v<z.length;v++)S=z[v].split(":"),S.length>1&&($=parseInt(S[0],10)-1,$>=0&&$<k.columns&&(a[$]=S[1],z.splice(v,1),v--,C=!0));C&&(H.anyMatchFilter=z.join(" && "))}if(x=A.filter_searchFiltered,m=k.lastSearch||k.$table.data("lastSearch")||[],x)for(v=0;h+1>v;v++)_=a[v]||"",x||(v=h),x=!(!x||!m.length||0!==_.indexOf(m[v]||"")||R.alreadyFiltered.test(_)||R.exactTest.test(_)||R.isNeg1.test(_)||R.isNeg2.test(_)||""!==_&&k.$filters&&k.$filters.eq(v).find("select").length&&!k.$headerIndexed[v].hasClass("filter-match"));for(w=c.not("."+A.filter_filteredRow).length,x&&0===w&&(x=!1),k.debug&&console.log("Filter: Searching through "+(x&&l>w?w:"all")+" rows"),H.anyMatchFlag&&(k.sortLocaleCompare&&(H.anyMatchFilter=r.replaceAccents(H.anyMatchFilter)),A.filter_defaultFilter&&R.iQuery.test(I.defaultAnyFilter)&&(H.anyMatchFilter=t.defaultFilter(H.anyMatchFilter,I.defaultAnyFilter),x=!1),H.iAnyMatchFilter=A.filter_ignoreCase&&k.ignoreCase?H.anyMatchFilter.toLowerCase():H.anyMatchFilter),d=0;l>d;d++)if(F=c[d].className,p=d&&R.child.test(F),!(p||x&&R.filtered.test(F))){if(H.$row=c.eq(d),H.cacheArray=n[d],o=H.cacheArray[k.columns],H.rawArray=o.raw,H.childRowText="",!A.filter_childByColumn){for(F="",g=o.child,v=0;v<g.length;v++)F+=" "+g[v].join("")||"";H.childRowText=A.filter_childRows?A.filter_ignoreCase?F.toLowerCase():F:""}if(b=t.processRow(k,H,I),g=o.$row.filter(":gt( 0 )"),A.filter_childRows&&g.length){if(A.filter_childByColumn)for(v=0;v<g.length;v++)H.$row=g.eq(v),H.cacheArray=o.child[v],H.rawArray=H.cacheArray,b=b||t.processRow(k,H,I);g.toggleClass(A.filter_filteredRow,!b)}o.$row.toggleClass(A.filter_filteredRow,!b)[0].display=b?"":"none"}}k.filteredRows+=c.not("."+A.filter_filteredRow).length,k.totalRows+=c.length,r.processTbody(i,u,!1)}k.lastCombinedFilter=s,k.lastSearch=T,k.$table.data("lastSearch",T),A.filter_saveFilters&&r.storage&&r.storage(i,"tablesorter-filters",T),k.debug&&console.log("Completed filter widget search"+r.benchmark(y)),A.filter_initialized&&k.$table.trigger("filterEnd",k),setTimeout(function(){k.$table.trigger("applyWidgets")},0)}},getOptionSource:function(i,a,s){i=e(i)[0];var l,n,o,c,d=i.config,f=d.widgetOptions,u=[],h=!1,p=f.filter_selectSource,g=d.$table.data("lastSearch")||[],m=e.isFunction(p)?!0:r.getColumnData(i,p,a);if(s&&""!==g[a]&&(s=!1),m===!0)h=p(i,a,s);else{if(m instanceof e||"string"===e.type(m)&&m.indexOf("</option>")>=0)return m;e.isArray(m)?h=m:"object"===e.type(p)&&m&&(h=m(i,a,s))}if(h===!1&&(h=t.getOptions(i,a,s)),h=e.grep(h,function(t,r){return e.inArray(t,h)===r}),d.$headerIndexed[a].hasClass("filter-select-nosort"))return h;for(c=h.length,o=0;c>o;o++)n=h[o],u.push({t:n,p:d.parsers&&d.parsers.length&&d.parsers[a].format(n,i,[],a)||n});for(l=d.textSorter||"",u.sort(function(t,s){var n=t.p.toString(),o=s.p.toString();return e.isFunction(l)?l(n,o,!0,a,i):"object"==typeof l&&l.hasOwnProperty(a)?l[a](n,o,!0,a,i):r.sortNatural?r.sortNatural(n,o):!0}),h=[],c=u.length,o=0;c>o;o++)h.push(u[o].t);return h},getOptions:function(t,r,i){t=e(t)[0];var a,s,l,n,o,c=t.config,d=c.widgetOptions,f=[];for(s=0;s<c.$tbodies.length;s++)for(o=c.cache[s],l=c.cache[s].normalized.length,a=0;l>a;a++)n=o.row?o.row[a]:o.normalized[a][c.columns].$row[0],i&&n.className.match(d.filter_filteredRow)||(d.filter_useParsedData||c.parsers[r].parsed||c.$headerIndexed[r].hasClass("filter-parsed")?f.push(""+o.normalized[a][r]):f.push(o.normalized[a][c.columns].raw[r]));return f},buildSelect:function(r,a,s,l,n){if(r=e(r)[0],a=parseInt(a,10),r.config.cache&&!e.isEmptyObject(r.config.cache)){var o,c,d,f,u,h,p=r.config,g=p.widgetOptions,m=p.$headerIndexed[a],b='<option value="">'+(m.data("placeholder")||m.attr("data-placeholder")||g.filter_placeholder.select||"")+"</option>",y=p.$table.find("thead").find("select."+i.filter+'[data-column="'+a+'"]').val();if(("undefined"==typeof s||""===s)&&(s=t.getOptionSource(r,a,n)),e.isArray(s)){for(o=0;o<s.length;o++)d=s[o]=(""+s[o]).replace(t.regex.quote,"&quot;"),c=d,d.indexOf(g.filter_selectSourceSeparator)>=0&&(f=d.split(g.filter_selectSourceSeparator),c=f[0],d=f[1]),b+=""!==s[o]?"<option "+(c===d?"":'data-function-name="'+s[o]+'" ')+'value="'+c+'">'+d+"</option>":"";s=[]}u=(p.$filters?p.$filters:p.$table.children("thead")).find("."+i.filter),g.filter_$externalFilters&&(u=u&&u.length?u.add(g.filter_$externalFilters):g.filter_$externalFilters),h=u.filter('select[data-column="'+a+'"]'),h.length&&(h[l?"html":"append"](b),e.isArray(s)||h.append(s).val(y),h.val(y))}},buildDefault:function(e,i){var a,s,l,n=e.config,o=n.widgetOptions,c=n.columns;for(a=0;c>a;a++)s=n.$headerIndexed[a],l=!(s.hasClass("filter-false")||s.hasClass("parser-false")),(s.hasClass("filter-select")||r.getColumnData(e,o.filter_functions,a)===!0)&&l&&t.buildSelect(e,a,"",i,s.hasClass(o.filter_onlyAvail))}},r.getFilters=function(r,a,s,l){var n,o,c,d,f=!1,u=r?e(r)[0].config:"",h=u?u.widgetOptions:"";if(a!==!0&&h&&!h.filter_columnFilters||e.isArray(s)&&s.join("")===u.lastCombinedFilter)return e(r).data("lastSearch");if(u&&(u.$filters&&(o=u.$filters.find("."+i.filter)),h.filter_$externalFilters&&(o=o&&o.length?o.add(h.filter_$externalFilters):h.filter_$externalFilters),
o&&o.length))for(f=s||[],n=0;n<u.columns+1;n++)d=n===u.columns?h.filter_anyColumnSelector+","+h.filter_multipleColumnSelector:'[data-column="'+n+'"]',c=o.filter(d),c.length&&(c=t.getLatestSearch(c),e.isArray(s)?(l&&c.length>1&&(c=c.slice(1)),n===u.columns&&(d=c.filter(h.filter_anyColumnSelector),c=d.length?d:c),c.val(s[n]).trigger("change.tsfilter")):(f[n]=c.val()||"",n===u.columns?c.slice(1).filter('[data-column*="'+c.attr("data-column")+'"]').val(f[n]):c.slice(1).val(f[n])),n===u.columns&&c.length&&(h.filter_$anyMatch=c));return 0===f.length&&(f=!1),f},r.setFilters=function(i,a,s,l){var n=i?e(i)[0].config:"",o=r.getFilters(i,!0,a,l);return n&&s&&(n.lastCombinedFilter=null,n.lastSearch=[],t.searching(n.table,a,l),n.$table.trigger("filterFomatterUpdate")),!!o}}(jQuery),function(e,t){"use strict";var r=e.tablesorter||{};e.extend(r.css,{sticky:"tablesorter-stickyHeader",stickyVis:"tablesorter-sticky-visible",stickyHide:"tablesorter-sticky-hidden",stickyWrap:"tablesorter-sticky-wrapper"}),r.addHeaderResizeEvent=function(t,r,i){if(t=e(t)[0],t.config){var a={timer:250},s=e.extend({},a,i),l=t.config,n=l.widgetOptions,o=function(e){var t,r,i,a,s,o,c=l.$headers.length;for(n.resize_flag=!0,r=[],t=0;c>t;t++)i=l.$headers.eq(t),a=i.data("savedSizes")||[0,0],s=i[0].offsetWidth,o=i[0].offsetHeight,(s!==a[0]||o!==a[1])&&(i.data("savedSizes",[s,o]),r.push(i[0]));r.length&&e!==!1&&l.$table.trigger("resize",[r]),n.resize_flag=!1};return o(!1),clearInterval(n.resize_timer),r?(n.resize_flag=!1,!1):void(n.resize_timer=setInterval(function(){n.resize_flag||o()},s.timer))}},r.addWidget({id:"stickyHeaders",priority:60,options:{stickyHeaders:"",stickyHeaders_attachTo:null,stickyHeaders_xScroll:null,stickyHeaders_yScroll:null,stickyHeaders_offset:0,stickyHeaders_filteredToTop:!0,stickyHeaders_cloneId:"-sticky",stickyHeaders_addResizeEvent:!0,stickyHeaders_includeCaption:!0,stickyHeaders_zIndex:2},format:function(i,a,s){if(!(a.$table.hasClass("hasStickyHeaders")||e.inArray("filter",a.widgets)>=0&&!a.$table.hasClass("hasFilters"))){var l,n,o,c,d=a.$table,f=e(s.stickyHeaders_attachTo),u=a.namespace+"stickyheaders ",h=e(s.stickyHeaders_yScroll||s.stickyHeaders_attachTo||t),p=e(s.stickyHeaders_xScroll||s.stickyHeaders_attachTo||t),g=d.children("thead:first"),m=g.children("tr").not(".sticky-false").children(),b=d.children("tfoot"),y=isNaN(s.stickyHeaders_offset)?e(s.stickyHeaders_offset):"",_=y.length?y.height()||0:parseInt(s.stickyHeaders_offset,10)||0,v=d.parent().closest("."+r.css.table).hasClass("hasStickyHeaders")?d.parent().closest("table.tablesorter")[0].config.widgetOptions.$sticky.parent():[],w=v.length?v.height():0,x=s.$sticky=d.clone().addClass("containsStickyHeaders "+r.css.sticky+" "+s.stickyHeaders+" "+a.namespace.slice(1)+"_extra_table").wrap('<div class="'+r.css.stickyWrap+'">'),z=x.parent().addClass(r.css.stickyHide).css({position:f.length?"absolute":"fixed",padding:parseInt(x.parent().parent().css("padding-left"),10),top:_+w,left:0,visibility:"hidden",zIndex:s.stickyHeaders_zIndex||2}),C=x.children("thead:first"),S="",$=0,F=function(e,r){var i,a,s,l,n,o=e.filter(":visible"),c=o.length;for(i=0;c>i;i++)l=r.filter(":visible").eq(i),n=o.eq(i),"border-box"===n.css("box-sizing")?a=n.outerWidth():"collapse"===l.css("border-collapse")?t.getComputedStyle?a=parseFloat(t.getComputedStyle(n[0],null).width):(s=parseFloat(n.css("border-width")),a=n.outerWidth()-parseFloat(n.css("padding-left"))-parseFloat(n.css("padding-right"))-s):a=n.width(),l.css({width:a,"min-width":a,"max-width":a})},T=function(){_=y.length?y.height()||0:parseInt(s.stickyHeaders_offset,10)||0,$=0,z.css({left:f.length?parseInt(f.css("padding-left"),10)||0:d.offset().left-parseInt(d.css("margin-left"),10)-p.scrollLeft()-$,width:d.outerWidth()}),F(d,x),F(m,c)},R=function(t){if(d.is(":visible")){w=v.length?v.offset().top-h.scrollTop()+v.height():0;var i=d.offset(),a=e.isWindow(h[0]),s=e.isWindow(p[0]),l=(f.length?a?h.scrollTop():h.offset().top:h.scrollTop())+_+w,n=d.height()-(z.height()+(b.height()||0)),o=l>i.top&&l<i.top+n?"visible":"hidden",c={visibility:o};f.length&&(c.top=a?l-f.offset().top:f.scrollTop()),s&&(c.left=d.offset().left-parseInt(d.css("margin-left"),10)-p.scrollLeft()-$),v.length&&(c.top=(c.top||0)+_+w),z.removeClass(r.css.stickyVis+" "+r.css.stickyHide).addClass("visible"===o?r.css.stickyVis:r.css.stickyHide).css(c),(o!==S||t)&&(T(),S=o)}};if(f.length&&!f.css("position")&&f.css("position","relative"),x.attr("id")&&(x[0].id+=s.stickyHeaders_cloneId),x.find("thead:gt(0), tr.sticky-false").hide(),x.find("tbody, tfoot").remove(),x.find("caption").toggle(s.stickyHeaders_includeCaption),c=C.children().children(),x.css({height:0,width:0,margin:0}),c.find("."+r.css.resizer).remove(),d.addClass("hasStickyHeaders").bind("pagerComplete"+u,function(){T()}),r.bindEvents(i,C.children().children("."+r.css.header)),d.after(z),a.onRenderHeader)for(o=C.children("tr").children(),n=o.length,l=0;n>l;l++)a.onRenderHeader.apply(o.eq(l),[l,a,x]);p.add(h).unbind("scroll resize ".split(" ").join(u).replace(/\s+/g," ")).bind("scroll resize ".split(" ").join(u),function(e){R("resize"===e.type)}),a.$table.unbind("stickyHeadersUpdate"+u).bind("stickyHeadersUpdate"+u,function(){R(!0)}),s.stickyHeaders_addResizeEvent&&r.addHeaderResizeEvent(i),d.hasClass("hasFilters")&&s.filter_columnFilters&&(d.bind("filterEnd"+u,function(){var i=e(document.activeElement).closest("td"),l=i.parent().children().index(i);z.hasClass(r.css.stickyVis)&&s.stickyHeaders_filteredToTop&&(t.scrollTo(0,d.position().top),l>=0&&a.$filters&&a.$filters.eq(l).find("a, select, input").filter(":visible").focus())}),r.filter.bindSearch(d,c.find("."+r.css.filter)),s.filter_hideFilters&&r.filter.hideFilters(x,a)),d.trigger("stickyHeadersInit")}},remove:function(i,a,s){var l=a.namespace+"stickyheaders ";a.$table.removeClass("hasStickyHeaders").unbind("pagerComplete filterEnd stickyHeadersUpdate ".split(" ").join(l).replace(/\s+/g," ")).next("."+r.css.stickyWrap).remove(),s.$sticky&&s.$sticky.length&&s.$sticky.remove(),e(t).add(s.stickyHeaders_xScroll).add(s.stickyHeaders_yScroll).add(s.stickyHeaders_attachTo).unbind("scroll resize ".split(" ").join(l).replace(/\s+/g," ")),r.addHeaderResizeEvent(i,!1)}})}(jQuery,window),function(e,t){"use strict";var r=e.tablesorter||{};e.extend(r.css,{resizableContainer:"tablesorter-resizable-container",resizableHandle:"tablesorter-resizable-handle",resizableNoSelect:"tablesorter-disableSelection",resizableStorage:"tablesorter-resizable"}),e(function(){var t="<style>body."+r.css.resizableNoSelect+" { -ms-user-select: none; -moz-user-select: -moz-none;-khtml-user-select: none; -webkit-user-select: none; user-select: none; }."+r.css.resizableContainer+" { position: relative; height: 1px; }."+r.css.resizableHandle+" { position: absolute; display: inline-block; width: 8px;top: 1px; cursor: ew-resize; z-index: 3; user-select: none; -moz-user-select: none; }</style>";e(t).appendTo("body")}),r.resizable={init:function(t,i){if(!t.$table.hasClass("hasResizable")){t.$table.addClass("hasResizable");var a,s,l,n,o,c=t.$table,d=c.parent(),f=parseInt(c.css("margin-top"),10),u=i.resizable_vars={useStorage:r.storage&&i.resizable!==!1,$wrap:d,mouseXPosition:0,$target:null,$next:null,overflow:"auto"===d.css("overflow")||"scroll"===d.css("overflow")||"auto"===d.css("overflow-x")||"scroll"===d.css("overflow-x"),storedSizes:[]};for(r.resizableReset(t.table,!0),u.tableWidth=c.width(),u.fullWidth=Math.abs(d.width()-u.tableWidth)<20,u.useStorage&&u.overflow&&(r.storage(t.table,"tablesorter-table-original-css-width",u.tableWidth),o=r.storage(t.table,"tablesorter-table-resized-width")||"auto",r.resizable.setWidth(c,o,!0)),i.resizable_vars.storedSizes=n=(u.useStorage?r.storage(t.table,r.css.resizableStorage):[])||[],r.resizable.setWidths(t,i,n),r.resizable.updateStoredSizes(t,i),i.$resizable_container=e('<div class="'+r.css.resizableContainer+'">').css({top:f}).insertBefore(c),l=0;l<t.columns;l++)s=t.$headerIndexed[l],o=r.getColumnData(t.table,t.headers,l),a="false"===r.getData(s,o,"resizable"),a||e('<div class="'+r.css.resizableHandle+'">').appendTo(i.$resizable_container).attr({"data-column":l,unselectable:"on"}).data("header",s).bind("selectstart",!1);c.one("tablesorter-initialized",function(){r.resizable.setHandlePosition(t,i),r.resizable.bindings(this.config,this.config.widgetOptions)})}},updateStoredSizes:function(e,t){var r,i,a=e.columns,s=t.resizable_vars;for(s.storedSizes=[],r=0;a>r;r++)i=e.$headerIndexed[r],s.storedSizes[r]=i.is(":visible")?i.width():0},setWidth:function(e,t,r){e.css({width:t,"min-width":r?t:"","max-width":r?t:""})},setWidths:function(t,i,a){var s,l,n=i.resizable_vars,o=e(t.namespace+"_extra_headers"),c=t.$table.children("colgroup").children("col");if(a=a||n.storedSizes||[],a.length){for(s=0;s<t.columns;s++)r.resizable.setWidth(t.$headerIndexed[s],a[s],n.overflow),o.length&&(l=o.eq(s).add(c.eq(s)),r.resizable.setWidth(l,a[s],n.overflow));l=e(t.namespace+"_extra_table"),l.length&&!r.hasWidget(t.table,"scroller")&&r.resizable.setWidth(l,t.$table.outerWidth(),n.overflow)}},setHandlePosition:function(t,i){var a,s=r.hasWidget(t.table,"scroller"),l=t.$table.height(),n=i.$resizable_container.children(),o=Math.floor(n.width()/2);s&&(l=0,t.$table.closest("."+r.css.scrollerWrap).children().each(function(){var t=e(this);l+=t.filter('[style*="height"]').length?t.height():t.children("table").height()})),a=t.$table.position().left,n.each(function(){var r=e(this),s=parseInt(r.attr("data-column"),10),n=t.columns-1,c=r.data("header");c&&(c.is(":visible")?(n>s||s===n&&i.resizable_addLastColumn)&&r.css({display:"inline-block",height:l,left:c.position().left-a+c.outerWidth()-o}):r.hide())})},toggleTextSelection:function(t,i){var a=t.namespace+"tsresize";t.widgetOptions.resizable_vars.disabled=i,e("body").toggleClass(r.css.resizableNoSelect,i),i?e("body").attr("unselectable","on").bind("selectstart"+a,!1):e("body").removeAttr("unselectable").unbind("selectstart"+a)},bindings:function(i,a){var s=i.namespace+"tsresize";a.$resizable_container.children().bind("mousedown",function(t){var s,l=a.resizable_vars,n=e(i.namespace+"_extra_headers"),o=e(t.target).data("header");s=parseInt(o.attr("data-column"),10),l.$target=o=o.add(n.filter('[data-column="'+s+'"]')),l.target=s,l.$next=t.shiftKey||a.resizable_targetLast?o.parent().children().not(".resizable-false").filter(":last"):o.nextAll(":not(.resizable-false)").eq(0),s=parseInt(l.$next.attr("data-column"),10),l.$next=l.$next.add(n.filter('[data-column="'+s+'"]')),l.next=s,l.mouseXPosition=t.pageX,r.resizable.updateStoredSizes(i,a),r.resizable.toggleTextSelection(i,!0)}),e(document).bind("mousemove"+s,function(e){var t=a.resizable_vars;t.disabled&&0!==t.mouseXPosition&&t.$target&&(a.resizable_throttle?(clearTimeout(t.timer),t.timer=setTimeout(function(){r.resizable.mouseMove(i,a,e)},isNaN(a.resizable_throttle)?5:a.resizable_throttle)):r.resizable.mouseMove(i,a,e))}).bind("mouseup"+s,function(){a.resizable_vars.disabled&&(r.resizable.toggleTextSelection(i,!1),r.resizable.stopResize(i,a),r.resizable.setHandlePosition(i,a))}),e(t).bind("resize"+s+" resizeEnd"+s,function(){r.resizable.setHandlePosition(i,a)}),i.$table.bind("columnUpdate"+s,function(){r.resizable.setHandlePosition(i,a)}).find("thead:first").add(e(i.namespace+"_extra_table").find("thead:first")).bind("contextmenu"+s,function(){var e=0===a.resizable_vars.storedSizes.length;return r.resizableReset(i.table),r.resizable.setHandlePosition(i,a),a.resizable_vars.storedSizes=[],e})},mouseMove:function(t,i,a){if(0!==i.resizable_vars.mouseXPosition&&i.resizable_vars.$target){var s,l=0,n=i.resizable_vars,o=n.$next,c=n.storedSizes[n.target],d=a.pageX-n.mouseXPosition;if(n.overflow){if(c+d>0){for(n.storedSizes[n.target]+=d,r.resizable.setWidth(n.$target,n.storedSizes[n.target],!0),s=0;s<t.columns;s++)l+=n.storedSizes[s];r.resizable.setWidth(t.$table.add(e(t.namespace+"_extra_table")),l)}o.length||(n.$wrap[0].scrollLeft=t.$table.width())}else n.fullWidth?(n.storedSizes[n.target]+=d,n.storedSizes[n.next]-=d,r.resizable.setWidths(t,i)):(n.storedSizes[n.target]+=d,r.resizable.setWidths(t,i));n.mouseXPosition=a.pageX,t.$table.trigger("stickyHeadersUpdate")}},stopResize:function(e,t){var i=t.resizable_vars;r.resizable.updateStoredSizes(e,t),i.useStorage&&(r.storage(e.table,r.css.resizableStorage,i.storedSizes),r.storage(e.table,"tablesorter-table-resized-width",e.$table.width())),i.mouseXPosition=0,i.$target=i.$next=null,e.$table.trigger("stickyHeadersUpdate")}},r.addWidget({id:"resizable",priority:40,options:{resizable:!0,resizable_addLastColumn:!1,resizable_widths:[],resizable_throttle:!1,resizable_targetLast:!1,resizable_fullWidth:null},init:function(e,t,i,a){r.resizable.init(i,a)},remove:function(t,i,a,s){if(a.$resizable_container){var l=i.namespace+"tsresize";i.$table.add(e(i.namespace+"_extra_table")).removeClass("hasResizable").children("thead").unbind("contextmenu"+l),a.$resizable_container.remove(),r.resizable.toggleTextSelection(i,!1),r.resizableReset(t,s),e(document).unbind("mousemove"+l+" mouseup"+l)}}}),r.resizableReset=function(t,i){e(t).each(function(){var e,a,s=this.config,l=s&&s.widgetOptions,n=l.resizable_vars;if(t&&s&&s.$headerIndexed.length){for(n.overflow&&n.tableWidth&&(r.resizable.setWidth(s.$table,n.tableWidth,!0),n.useStorage&&r.storage(t,"tablesorter-table-resized-width","auto")),e=0;e<s.columns;e++)a=s.$headerIndexed[e],l.resizable_widths&&l.resizable_widths[e]?r.resizable.setWidth(a,l.resizable_widths[e],n.overflow):a.hasClass("resizable-false")||r.resizable.setWidth(a,"",n.overflow);s.$table.trigger("stickyHeadersUpdate"),r.storage&&!i&&r.storage(this,r.css.resizableStorage,{})}})}}(jQuery,window),function(e){"use strict";var t=e.tablesorter||{};t.addWidget({id:"saveSort",priority:20,options:{saveSort:!0},init:function(e,t,r,i){t.format(e,r,i,!0)},format:function(r,i,a,s){var l,n,o=i.$table,c=a.saveSort!==!1,d={sortList:i.sortList};i.debug&&(n=new Date),o.hasClass("hasSaveSort")?c&&r.hasInitialized&&t.storage&&(t.storage(r,"tablesorter-savesort",d),i.debug&&console.log("saveSort widget: Saving last sort: "+i.sortList+t.benchmark(n))):(o.addClass("hasSaveSort"),d="",t.storage&&(l=t.storage(r,"tablesorter-savesort"),d=l&&l.hasOwnProperty("sortList")&&e.isArray(l.sortList)?l.sortList:"",i.debug&&console.log('saveSort: Last sort loaded: "'+d+'"'+t.benchmark(n)),o.bind("saveSortReset",function(e){e.stopPropagation(),t.storage(r,"tablesorter-savesort","")})),s&&d&&d.length>0?i.sortList=d:r.hasInitialized&&d&&d.length>0&&o.trigger("sorton",[d]))},remove:function(e,r){r.$table.removeClass("hasSaveSort"),t.storage&&t.storage(e,"tablesorter-savesort","")}})}(jQuery),e.tablesorter});
if("undefined"==typeof jQuery)throw new Error("Bootstrap's JavaScript requires jQuery");+function(t){"use strict";var e=t.fn.jquery.split(" ")[0].split(".");if(e[0]<2&&e[1]<9||1==e[0]&&9==e[1]&&e[2]<1)throw new Error("Bootstrap's JavaScript requires jQuery version 1.9.1 or higher")}(jQuery),+function(t){"use strict";function e(){var t=document.createElement("bootstrap"),e={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(var i in e)if(void 0!==t.style[i])return{end:e[i]};return!1}t.fn.emulateTransitionEnd=function(e){var i=!1,o=this;t(this).one("bsTransitionEnd",function(){i=!0});var n=function(){i||t(o).trigger(t.support.transition.end)};return setTimeout(n,e),this},t(function(){t.support.transition=e(),t.support.transition&&(t.event.special.bsTransitionEnd={bindType:t.support.transition.end,delegateType:t.support.transition.end,handle:function(e){return t(e.target).is(this)?e.handleObj.handler.apply(this,arguments):void 0}})})}(jQuery),+function(t){"use strict";function e(e){return this.each(function(){var i=t(this),n=i.data("bs.alert");n||i.data("bs.alert",n=new o(this)),"string"==typeof e&&n[e].call(i)})}var i='[data-dismiss="alert"]',o=function(e){t(e).on("click",i,this.close)};o.VERSION="3.3.5",o.TRANSITION_DURATION=150,o.prototype.close=function(e){function i(){a.detach().trigger("closed.bs.alert").remove()}var n=t(this),s=n.attr("data-target");s||(s=n.attr("href"),s=s&&s.replace(/.*(?=#[^\s]*$)/,""));var a=t(s);e&&e.preventDefault(),a.length||(a=n.closest(".alert")),a.trigger(e=t.Event("close.bs.alert")),e.isDefaultPrevented()||(a.removeClass("in"),t.support.transition&&a.hasClass("fade")?a.one("bsTransitionEnd",i).emulateTransitionEnd(o.TRANSITION_DURATION):i())};var n=t.fn.alert;t.fn.alert=e,t.fn.alert.Constructor=o,t.fn.alert.noConflict=function(){return t.fn.alert=n,this},t(document).on("click.bs.alert.data-api",i,o.prototype.close)}(jQuery),+function(t){"use strict";function e(e){return this.each(function(){var o=t(this),n=o.data("bs.button"),s="object"==typeof e&&e;n||o.data("bs.button",n=new i(this,s)),"toggle"==e?n.toggle():e&&n.setState(e)})}var i=function(e,o){this.$element=t(e),this.options=t.extend({},i.DEFAULTS,o),this.isLoading=!1};i.VERSION="3.3.5",i.DEFAULTS={loadingText:"loading..."},i.prototype.setState=function(e){var i="disabled",o=this.$element,n=o.is("input")?"val":"html",s=o.data();e+="Text",null==s.resetText&&o.data("resetText",o[n]()),setTimeout(t.proxy(function(){o[n](null==s[e]?this.options[e]:s[e]),"loadingText"==e?(this.isLoading=!0,o.addClass(i).attr(i,i)):this.isLoading&&(this.isLoading=!1,o.removeClass(i).removeAttr(i))},this),0)},i.prototype.toggle=function(){var t=!0,e=this.$element.closest('[data-toggle="buttons"]');if(e.length){var i=this.$element.find("input");"radio"==i.prop("type")?(i.prop("checked")&&(t=!1),e.find(".active").removeClass("active"),this.$element.addClass("active")):"checkbox"==i.prop("type")&&(i.prop("checked")!==this.$element.hasClass("active")&&(t=!1),this.$element.toggleClass("active")),i.prop("checked",this.$element.hasClass("active")),t&&i.trigger("change")}else this.$element.attr("aria-pressed",!this.$element.hasClass("active")),this.$element.toggleClass("active")};var o=t.fn.button;t.fn.button=e,t.fn.button.Constructor=i,t.fn.button.noConflict=function(){return t.fn.button=o,this},t(document).on("click.bs.button.data-api",'[data-toggle^="button"]',function(i){var o=t(i.target);o.hasClass("btn")||(o=o.closest(".btn")),e.call(o,"toggle"),t(i.target).is('input[type="radio"]')||t(i.target).is('input[type="checkbox"]')||i.preventDefault()}).on("focus.bs.button.data-api blur.bs.button.data-api",'[data-toggle^="button"]',function(e){t(e.target).closest(".btn").toggleClass("focus",/^focus(in)?$/.test(e.type))})}(jQuery),+function(t){"use strict";function e(e){return this.each(function(){var o=t(this),n=o.data("bs.carousel"),s=t.extend({},i.DEFAULTS,o.data(),"object"==typeof e&&e),a="string"==typeof e?e:s.slide;n||o.data("bs.carousel",n=new i(this,s)),"number"==typeof e?n.to(e):a?n[a]():s.interval&&n.pause().cycle()})}var i=function(e,i){this.$element=t(e),this.$indicators=this.$element.find(".carousel-indicators"),this.options=i,this.paused=null,this.sliding=null,this.interval=null,this.$active=null,this.$items=null,this.options.keyboard&&this.$element.on("keydown.bs.carousel",t.proxy(this.keydown,this)),"hover"==this.options.pause&&!("ontouchstart"in document.documentElement)&&this.$element.on("mouseenter.bs.carousel",t.proxy(this.pause,this)).on("mouseleave.bs.carousel",t.proxy(this.cycle,this))};i.VERSION="3.3.5",i.TRANSITION_DURATION=600,i.DEFAULTS={interval:5e3,pause:"hover",wrap:!0,keyboard:!0},i.prototype.keydown=function(t){if(!/input|textarea/i.test(t.target.tagName)){switch(t.which){case 37:this.prev();break;case 39:this.next();break;default:return}t.preventDefault()}},i.prototype.cycle=function(e){return e||(this.paused=!1),this.interval&&clearInterval(this.interval),this.options.interval&&!this.paused&&(this.interval=setInterval(t.proxy(this.next,this),this.options.interval)),this},i.prototype.getItemIndex=function(t){return this.$items=t.parent().children(".item"),this.$items.index(t||this.$active)},i.prototype.getItemForDirection=function(t,e){var i=this.getItemIndex(e),o="prev"==t&&0===i||"next"==t&&i==this.$items.length-1;if(o&&!this.options.wrap)return e;var n="prev"==t?-1:1,s=(i+n)%this.$items.length;return this.$items.eq(s)},i.prototype.to=function(t){var e=this,i=this.getItemIndex(this.$active=this.$element.find(".item.active"));return t>this.$items.length-1||0>t?void 0:this.sliding?this.$element.one("slid.bs.carousel",function(){e.to(t)}):i==t?this.pause().cycle():this.slide(t>i?"next":"prev",this.$items.eq(t))},i.prototype.pause=function(e){return e||(this.paused=!0),this.$element.find(".next, .prev").length&&t.support.transition&&(this.$element.trigger(t.support.transition.end),this.cycle(!0)),this.interval=clearInterval(this.interval),this},i.prototype.next=function(){return this.sliding?void 0:this.slide("next")},i.prototype.prev=function(){return this.sliding?void 0:this.slide("prev")},i.prototype.slide=function(e,o){var n=this.$element.find(".item.active"),s=o||this.getItemForDirection(e,n),a=this.interval,r="next"==e?"left":"right",l=this;if(s.hasClass("active"))return this.sliding=!1;var h=s[0],d=t.Event("slide.bs.carousel",{relatedTarget:h,direction:r});if(this.$element.trigger(d),!d.isDefaultPrevented()){if(this.sliding=!0,a&&this.pause(),this.$indicators.length){this.$indicators.find(".active").removeClass("active");var p=t(this.$indicators.children()[this.getItemIndex(s)]);p&&p.addClass("active")}var c=t.Event("slid.bs.carousel",{relatedTarget:h,direction:r});return t.support.transition&&this.$element.hasClass("slide")?(s.addClass(e),s[0].offsetWidth,n.addClass(r),s.addClass(r),n.one("bsTransitionEnd",function(){s.removeClass([e,r].join(" ")).addClass("active"),n.removeClass(["active",r].join(" ")),l.sliding=!1,setTimeout(function(){l.$element.trigger(c)},0)}).emulateTransitionEnd(i.TRANSITION_DURATION)):(n.removeClass("active"),s.addClass("active"),this.sliding=!1,this.$element.trigger(c)),a&&this.cycle(),this}};var o=t.fn.carousel;t.fn.carousel=e,t.fn.carousel.Constructor=i,t.fn.carousel.noConflict=function(){return t.fn.carousel=o,this};var n=function(i){var o,n=t(this),s=t(n.attr("data-target")||(o=n.attr("href"))&&o.replace(/.*(?=#[^\s]+$)/,""));if(s.hasClass("carousel")){var a=t.extend({},s.data(),n.data()),r=n.attr("data-slide-to");r&&(a.interval=!1),e.call(s,a),r&&s.data("bs.carousel").to(r),i.preventDefault()}};t(document).on("click.bs.carousel.data-api","[data-slide]",n).on("click.bs.carousel.data-api","[data-slide-to]",n),t(window).on("load",function(){t('[data-ride="carousel"]').each(function(){var i=t(this);e.call(i,i.data())})})}(jQuery),+function(t){"use strict";function e(e){var i,o=e.attr("data-target")||(i=e.attr("href"))&&i.replace(/.*(?=#[^\s]+$)/,"");return t(o)}function i(e){return this.each(function(){var i=t(this),n=i.data("bs.collapse"),s=t.extend({},o.DEFAULTS,i.data(),"object"==typeof e&&e);!n&&s.toggle&&/show|hide/.test(e)&&(s.toggle=!1),n||i.data("bs.collapse",n=new o(this,s)),"string"==typeof e&&n[e]()})}var o=function(e,i){this.$element=t(e),this.options=t.extend({},o.DEFAULTS,i),this.$trigger=t('[data-toggle="collapse"][href="#'+e.id+'"],[data-toggle="collapse"][data-target="#'+e.id+'"]'),this.transitioning=null,this.options.parent?this.$parent=this.getParent():this.addAriaAndCollapsedClass(this.$element,this.$trigger),this.options.toggle&&this.toggle()};o.VERSION="3.3.5",o.TRANSITION_DURATION=350,o.DEFAULTS={toggle:!0},o.prototype.dimension=function(){var t=this.$element.hasClass("width");return t?"width":"height"},o.prototype.show=function(){if(!this.transitioning&&!this.$element.hasClass("in")){var e,n=this.$parent&&this.$parent.children(".panel").children(".in, .collapsing");if(!(n&&n.length&&(e=n.data("bs.collapse"),e&&e.transitioning))){var s=t.Event("show.bs.collapse");if(this.$element.trigger(s),!s.isDefaultPrevented()){n&&n.length&&(i.call(n,"hide"),e||n.data("bs.collapse",null));var a=this.dimension();this.$element.removeClass("collapse").addClass("collapsing")[a](0).attr("aria-expanded",!0),this.$trigger.removeClass("collapsed").attr("aria-expanded",!0),this.transitioning=1;var r=function(){this.$element.removeClass("collapsing").addClass("collapse in")[a](""),this.transitioning=0,this.$element.trigger("shown.bs.collapse")};if(!t.support.transition)return r.call(this);var l=t.camelCase(["scroll",a].join("-"));this.$element.one("bsTransitionEnd",t.proxy(r,this)).emulateTransitionEnd(o.TRANSITION_DURATION)[a](this.$element[0][l])}}}},o.prototype.hide=function(){if(!this.transitioning&&this.$element.hasClass("in")){var e=t.Event("hide.bs.collapse");if(this.$element.trigger(e),!e.isDefaultPrevented()){var i=this.dimension();this.$element[i](this.$element[i]())[0].offsetHeight,this.$element.addClass("collapsing").removeClass("collapse in").attr("aria-expanded",!1),this.$trigger.addClass("collapsed").attr("aria-expanded",!1),this.transitioning=1;var n=function(){this.transitioning=0,this.$element.removeClass("collapsing").addClass("collapse").trigger("hidden.bs.collapse")};return t.support.transition?void this.$element[i](0).one("bsTransitionEnd",t.proxy(n,this)).emulateTransitionEnd(o.TRANSITION_DURATION):n.call(this)}}},o.prototype.toggle=function(){this[this.$element.hasClass("in")?"hide":"show"]()},o.prototype.getParent=function(){return t(this.options.parent).find('[data-toggle="collapse"][data-parent="'+this.options.parent+'"]').each(t.proxy(function(i,o){var n=t(o);this.addAriaAndCollapsedClass(e(n),n)},this)).end()},o.prototype.addAriaAndCollapsedClass=function(t,e){var i=t.hasClass("in");t.attr("aria-expanded",i),e.toggleClass("collapsed",!i).attr("aria-expanded",i)};var n=t.fn.collapse;t.fn.collapse=i,t.fn.collapse.Constructor=o,t.fn.collapse.noConflict=function(){return t.fn.collapse=n,this},t(document).on("click.bs.collapse.data-api",'[data-toggle="collapse"]',function(o){var n=t(this);n.attr("data-target")||o.preventDefault();var s=e(n),a=s.data("bs.collapse"),r=a?"toggle":n.data();i.call(s,r)})}(jQuery),+function(t){"use strict";function e(e){var i=e.attr("data-target");i||(i=e.attr("href"),i=i&&/#[A-Za-z]/.test(i)&&i.replace(/.*(?=#[^\s]*$)/,""));var o=i&&t(i);return o&&o.length?o:e.parent()}function i(i){i&&3===i.which||(t(n).remove(),t(s).each(function(){var o=t(this),n=e(o),s={relatedTarget:this};n.hasClass("open")&&(i&&"click"==i.type&&/input|textarea/i.test(i.target.tagName)&&t.contains(n[0],i.target)||(n.trigger(i=t.Event("hide.bs.dropdown",s)),i.isDefaultPrevented()||(o.attr("aria-expanded","false"),n.removeClass("open").trigger("hidden.bs.dropdown",s))))}))}function o(e){return this.each(function(){var i=t(this),o=i.data("bs.dropdown");o||i.data("bs.dropdown",o=new a(this)),"string"==typeof e&&o[e].call(i)})}var n=".dropdown-backdrop",s='[data-toggle="dropdown"]',a=function(e){t(e).on("click.bs.dropdown",this.toggle)};a.VERSION="3.3.5",a.prototype.toggle=function(o){var n=t(this);if(!n.is(".disabled, :disabled")){var s=e(n),a=s.hasClass("open");if(i(),!a){"ontouchstart"in document.documentElement&&!s.closest(".navbar-nav").length&&t(document.createElement("div")).addClass("dropdown-backdrop").insertAfter(t(this)).on("click",i);var r={relatedTarget:this};if(s.trigger(o=t.Event("show.bs.dropdown",r)),o.isDefaultPrevented())return;n.trigger("focus").attr("aria-expanded","true"),s.toggleClass("open").trigger("shown.bs.dropdown",r)}return!1}},a.prototype.keydown=function(i){if(/(38|40|27|32)/.test(i.which)&&!/input|textarea/i.test(i.target.tagName)){var o=t(this);if(i.preventDefault(),i.stopPropagation(),!o.is(".disabled, :disabled")){var n=e(o),a=n.hasClass("open");if(!a&&27!=i.which||a&&27==i.which)return 27==i.which&&n.find(s).trigger("focus"),o.trigger("click");var r=" li:not(.disabled):visible a",l=n.find(".dropdown-menu"+r);if(l.length){var h=l.index(i.target);38==i.which&&h>0&&h--,40==i.which&&h<l.length-1&&h++,~h||(h=0),l.eq(h).trigger("focus")}}}};var r=t.fn.dropdown;t.fn.dropdown=o,t.fn.dropdown.Constructor=a,t.fn.dropdown.noConflict=function(){return t.fn.dropdown=r,this},t(document).on("click.bs.dropdown.data-api",i).on("click.bs.dropdown.data-api",".dropdown form",function(t){t.stopPropagation()}).on("click.bs.dropdown.data-api",s,a.prototype.toggle).on("keydown.bs.dropdown.data-api",s,a.prototype.keydown).on("keydown.bs.dropdown.data-api",".dropdown-menu",a.prototype.keydown)}(jQuery),+function(t){"use strict";function e(e,o){return this.each(function(){var n=t(this),s=n.data("bs.modal"),a=t.extend({},i.DEFAULTS,n.data(),"object"==typeof e&&e);s||n.data("bs.modal",s=new i(this,a)),"string"==typeof e?s[e](o):a.show&&s.show(o)})}var i=function(e,i){this.options=i,this.$body=t(document.body),this.$element=t(e),this.$dialog=this.$element.find(".modal-dialog"),this.$backdrop=null,this.isShown=null,this.originalBodyPad=null,this.scrollbarWidth=0,this.ignoreBackdropClick=!1,this.options.remote&&this.$element.find(".modal-content").load(this.options.remote,t.proxy(function(){this.$element.trigger("loaded.bs.modal")},this))};i.VERSION="3.3.5",i.TRANSITION_DURATION=300,i.BACKDROP_TRANSITION_DURATION=150,i.DEFAULTS={backdrop:!0,keyboard:!0,show:!0},i.prototype.toggle=function(t){return this.isShown?this.hide():this.show(t)},i.prototype.show=function(e){var o=this,n=t.Event("show.bs.modal",{relatedTarget:e});this.$element.trigger(n),this.isShown||n.isDefaultPrevented()||(this.isShown=!0,this.checkScrollbar(),this.setScrollbar(),this.$body.addClass("modal-open"),this.escape(),this.resize(),this.$element.on("click.dismiss.bs.modal",'[data-dismiss="modal"]',t.proxy(this.hide,this)),this.$dialog.on("mousedown.dismiss.bs.modal",function(){o.$element.one("mouseup.dismiss.bs.modal",function(e){t(e.target).is(o.$element)&&(o.ignoreBackdropClick=!0)})}),this.backdrop(function(){var n=t.support.transition&&o.$element.hasClass("fade");o.$element.parent().length||o.$element.appendTo(o.$body),o.$element.show().scrollTop(0),o.adjustDialog(),n&&o.$element[0].offsetWidth,o.$element.addClass("in"),o.enforceFocus();var s=t.Event("shown.bs.modal",{relatedTarget:e});n?o.$dialog.one("bsTransitionEnd",function(){o.$element.trigger("focus").trigger(s)}).emulateTransitionEnd(i.TRANSITION_DURATION):o.$element.trigger("focus").trigger(s)}))},i.prototype.hide=function(e){e&&e.preventDefault(),e=t.Event("hide.bs.modal"),this.$element.trigger(e),this.isShown&&!e.isDefaultPrevented()&&(this.isShown=!1,this.escape(),this.resize(),t(document).off("focusin.bs.modal"),this.$element.removeClass("in").off("click.dismiss.bs.modal").off("mouseup.dismiss.bs.modal"),this.$dialog.off("mousedown.dismiss.bs.modal"),t.support.transition&&this.$element.hasClass("fade")?this.$element.one("bsTransitionEnd",t.proxy(this.hideModal,this)).emulateTransitionEnd(i.TRANSITION_DURATION):this.hideModal())},i.prototype.enforceFocus=function(){t(document).off("focusin.bs.modal").on("focusin.bs.modal",t.proxy(function(t){this.$element[0]===t.target||this.$element.has(t.target).length||this.$element.trigger("focus")},this))},i.prototype.escape=function(){this.isShown&&this.options.keyboard?this.$element.on("keydown.dismiss.bs.modal",t.proxy(function(t){27==t.which&&this.hide()},this)):this.isShown||this.$element.off("keydown.dismiss.bs.modal")},i.prototype.resize=function(){this.isShown?t(window).on("resize.bs.modal",t.proxy(this.handleUpdate,this)):t(window).off("resize.bs.modal")},i.prototype.hideModal=function(){var t=this;this.$element.hide(),this.backdrop(function(){t.$body.removeClass("modal-open"),t.resetAdjustments(),t.resetScrollbar(),t.$element.trigger("hidden.bs.modal")})},i.prototype.removeBackdrop=function(){this.$backdrop&&this.$backdrop.remove(),this.$backdrop=null},i.prototype.backdrop=function(e){var o=this,n=this.$element.hasClass("fade")?"fade":"";if(this.isShown&&this.options.backdrop){var s=t.support.transition&&n;if(this.$backdrop=t(document.createElement("div")).addClass("modal-backdrop "+n).appendTo(this.$body),this.$element.on("click.dismiss.bs.modal",t.proxy(function(t){return this.ignoreBackdropClick?void(this.ignoreBackdropClick=!1):void(t.target===t.currentTarget&&("static"==this.options.backdrop?this.$element[0].focus():this.hide()))},this)),s&&this.$backdrop[0].offsetWidth,this.$backdrop.addClass("in"),!e)return;s?this.$backdrop.one("bsTransitionEnd",e).emulateTransitionEnd(i.BACKDROP_TRANSITION_DURATION):e()}else if(!this.isShown&&this.$backdrop){this.$backdrop.removeClass("in");var a=function(){o.removeBackdrop(),e&&e()};t.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one("bsTransitionEnd",a).emulateTransitionEnd(i.BACKDROP_TRANSITION_DURATION):a()}else e&&e()},i.prototype.handleUpdate=function(){this.adjustDialog()},i.prototype.adjustDialog=function(){var t=this.$element[0].scrollHeight>document.documentElement.clientHeight;this.$element.css({paddingLeft:!this.bodyIsOverflowing&&t?this.scrollbarWidth:"",paddingRight:this.bodyIsOverflowing&&!t?this.scrollbarWidth:""})},i.prototype.resetAdjustments=function(){this.$element.css({paddingLeft:"",paddingRight:""})},i.prototype.checkScrollbar=function(){var t=window.innerWidth;if(!t){var e=document.documentElement.getBoundingClientRect();t=e.right-Math.abs(e.left)}this.bodyIsOverflowing=document.body.clientWidth<t,this.scrollbarWidth=this.measureScrollbar()},i.prototype.setScrollbar=function(){var t=parseInt(this.$body.css("padding-right")||0,10);this.originalBodyPad=document.body.style.paddingRight||"",this.bodyIsOverflowing&&this.$body.css("padding-right",t+this.scrollbarWidth)},i.prototype.resetScrollbar=function(){this.$body.css("padding-right",this.originalBodyPad)},i.prototype.measureScrollbar=function(){var t=document.createElement("div");t.className="modal-scrollbar-measure",this.$body.append(t);var e=t.offsetWidth-t.clientWidth;return this.$body[0].removeChild(t),e};var o=t.fn.modal;t.fn.modal=e,t.fn.modal.Constructor=i,t.fn.modal.noConflict=function(){return t.fn.modal=o,this},t(document).on("click.bs.modal.data-api",'[data-toggle="modal"]',function(i){var o=t(this),n=o.attr("href"),s=t(o.attr("data-target")||n&&n.replace(/.*(?=#[^\s]+$)/,"")),a=s.data("bs.modal")?"toggle":t.extend({remote:!/#/.test(n)&&n},s.data(),o.data());o.is("a")&&i.preventDefault(),s.one("show.bs.modal",function(t){t.isDefaultPrevented()||s.one("hidden.bs.modal",function(){o.is(":visible")&&o.trigger("focus")})}),e.call(s,a,this)})}(jQuery),+function(t){"use strict";function e(e){return this.each(function(){var o=t(this),n=o.data("bs.tooltip"),s="object"==typeof e&&e;(n||!/destroy|hide/.test(e))&&(n||o.data("bs.tooltip",n=new i(this,s)),"string"==typeof e&&n[e]())})}var i=function(t,e){this.type=null,this.options=null,this.enabled=null,this.timeout=null,this.hoverState=null,this.$element=null,this.inState=null,this.init("tooltip",t,e)};i.VERSION="3.3.5",i.TRANSITION_DURATION=150,i.DEFAULTS={animation:!0,placement:"top",selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,container:!1,viewport:{selector:"body",padding:0}},i.prototype.init=function(e,i,o){if(this.enabled=!0,this.type=e,this.$element=t(i),this.options=this.getOptions(o),this.$viewport=this.options.viewport&&t(t.isFunction(this.options.viewport)?this.options.viewport.call(this,this.$element):this.options.viewport.selector||this.options.viewport),this.inState={click:!1,hover:!1,focus:!1},this.$element[0]instanceof document.constructor&&!this.options.selector)throw new Error("`selector` option must be specified when initializing "+this.type+" on the window.document object!");for(var n=this.options.trigger.split(" "),s=n.length;s--;){var a=n[s];if("click"==a)this.$element.on("click."+this.type,this.options.selector,t.proxy(this.toggle,this));else if("manual"!=a){var r="hover"==a?"mouseenter":"focusin",l="hover"==a?"mouseleave":"focusout";this.$element.on(r+"."+this.type,this.options.selector,t.proxy(this.enter,this)),this.$element.on(l+"."+this.type,this.options.selector,t.proxy(this.leave,this))}}this.options.selector?this._options=t.extend({},this.options,{trigger:"manual",selector:""}):this.fixTitle()},i.prototype.getDefaults=function(){return i.DEFAULTS},i.prototype.getOptions=function(e){return e=t.extend({},this.getDefaults(),this.$element.data(),e),e.delay&&"number"==typeof e.delay&&(e.delay={show:e.delay,hide:e.delay}),e},i.prototype.getDelegateOptions=function(){var e={},i=this.getDefaults();return this._options&&t.each(this._options,function(t,o){i[t]!=o&&(e[t]=o)}),e},i.prototype.enter=function(e){var i=e instanceof this.constructor?e:t(e.currentTarget).data("bs."+this.type);return i||(i=new this.constructor(e.currentTarget,this.getDelegateOptions()),t(e.currentTarget).data("bs."+this.type,i)),e instanceof t.Event&&(i.inState["focusin"==e.type?"focus":"hover"]=!0),i.tip().hasClass("in")||"in"==i.hoverState?void(i.hoverState="in"):(clearTimeout(i.timeout),i.hoverState="in",i.options.delay&&i.options.delay.show?void(i.timeout=setTimeout(function(){"in"==i.hoverState&&i.show()},i.options.delay.show)):i.show())},i.prototype.isInStateTrue=function(){for(var t in this.inState)if(this.inState[t])return!0;return!1},i.prototype.leave=function(e){var i=e instanceof this.constructor?e:t(e.currentTarget).data("bs."+this.type);return i||(i=new this.constructor(e.currentTarget,this.getDelegateOptions()),t(e.currentTarget).data("bs."+this.type,i)),e instanceof t.Event&&(i.inState["focusout"==e.type?"focus":"hover"]=!1),i.isInStateTrue()?void 0:(clearTimeout(i.timeout),i.hoverState="out",i.options.delay&&i.options.delay.hide?void(i.timeout=setTimeout(function(){"out"==i.hoverState&&i.hide()},i.options.delay.hide)):i.hide())},i.prototype.show=function(){var e=t.Event("show.bs."+this.type);if(this.hasContent()&&this.enabled){this.$element.trigger(e);var o=t.contains(this.$element[0].ownerDocument.documentElement,this.$element[0]);if(e.isDefaultPrevented()||!o)return;var n=this,s=this.tip(),a=this.getUID(this.type);this.setContent(),s.attr("id",a),this.$element.attr("aria-describedby",a),this.options.animation&&s.addClass("fade");var r="function"==typeof this.options.placement?this.options.placement.call(this,s[0],this.$element[0]):this.options.placement,l=/\s?auto?\s?/i,h=l.test(r);h&&(r=r.replace(l,"")||"top"),s.detach().css({top:0,left:0,display:"block"}).addClass(r).data("bs."+this.type,this),this.options.container?s.appendTo(this.options.container):s.insertAfter(this.$element),this.$element.trigger("inserted.bs."+this.type);var d=this.getPosition(),p=s[0].offsetWidth,c=s[0].offsetHeight;if(h){var f=r,u=this.getPosition(this.$viewport);r="bottom"==r&&d.bottom+c>u.bottom?"top":"top"==r&&d.top-c<u.top?"bottom":"right"==r&&d.right+p>u.width?"left":"left"==r&&d.left-p<u.left?"right":r,s.removeClass(f).addClass(r)}var g=this.getCalculatedOffset(r,d,p,c);this.applyPlacement(g,r);var v=function(){var t=n.hoverState;n.$element.trigger("shown.bs."+n.type),n.hoverState=null,"out"==t&&n.leave(n)};t.support.transition&&this.$tip.hasClass("fade")?s.one("bsTransitionEnd",v).emulateTransitionEnd(i.TRANSITION_DURATION):v()}},i.prototype.applyPlacement=function(e,i){var o=this.tip(),n=o[0].offsetWidth,s=o[0].offsetHeight,a=parseInt(o.css("margin-top"),10),r=parseInt(o.css("margin-left"),10);isNaN(a)&&(a=0),isNaN(r)&&(r=0),e.top+=a,e.left+=r,t.offset.setOffset(o[0],t.extend({using:function(t){o.css({top:Math.round(t.top),left:Math.round(t.left)})}},e),0),o.addClass("in");var l=o[0].offsetWidth,h=o[0].offsetHeight;"top"==i&&h!=s&&(e.top=e.top+s-h);var d=this.getViewportAdjustedDelta(i,e,l,h);d.left?e.left+=d.left:e.top+=d.top;var p=/top|bottom/.test(i),c=p?2*d.left-n+l:2*d.top-s+h,f=p?"offsetWidth":"offsetHeight";o.offset(e),this.replaceArrow(c,o[0][f],p)},i.prototype.replaceArrow=function(t,e,i){this.arrow().css(i?"left":"top",50*(1-t/e)+"%").css(i?"top":"left","")},i.prototype.setContent=function(){var t=this.tip(),e=this.getTitle();t.find(".tooltip-inner")[this.options.html?"html":"text"](e),t.removeClass("fade in top bottom left right")},i.prototype.hide=function(e){function o(){"in"!=n.hoverState&&s.detach(),n.$element.removeAttr("aria-describedby").trigger("hidden.bs."+n.type),e&&e()}var n=this,s=t(this.$tip),a=t.Event("hide.bs."+this.type);return this.$element.trigger(a),a.isDefaultPrevented()?void 0:(s.removeClass("in"),t.support.transition&&s.hasClass("fade")?s.one("bsTransitionEnd",o).emulateTransitionEnd(i.TRANSITION_DURATION):o(),this.hoverState=null,this)},i.prototype.fixTitle=function(){var t=this.$element;(t.attr("title")||"string"!=typeof t.attr("data-original-title"))&&t.attr("data-original-title",t.attr("title")||"").attr("title","")},i.prototype.hasContent=function(){return this.getTitle()},i.prototype.getPosition=function(e){e=e||this.$element;var i=e[0],o="BODY"==i.tagName,n=i.getBoundingClientRect();null==n.width&&(n=t.extend({},n,{width:n.right-n.left,height:n.bottom-n.top}));var s=o?{top:0,left:0}:e.offset(),a={scroll:o?document.documentElement.scrollTop||document.body.scrollTop:e.scrollTop()},r=o?{width:t(window).width(),height:t(window).height()}:null;return t.extend({},n,a,r,s)},i.prototype.getCalculatedOffset=function(t,e,i,o){return"bottom"==t?{top:e.top+e.height,left:e.left+e.width/2-i/2}:"top"==t?{top:e.top-o,left:e.left+e.width/2-i/2}:"left"==t?{top:e.top+e.height/2-o/2,left:e.left-i}:{top:e.top+e.height/2-o/2,left:e.left+e.width}},i.prototype.getViewportAdjustedDelta=function(t,e,i,o){var n={top:0,left:0};if(!this.$viewport)return n;var s=this.options.viewport&&this.options.viewport.padding||0,a=this.getPosition(this.$viewport);if(/right|left/.test(t)){var r=e.top-s-a.scroll,l=e.top+s-a.scroll+o;r<a.top?n.top=a.top-r:l>a.top+a.height&&(n.top=a.top+a.height-l)}else{var h=e.left-s,d=e.left+s+i;h<a.left?n.left=a.left-h:d>a.right&&(n.left=a.left+a.width-d)}return n},i.prototype.getTitle=function(){var t,e=this.$element,i=this.options;return t=e.attr("data-original-title")||("function"==typeof i.title?i.title.call(e[0]):i.title)},i.prototype.getUID=function(t){do t+=~~(1e6*Math.random());while(document.getElementById(t));return t},i.prototype.tip=function(){if(!this.$tip&&(this.$tip=t(this.options.template),1!=this.$tip.length))throw new Error(this.type+" `template` option must consist of exactly 1 top-level element!");return this.$tip},i.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".tooltip-arrow")},i.prototype.enable=function(){this.enabled=!0},i.prototype.disable=function(){this.enabled=!1},i.prototype.toggleEnabled=function(){this.enabled=!this.enabled},i.prototype.toggle=function(e){var i=this;e&&(i=t(e.currentTarget).data("bs."+this.type),i||(i=new this.constructor(e.currentTarget,this.getDelegateOptions()),t(e.currentTarget).data("bs."+this.type,i))),e?(i.inState.click=!i.inState.click,i.isInStateTrue()?i.enter(i):i.leave(i)):i.tip().hasClass("in")?i.leave(i):i.enter(i)},i.prototype.destroy=function(){var t=this;clearTimeout(this.timeout),this.hide(function(){t.$element.off("."+t.type).removeData("bs."+t.type),t.$tip&&t.$tip.detach(),t.$tip=null,t.$arrow=null,t.$viewport=null})};var o=t.fn.tooltip;t.fn.tooltip=e,t.fn.tooltip.Constructor=i,t.fn.tooltip.noConflict=function(){return t.fn.tooltip=o,this}}(jQuery),+function(t){"use strict";function e(e){return this.each(function(){var o=t(this),n=o.data("bs.popover"),s="object"==typeof e&&e;(n||!/destroy|hide/.test(e))&&(n||o.data("bs.popover",n=new i(this,s)),"string"==typeof e&&n[e]())})}var i=function(t,e){this.init("popover",t,e)};if(!t.fn.tooltip)throw new Error("Popover requires tooltip.js");i.VERSION="3.3.5",i.DEFAULTS=t.extend({},t.fn.tooltip.Constructor.DEFAULTS,{placement:"right",trigger:"click",content:"",template:'<div class="popover" role="tooltip"><div class="arrow"></div><h3 class="popover-title"></h3><div class="popover-content"></div></div>'}),i.prototype=t.extend({},t.fn.tooltip.Constructor.prototype),i.prototype.constructor=i,i.prototype.getDefaults=function(){return i.DEFAULTS},i.prototype.setContent=function(){var t=this.tip(),e=this.getTitle(),i=this.getContent();t.find(".popover-title")[this.options.html?"html":"text"](e),t.find(".popover-content").children().detach().end()[this.options.html?"string"==typeof i?"html":"append":"text"](i),t.removeClass("fade top bottom left right in"),t.find(".popover-title").html()||t.find(".popover-title").hide()},i.prototype.hasContent=function(){return this.getTitle()||this.getContent()},i.prototype.getContent=function(){var t=this.$element,e=this.options;return t.attr("data-content")||("function"==typeof e.content?e.content.call(t[0]):e.content)},i.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".arrow")};var o=t.fn.popover;t.fn.popover=e,t.fn.popover.Constructor=i,t.fn.popover.noConflict=function(){return t.fn.popover=o,this}}(jQuery),+function(t){"use strict";function e(i,o){this.$body=t(document.body),this.$scrollElement=t(t(i).is(document.body)?window:i),this.options=t.extend({},e.DEFAULTS,o),this.selector=(this.options.target||"")+" .nav li > a",this.offsets=[],this.targets=[],this.activeTarget=null,this.scrollHeight=0,this.$scrollElement.on("scroll.bs.scrollspy",t.proxy(this.process,this)),this.refresh(),this.process()}function i(i){return this.each(function(){var o=t(this),n=o.data("bs.scrollspy"),s="object"==typeof i&&i;n||o.data("bs.scrollspy",n=new e(this,s)),"string"==typeof i&&n[i]()})}e.VERSION="3.3.5",e.DEFAULTS={offset:10},e.prototype.getScrollHeight=function(){return this.$scrollElement[0].scrollHeight||Math.max(this.$body[0].scrollHeight,document.documentElement.scrollHeight)},e.prototype.refresh=function(){var e=this,i="offset",o=0;this.offsets=[],this.targets=[],this.scrollHeight=this.getScrollHeight(),t.isWindow(this.$scrollElement[0])||(i="position",o=this.$scrollElement.scrollTop()),this.$body.find(this.selector).map(function(){var e=t(this),n=e.data("target")||e.attr("href"),s=/^#./.test(n)&&t(n);return s&&s.length&&s.is(":visible")&&[[s[i]().top+o,n]]||null}).sort(function(t,e){return t[0]-e[0]}).each(function(){e.offsets.push(this[0]),e.targets.push(this[1])})},e.prototype.process=function(){var t,e=this.$scrollElement.scrollTop()+this.options.offset,i=this.getScrollHeight(),o=this.options.offset+i-this.$scrollElement.height(),n=this.offsets,s=this.targets,a=this.activeTarget;if(this.scrollHeight!=i&&this.refresh(),e>=o)return a!=(t=s[s.length-1])&&this.activate(t);if(a&&e<n[0])return this.activeTarget=null,this.clear();for(t=n.length;t--;)a!=s[t]&&e>=n[t]&&(void 0===n[t+1]||e<n[t+1])&&this.activate(s[t])},e.prototype.activate=function(e){this.activeTarget=e,this.clear();var i=this.selector+'[data-target="'+e+'"],'+this.selector+'[href="'+e+'"]',o=t(i).parents("li").addClass("active");o.parent(".dropdown-menu").length&&(o=o.closest("li.dropdown").addClass("active")),
o.trigger("activate.bs.scrollspy")},e.prototype.clear=function(){t(this.selector).parentsUntil(this.options.target,".active").removeClass("active")};var o=t.fn.scrollspy;t.fn.scrollspy=i,t.fn.scrollspy.Constructor=e,t.fn.scrollspy.noConflict=function(){return t.fn.scrollspy=o,this},t(window).on("load.bs.scrollspy.data-api",function(){t('[data-spy="scroll"]').each(function(){var e=t(this);i.call(e,e.data())})})}(jQuery),+function(t){"use strict";function e(e){return this.each(function(){var o=t(this),n=o.data("bs.tab");n||o.data("bs.tab",n=new i(this)),"string"==typeof e&&n[e]()})}var i=function(e){this.element=t(e)};i.VERSION="3.3.5",i.TRANSITION_DURATION=150,i.prototype.show=function(){var e=this.element,i=e.closest("ul:not(.dropdown-menu)"),o=e.data("target");if(o||(o=e.attr("href"),o=o&&o.replace(/.*(?=#[^\s]*$)/,"")),!e.parent("li").hasClass("active")){var n=i.find(".active:last a"),s=t.Event("hide.bs.tab",{relatedTarget:e[0]}),a=t.Event("show.bs.tab",{relatedTarget:n[0]});if(n.trigger(s),e.trigger(a),!a.isDefaultPrevented()&&!s.isDefaultPrevented()){var r=t(o);this.activate(e.closest("li"),i),this.activate(r,r.parent(),function(){n.trigger({type:"hidden.bs.tab",relatedTarget:e[0]}),e.trigger({type:"shown.bs.tab",relatedTarget:n[0]})})}}},i.prototype.activate=function(e,o,n){function s(){a.removeClass("active").find("> .dropdown-menu > .active").removeClass("active").end().find('[data-toggle="tab"]').attr("aria-expanded",!1),e.addClass("active").find('[data-toggle="tab"]').attr("aria-expanded",!0),r?(e[0].offsetWidth,e.addClass("in")):e.removeClass("fade"),e.parent(".dropdown-menu").length&&e.closest("li.dropdown").addClass("active").end().find('[data-toggle="tab"]').attr("aria-expanded",!0),n&&n()}var a=o.find("> .active"),r=n&&t.support.transition&&(a.length&&a.hasClass("fade")||!!o.find("> .fade").length);a.length&&r?a.one("bsTransitionEnd",s).emulateTransitionEnd(i.TRANSITION_DURATION):s(),a.removeClass("in")};var o=t.fn.tab;t.fn.tab=e,t.fn.tab.Constructor=i,t.fn.tab.noConflict=function(){return t.fn.tab=o,this};var n=function(i){i.preventDefault(),e.call(t(this),"show")};t(document).on("click.bs.tab.data-api",'[data-toggle="tab"]',n).on("click.bs.tab.data-api",'[data-toggle="pill"]',n)}(jQuery),+function(t){"use strict";function e(e){return this.each(function(){var o=t(this),n=o.data("bs.affix"),s="object"==typeof e&&e;n||o.data("bs.affix",n=new i(this,s)),"string"==typeof e&&n[e]()})}var i=function(e,o){this.options=t.extend({},i.DEFAULTS,o),this.$target=t(this.options.target).on("scroll.bs.affix.data-api",t.proxy(this.checkPosition,this)).on("click.bs.affix.data-api",t.proxy(this.checkPositionWithEventLoop,this)),this.$element=t(e),this.affixed=null,this.unpin=null,this.pinnedOffset=null,this.checkPosition()};i.VERSION="3.3.5",i.RESET="affix affix-top affix-bottom",i.DEFAULTS={offset:0,target:window},i.prototype.getState=function(t,e,i,o){var n=this.$target.scrollTop(),s=this.$element.offset(),a=this.$target.height();if(null!=i&&"top"==this.affixed)return i>n?"top":!1;if("bottom"==this.affixed)return null!=i?n+this.unpin<=s.top?!1:"bottom":t-o>=n+a?!1:"bottom";var r=null==this.affixed,l=r?n:s.top,h=r?a:e;return null!=i&&i>=n?"top":null!=o&&l+h>=t-o?"bottom":!1},i.prototype.getPinnedOffset=function(){if(this.pinnedOffset)return this.pinnedOffset;this.$element.removeClass(i.RESET).addClass("affix");var t=this.$target.scrollTop(),e=this.$element.offset();return this.pinnedOffset=e.top-t},i.prototype.checkPositionWithEventLoop=function(){setTimeout(t.proxy(this.checkPosition,this),1)},i.prototype.checkPosition=function(){if(this.$element.is(":visible")){var e=this.$element.height(),o=this.options.offset,n=o.top,s=o.bottom,a=Math.max(t(document).height(),t(document.body).height());"object"!=typeof o&&(s=n=o),"function"==typeof n&&(n=o.top(this.$element)),"function"==typeof s&&(s=o.bottom(this.$element));var r=this.getState(a,e,n,s);if(this.affixed!=r){null!=this.unpin&&this.$element.css("top","");var l="affix"+(r?"-"+r:""),h=t.Event(l+".bs.affix");if(this.$element.trigger(h),h.isDefaultPrevented())return;this.affixed=r,this.unpin="bottom"==r?this.getPinnedOffset():null,this.$element.removeClass(i.RESET).addClass(l).trigger(l.replace("affix","affixed")+".bs.affix")}"bottom"==r&&this.$element.offset({top:a-e-s})}};var o=t.fn.affix;t.fn.affix=e,t.fn.affix.Constructor=i,t.fn.affix.noConflict=function(){return t.fn.affix=o,this},t(window).on("load",function(){t('[data-spy="affix"]').each(function(){var i=t(this),o=i.data();o.offset=o.offset||{},null!=o.offsetBottom&&(o.offset.bottom=o.offsetBottom),null!=o.offsetTop&&(o.offset.top=o.offsetTop),e.call(i,o)})})}(jQuery);
!function($){"use strict";function getFunctionFromString(functionName){return function(){eval(functionName)}}if(!$.fn.popover)throw new Error("Confirmation requires popover.js");var Confirmation=function(t,o){this.init("confirmation",t,o);var n=this;this.options.selector||(this.$element.attr("href")&&(this.options.href=this.$element.attr("href"),this.$element.removeAttr("href"),this.$element.attr("target")&&(this.options.target=this.$element.attr("target"))),this.$element.on(n.options.trigger,function(t,o){o||(t.preventDefault(),t.stopPropagation(),t.stopImmediatePropagation())}),this.$element.on("confirmed.bs.confirmation",function(t){$(this).trigger(n.options.trigger,[!0])}),this.$element.on("show.bs.confirmation",function(t){n.options.singleton&&$(n.options._selector).not($(this)).filter(function(){return void 0!==$(this).data("bs.confirmation")}).confirmation("hide")})),this.options._isDelegate||(this.eventBody=!1,this.uid=this.$element[0].id||this.getUID("group_"),this.$element.on("shown.bs.confirmation",function(t){if(n.options.popout&&!n.eventBody){$(this);n.eventBody=$("body").on("click.bs.confirmation."+n.uid,function(t){$(n.options._selector).is(t.target)||($(n.options._selector).filter(function(){return void 0!==$(this).data("bs.confirmation")}).confirmation("hide"),$("body").off("click.bs."+n.uid),n.eventBody=!1)})}}))};Confirmation.DEFAULTS=$.extend({},$.fn.popover.Constructor.DEFAULTS,{placement:"top",title:"Sure?",html:!0,href:!1,popout:!1,singleton:!1,target:"_self",onConfirm:$.noop,onCancel:$.noop,btnOkClass:"",btnOkIcon:"glyphicon glyphicon-ok",btnOkLabel:"Yes",btnCancelClass:"",btnCancelIcon:"glyphicon glyphicon-remove",btnCancelLabel:"No",template:'<div class="popover confirmation popover-warning"><div class="arrow"></div><div class="popover-content text-center"> Sure ? <small><a data-apply="confirmation"></a></small> - <a data-dismiss="confirmation"></a></div></div>'}),Confirmation.prototype=$.extend({},$.fn.popover.Constructor.prototype),Confirmation.prototype.constructor=Confirmation,Confirmation.prototype.getDefaults=function(){return Confirmation.DEFAULTS},Confirmation.prototype.init=function(t,o,n){$.fn.popover.Constructor.prototype.init.call(this,t,o,n),this.options._isDelegate=!1,n.selector?this.options._selector=this._options._selector=n._root_selector+" "+n.selector:n._selector?(this.options._selector=n._selector,this.options._isDelegate=!0):this.options._selector=n._root_selector},Confirmation.prototype.setContent=function(){var t=this,o=this.tip(),n=this.options;o.find(".popover-title")[n.html?"html":"text"](this.getTitle()),o.find('[data-apply="confirmation"]').addClass(n.btnOkClass).html(n.btnOkLabel).prepend($("<i></i>").addClass(n.btnOkIcon)," ").off("click").one("click",function(o){t.getOnConfirm.call(t).call(t.$element),t.$element.trigger("confirmed.bs.confirmation"),t.$element.confirmation("hide")}),n.href&&"#"!=n.href&&o.find('[data-apply="confirmation"]').attr({href:n.href,target:n.target}),o.find('[data-dismiss="confirmation"]').addClass(n.btnCancelClass).html(n.btnCancelLabel).prepend($("<i></i>").addClass(n.btnCancelIcon)," ").off("click").one("click",function(o){t.getOnCancel.call(t).call(t.$element),t.$element.trigger("canceled.bs.confirmation"),t.$element.confirmation("hide")}),o.removeClass("fade top bottom left right in"),o.find(".popover-title").html()||o.find(".popover-title").hide()},Confirmation.prototype.getOnConfirm=function(){return this.$element.attr("data-on-confirm")?getFunctionFromString(this.$element.attr("data-on-confirm")):this.options.onConfirm},Confirmation.prototype.getOnCancel=function(){return this.$element.attr("data-on-cancel")?getFunctionFromString(this.$element.attr("data-on-cancel")):this.options.onCancel};var old=$.fn.confirmation;$.fn.confirmation=function(t){var o="object"==typeof t&&t||{};return o._root_selector=this.selector,this.each(function(){var n=$(this),i=n.data("bs.confirmation");(i||"destroy"!=t)&&(i||n.data("bs.confirmation",i=new Confirmation(this,o)),"string"==typeof t&&i[t]())})},$.fn.confirmation.Constructor=Confirmation,$.fn.confirmation.noConflict=function(){return $.fn.confirmation=old,this}}(jQuery);
!function(e){"use strict";if("function"==typeof define&&define.amd)define(["jquery","moment"],e);else if("object"==typeof exports)e(require("jquery"),require("moment"));else{if("undefined"==typeof jQuery)throw"bootstrap-datetimepicker requires jQuery to be loaded first";if("undefined"==typeof moment)throw"bootstrap-datetimepicker requires Moment.js to be loaded first";e(jQuery,moment)}}(function(e,t){"use strict";if(!t)throw new Error("bootstrap-datetimepicker requires Moment.js to be loaded first");var n=function(n,a){var r,i,o,d,s,l,p,c={},u=!0,f=!1,m=!1,h=0,y=[{clsName:"days",navFnc:"M",navStep:1},{clsName:"months",navFnc:"y",navStep:1},{clsName:"years",navFnc:"y",navStep:10},{clsName:"decades",navFnc:"y",navStep:100}],b=["days","months","years","decades"],g=["top","bottom","auto"],w=["left","right","auto"],v=["default","top","bottom"],k={up:38,38:"up",down:40,40:"down",left:37,37:"left",right:39,39:"right",tab:9,9:"tab",escape:27,27:"escape",enter:13,13:"enter",pageUp:33,33:"pageUp",pageDown:34,34:"pageDown",shift:16,16:"shift",control:17,17:"control",space:32,32:"space",t:84,84:"t","delete":46,46:"delete"},C={},x=function(e){var n,r,i,o,d,s=!1;return void 0!==t.tz&&void 0!==a.timeZone&&null!==a.timeZone&&""!==a.timeZone&&(s=!0),void 0===e||null===e?n=s?t().tz(a.timeZone).startOf("d"):t().startOf("d"):s?(r=t().tz(a.timeZone).utcOffset(),i=t(e,l,a.useStrict).utcOffset(),i!==r?(o=t().tz(a.timeZone).format("Z"),d=t(e,l,a.useStrict).format("YYYY-MM-DD[T]HH:mm:ss")+o,n=t(d,l,a.useStrict).tz(a.timeZone)):n=t(e,l,a.useStrict).tz(a.timeZone)):n=t(e,l,a.useStrict),n},D=function(e){if("string"!=typeof e||e.length>1)throw new TypeError("isEnabled expects a single character string parameter");switch(e){case"y":return-1!==s.indexOf("Y");case"M":return-1!==s.indexOf("M");case"d":return-1!==s.toLowerCase().indexOf("d");case"h":case"H":return-1!==s.toLowerCase().indexOf("h");case"m":return-1!==s.indexOf("m");case"s":return-1!==s.indexOf("s");default:return!1}},T=function(){return D("h")||D("m")||D("s")},M=function(){return D("y")||D("M")||D("d")},S=function(){var t=e("<thead>").append(e("<tr>").append(e("<th>").addClass("prev").attr("data-action","previous").append(e("<span>").addClass(a.icons.previous))).append(e("<th>").addClass("picker-switch").attr("data-action","pickerSwitch").attr("colspan",a.calendarWeeks?"6":"5")).append(e("<th>").addClass("next").attr("data-action","next").append(e("<span>").addClass(a.icons.next)))),n=e("<tbody>").append(e("<tr>").append(e("<td>").attr("colspan",a.calendarWeeks?"8":"7")));return[e("<div>").addClass("datepicker-days").append(e("<table>").addClass("table-condensed").append(t).append(e("<tbody>"))),e("<div>").addClass("datepicker-months").append(e("<table>").addClass("table-condensed").append(t.clone()).append(n.clone())),e("<div>").addClass("datepicker-years").append(e("<table>").addClass("table-condensed").append(t.clone()).append(n.clone())),e("<div>").addClass("datepicker-decades").append(e("<table>").addClass("table-condensed").append(t.clone()).append(n.clone()))]},O=function(){var t=e("<tr>"),n=e("<tr>"),r=e("<tr>");return D("h")&&(t.append(e("<td>").append(e("<a>").attr({href:"#",tabindex:"-1",title:a.tooltips.incrementHour}).addClass("btn").attr("data-action","incrementHours").append(e("<span>").addClass(a.icons.up)))),n.append(e("<td>").append(e("<span>").addClass("timepicker-hour").attr({"data-time-component":"hours",title:a.tooltips.pickHour}).attr("data-action","showHours"))),r.append(e("<td>").append(e("<a>").attr({href:"#",tabindex:"-1",title:a.tooltips.decrementHour}).addClass("btn").attr("data-action","decrementHours").append(e("<span>").addClass(a.icons.down))))),D("m")&&(D("h")&&(t.append(e("<td>").addClass("separator")),n.append(e("<td>").addClass("separator").html(":")),r.append(e("<td>").addClass("separator"))),t.append(e("<td>").append(e("<a>").attr({href:"#",tabindex:"-1",title:a.tooltips.incrementMinute}).addClass("btn").attr("data-action","incrementMinutes").append(e("<span>").addClass(a.icons.up)))),n.append(e("<td>").append(e("<span>").addClass("timepicker-minute").attr({"data-time-component":"minutes",title:a.tooltips.pickMinute}).attr("data-action","showMinutes"))),r.append(e("<td>").append(e("<a>").attr({href:"#",tabindex:"-1",title:a.tooltips.decrementMinute}).addClass("btn").attr("data-action","decrementMinutes").append(e("<span>").addClass(a.icons.down))))),D("s")&&(D("m")&&(t.append(e("<td>").addClass("separator")),n.append(e("<td>").addClass("separator").html(":")),r.append(e("<td>").addClass("separator"))),t.append(e("<td>").append(e("<a>").attr({href:"#",tabindex:"-1",title:a.tooltips.incrementSecond}).addClass("btn").attr("data-action","incrementSeconds").append(e("<span>").addClass(a.icons.up)))),n.append(e("<td>").append(e("<span>").addClass("timepicker-second").attr({"data-time-component":"seconds",title:a.tooltips.pickSecond}).attr("data-action","showSeconds"))),r.append(e("<td>").append(e("<a>").attr({href:"#",tabindex:"-1",title:a.tooltips.decrementSecond}).addClass("btn").attr("data-action","decrementSeconds").append(e("<span>").addClass(a.icons.down))))),d||(t.append(e("<td>").addClass("separator")),n.append(e("<td>").append(e("<button>").addClass("btn btn-primary").attr({"data-action":"togglePeriod",tabindex:"-1",title:a.tooltips.togglePeriod}))),r.append(e("<td>").addClass("separator"))),e("<div>").addClass("timepicker-picker").append(e("<table>").addClass("table-condensed").append([t,n,r]))},P=function(){var t=e("<div>").addClass("timepicker-hours").append(e("<table>").addClass("table-condensed")),n=e("<div>").addClass("timepicker-minutes").append(e("<table>").addClass("table-condensed")),a=e("<div>").addClass("timepicker-seconds").append(e("<table>").addClass("table-condensed")),r=[O()];return D("h")&&r.push(t),D("m")&&r.push(n),D("s")&&r.push(a),r},E=function(){var t=[];return a.showTodayButton&&t.push(e("<td>").append(e("<a>").attr({"data-action":"today",title:a.tooltips.today}).append(e("<span>").addClass(a.icons.today)))),!a.sideBySide&&M()&&T()&&t.push(e("<td>").append(e("<a>").attr({"data-action":"togglePicker",title:a.tooltips.selectTime}).append(e("<span>").addClass(a.icons.time)))),a.showClear&&t.push(e("<td>").append(e("<a>").attr({"data-action":"clear",title:a.tooltips.clear}).append(e("<span>").addClass(a.icons.clear)))),a.showClose&&t.push(e("<td>").append(e("<a>").attr({"data-action":"close",title:a.tooltips.close}).append(e("<span>").addClass(a.icons.close)))),e("<table>").addClass("table-condensed").append(e("<tbody>").append(e("<tr>").append(t)))},H=function(){var t=e("<div>").addClass("bootstrap-datetimepicker-widget dropdown-menu"),n=e("<div>").addClass("datepicker").append(S()),r=e("<div>").addClass("timepicker").append(P()),i=e("<ul>").addClass("list-unstyled"),o=e("<li>").addClass("picker-switch"+(a.collapse?" accordion-toggle":"")).append(E());return a.inline&&t.removeClass("dropdown-menu"),d&&t.addClass("usetwentyfour"),D("s")&&!d&&t.addClass("wider"),a.sideBySide&&M()&&T()?(t.addClass("timepicker-sbs"),"top"===a.toolbarPlacement&&t.append(o),t.append(e("<div>").addClass("row").append(n.addClass("col-md-6")).append(r.addClass("col-md-6"))),"bottom"===a.toolbarPlacement&&t.append(o),t):("top"===a.toolbarPlacement&&i.append(o),M()&&i.append(e("<li>").addClass(a.collapse&&T()?"collapse in":"").append(n)),"default"===a.toolbarPlacement&&i.append(o),T()&&i.append(e("<li>").addClass(a.collapse&&M()?"collapse":"").append(r)),"bottom"===a.toolbarPlacement&&i.append(o),t.append(i))},I=function(){var t,r={};return t=n.is("input")||a.inline?n.data():n.find("input").data(),t.dateOptions&&t.dateOptions instanceof Object&&(r=e.extend(!0,r,t.dateOptions)),e.each(a,function(e){var n="date"+e.charAt(0).toUpperCase()+e.slice(1);void 0!==t[n]&&(r[e]=t[n])}),r},Y=function(){var t,r=(f||n).position(),i=(f||n).offset(),o=a.widgetPositioning.vertical,d=a.widgetPositioning.horizontal;if(a.widgetParent)t=a.widgetParent.append(m);else if(n.is("input"))t=n.after(m).parent();else{if(a.inline)return void(t=n.append(m));t=n,n.children().first().after(m)}if("auto"===o&&(o=i.top+1.5*m.height()>=e(window).height()+e(window).scrollTop()&&m.height()+n.outerHeight()<i.top?"top":"bottom"),"auto"===d&&(d=t.width()<i.left+m.outerWidth()/2&&i.left+m.outerWidth()>e(window).width()?"right":"left"),"top"===o?m.addClass("top").removeClass("bottom"):m.addClass("bottom").removeClass("top"),"right"===d?m.addClass("pull-right"):m.removeClass("pull-right"),"relative"!==t.css("position")&&(t=t.parents().filter(function(){return"relative"===e(this).css("position")}).first()),0===t.length)throw new Error("datetimepicker component should be placed within a relative positioned container");m.css({top:"top"===o?"auto":r.top+n.outerHeight(),bottom:"top"===o?r.top+n.outerHeight():"auto",left:"left"===d?t===n?0:r.left:"auto",right:"left"===d?"auto":t.outerWidth()-n.outerWidth()-(t===n?0:r.left)})},q=function(e){"dp.change"===e.type&&(e.date&&e.date.isSame(e.oldDate)||!e.date&&!e.oldDate)||n.trigger(e)},B=function(e){"y"===e&&(e="YYYY"),q({type:"dp.update",change:e,viewDate:i.clone()})},j=function(e){m&&(e&&(p=Math.max(h,Math.min(3,p+e))),m.find(".datepicker > div").hide().filter(".datepicker-"+y[p].clsName).show())},z=function(){var t=e("<tr>"),n=i.clone().startOf("w").startOf("d");for(a.calendarWeeks===!0&&t.append(e("<th>").addClass("cw").text("#"));n.isBefore(i.clone().endOf("w"));)t.append(e("<th>").addClass("dow").text(n.format("dd"))),n.add(1,"d");m.find(".datepicker-days thead").append(t)},F=function(e){return a.disabledDates[e.format("YYYY-MM-DD")]===!0},L=function(e){return a.enabledDates[e.format("YYYY-MM-DD")]===!0},W=function(e){return a.disabledHours[e.format("H")]===!0},A=function(e){return a.enabledHours[e.format("H")]===!0},N=function(t,n){if(!t.isValid())return!1;if(a.disabledDates&&"d"===n&&F(t))return!1;if(a.enabledDates&&"d"===n&&!L(t))return!1;if(a.minDate&&t.isBefore(a.minDate,n))return!1;if(a.maxDate&&t.isAfter(a.maxDate,n))return!1;if(a.daysOfWeekDisabled&&"d"===n&&-1!==a.daysOfWeekDisabled.indexOf(t.day()))return!1;if(a.disabledHours&&("h"===n||"m"===n||"s"===n)&&W(t))return!1;if(a.enabledHours&&("h"===n||"m"===n||"s"===n)&&!A(t))return!1;if(a.disabledTimeIntervals&&("h"===n||"m"===n||"s"===n)){var r=!1;if(e.each(a.disabledTimeIntervals,function(){return t.isBetween(this[0],this[1])?(r=!0,!1):void 0}),r)return!1}return!0},Z=function(){for(var t=[],n=i.clone().startOf("y").startOf("d");n.isSame(i,"y");)t.push(e("<span>").attr("data-action","selectMonth").addClass("month").text(n.format("MMM"))),n.add(1,"M");m.find(".datepicker-months td").empty().append(t)},V=function(){var t=m.find(".datepicker-months"),n=t.find("th"),o=t.find("tbody").find("span");n.eq(0).find("span").attr("title",a.tooltips.prevYear),n.eq(1).attr("title",a.tooltips.selectYear),n.eq(2).find("span").attr("title",a.tooltips.nextYear),t.find(".disabled").removeClass("disabled"),N(i.clone().subtract(1,"y"),"y")||n.eq(0).addClass("disabled"),n.eq(1).text(i.year()),N(i.clone().add(1,"y"),"y")||n.eq(2).addClass("disabled"),o.removeClass("active"),r.isSame(i,"y")&&!u&&o.eq(r.month()).addClass("active"),o.each(function(t){N(i.clone().month(t),"M")||e(this).addClass("disabled")})},R=function(){var e=m.find(".datepicker-years"),t=e.find("th"),n=i.clone().subtract(5,"y"),o=i.clone().add(6,"y"),d="";for(t.eq(0).find("span").attr("title",a.tooltips.prevDecade),t.eq(1).attr("title",a.tooltips.selectDecade),t.eq(2).find("span").attr("title",a.tooltips.nextDecade),e.find(".disabled").removeClass("disabled"),a.minDate&&a.minDate.isAfter(n,"y")&&t.eq(0).addClass("disabled"),t.eq(1).text(n.year()+"-"+o.year()),a.maxDate&&a.maxDate.isBefore(o,"y")&&t.eq(2).addClass("disabled");!n.isAfter(o,"y");)d+='<span data-action="selectYear" class="year'+(n.isSame(r,"y")&&!u?" active":"")+(N(n,"y")?"":" disabled")+'">'+n.year()+"</span>",n.add(1,"y");e.find("td").html(d)},U=function(){var e=m.find(".datepicker-decades"),n=e.find("th"),o=t({y:i.year()-i.year()%100-1}),d=o.clone().add(100,"y"),s=o.clone(),l="";for(n.eq(0).find("span").attr("title",a.tooltips.prevCentury),n.eq(2).find("span").attr("title",a.tooltips.nextCentury),e.find(".disabled").removeClass("disabled"),(o.isSame(t({y:1900}))||a.minDate&&a.minDate.isAfter(o,"y"))&&n.eq(0).addClass("disabled"),n.eq(1).text(o.year()+"-"+d.year()),(o.isSame(t({y:2e3}))||a.maxDate&&a.maxDate.isBefore(d,"y"))&&n.eq(2).addClass("disabled");!o.isAfter(d,"y");)l+='<span data-action="selectDecade" class="decade'+(o.isSame(r,"y")?" active":"")+(N(o,"y")?"":" disabled")+'" data-selection="'+(o.year()+6)+'">'+(o.year()+1)+" - "+(o.year()+12)+"</span>",o.add(12,"y");l+="<span></span><span></span><span></span>",e.find("td").html(l),n.eq(1).text(s.year()+1+"-"+o.year())},Q=function(){var t,n,o,d,s=m.find(".datepicker-days"),l=s.find("th"),p=[];if(M()){for(l.eq(0).find("span").attr("title",a.tooltips.prevMonth),l.eq(1).attr("title",a.tooltips.selectMonth),l.eq(2).find("span").attr("title",a.tooltips.nextMonth),s.find(".disabled").removeClass("disabled"),l.eq(1).text(i.format(a.dayViewHeaderFormat)),N(i.clone().subtract(1,"M"),"M")||l.eq(0).addClass("disabled"),N(i.clone().add(1,"M"),"M")||l.eq(2).addClass("disabled"),t=i.clone().startOf("M").startOf("w").startOf("d"),d=0;42>d;d++)0===t.weekday()&&(n=e("<tr>"),a.calendarWeeks&&n.append('<td class="cw">'+t.week()+"</td>"),p.push(n)),o="",t.isBefore(i,"M")&&(o+=" old"),t.isAfter(i,"M")&&(o+=" new"),t.isSame(r,"d")&&!u&&(o+=" active"),N(t,"d")||(o+=" disabled"),t.isSame(x(),"d")&&(o+=" today"),(0===t.day()||6===t.day())&&(o+=" weekend"),n.append('<td data-action="selectDay" data-day="'+t.format("L")+'" class="day'+o+'">'+t.date()+"</td>"),t.add(1,"d");s.find("tbody").empty().append(p),V(),R(),U()}},G=function(){var t=m.find(".timepicker-hours table"),n=i.clone().startOf("d"),a=[],r=e("<tr>");for(i.hour()>11&&!d&&n.hour(12);n.isSame(i,"d")&&(d||i.hour()<12&&n.hour()<12||i.hour()>11);)n.hour()%4===0&&(r=e("<tr>"),a.push(r)),r.append('<td data-action="selectHour" class="hour'+(N(n,"h")?"":" disabled")+'">'+n.format(d?"HH":"hh")+"</td>"),n.add(1,"h");t.empty().append(a)},J=function(){for(var t=m.find(".timepicker-minutes table"),n=i.clone().startOf("h"),r=[],o=e("<tr>"),d=1===a.stepping?5:a.stepping;i.isSame(n,"h");)n.minute()%(4*d)===0&&(o=e("<tr>"),r.push(o)),o.append('<td data-action="selectMinute" class="minute'+(N(n,"m")?"":" disabled")+'">'+n.format("mm")+"</td>"),n.add(d,"m");t.empty().append(r)},K=function(){for(var t=m.find(".timepicker-seconds table"),n=i.clone().startOf("m"),a=[],r=e("<tr>");i.isSame(n,"m");)n.second()%20===0&&(r=e("<tr>"),a.push(r)),r.append('<td data-action="selectSecond" class="second'+(N(n,"s")?"":" disabled")+'">'+n.format("ss")+"</td>"),n.add(5,"s");t.empty().append(a)},X=function(){var e,t,n=m.find(".timepicker span[data-time-component]");d||(e=m.find(".timepicker [data-action=togglePeriod]"),t=r.clone().add(r.hours()>=12?-12:12,"h"),e.text(r.format("A")),N(t,"h")?e.removeClass("disabled"):e.addClass("disabled")),n.filter("[data-time-component=hours]").text(r.format(d?"HH":"hh")),n.filter("[data-time-component=minutes]").text(r.format("mm")),n.filter("[data-time-component=seconds]").text(r.format("ss")),G(),J(),K()},$=function(){m&&(Q(),X())},_=function(e){var t=u?null:r;return e?(e=e.clone().locale(a.locale),1!==a.stepping&&e.minutes(Math.round(e.minutes()/a.stepping)*a.stepping%60).seconds(0),void(N(e)?(r=e,i=r.clone(),o.val(r.format(s)),n.data("date",r.format(s)),u=!1,$(),q({type:"dp.change",date:r.clone(),oldDate:t})):(a.keepInvalid||o.val(u?"":r.format(s)),q({type:"dp.error",date:e})))):(u=!0,o.val(""),n.data("date",""),q({type:"dp.change",date:!1,oldDate:t}),void $())},ee=function(){var t=!1;return m?(m.find(".collapse").each(function(){var n=e(this).data("collapse");return n&&n.transitioning?(t=!0,!1):!0}),t?c:(f&&f.hasClass("btn")&&f.toggleClass("active"),m.hide(),e(window).off("resize",Y),m.off("click","[data-action]"),m.off("mousedown",!1),m.remove(),m=!1,q({type:"dp.hide",date:r.clone()}),o.blur(),c)):c},te=function(){_(null)},ne={next:function(){var e=y[p].navFnc;i.add(y[p].navStep,e),Q(),B(e)},previous:function(){var e=y[p].navFnc;i.subtract(y[p].navStep,e),Q(),B(e)},pickerSwitch:function(){j(1)},selectMonth:function(t){var n=e(t.target).closest("tbody").find("span").index(e(t.target));i.month(n),p===h?(_(r.clone().year(i.year()).month(i.month())),a.inline||ee()):(j(-1),Q()),B("M")},selectYear:function(t){var n=parseInt(e(t.target).text(),10)||0;i.year(n),p===h?(_(r.clone().year(i.year())),a.inline||ee()):(j(-1),Q()),B("YYYY")},selectDecade:function(t){var n=parseInt(e(t.target).data("selection"),10)||0;i.year(n),p===h?(_(r.clone().year(i.year())),a.inline||ee()):(j(-1),Q()),B("YYYY")},selectDay:function(t){var n=i.clone();e(t.target).is(".old")&&n.subtract(1,"M"),e(t.target).is(".new")&&n.add(1,"M"),_(n.date(parseInt(e(t.target).text(),10))),T()||a.keepOpen||a.inline||ee()},incrementHours:function(){var e=r.clone().add(1,"h");N(e,"h")&&_(e)},incrementMinutes:function(){var e=r.clone().add(a.stepping,"m");N(e,"m")&&_(e)},incrementSeconds:function(){var e=r.clone().add(1,"s");N(e,"s")&&_(e)},decrementHours:function(){var e=r.clone().subtract(1,"h");N(e,"h")&&_(e)},decrementMinutes:function(){var e=r.clone().subtract(a.stepping,"m");N(e,"m")&&_(e)},decrementSeconds:function(){var e=r.clone().subtract(1,"s");N(e,"s")&&_(e)},togglePeriod:function(){_(r.clone().add(r.hours()>=12?-12:12,"h"))},togglePicker:function(t){var n,r=e(t.target),i=r.closest("ul"),o=i.find(".in"),d=i.find(".collapse:not(.in)");if(o&&o.length){if(n=o.data("collapse"),n&&n.transitioning)return;o.collapse?(o.collapse("hide"),d.collapse("show")):(o.removeClass("in"),d.addClass("in")),r.is("span")?r.toggleClass(a.icons.time+" "+a.icons.date):r.find("span").toggleClass(a.icons.time+" "+a.icons.date)}},showPicker:function(){m.find(".timepicker > div:not(.timepicker-picker)").hide(),m.find(".timepicker .timepicker-picker").show()},showHours:function(){m.find(".timepicker .timepicker-picker").hide(),m.find(".timepicker .timepicker-hours").show()},showMinutes:function(){m.find(".timepicker .timepicker-picker").hide(),m.find(".timepicker .timepicker-minutes").show()},showSeconds:function(){m.find(".timepicker .timepicker-picker").hide(),m.find(".timepicker .timepicker-seconds").show()},selectHour:function(t){var n=parseInt(e(t.target).text(),10);d||(r.hours()>=12?12!==n&&(n+=12):12===n&&(n=0)),_(r.clone().hours(n)),ne.showPicker.call(c)},selectMinute:function(t){_(r.clone().minutes(parseInt(e(t.target).text(),10))),ne.showPicker.call(c)},selectSecond:function(t){_(r.clone().seconds(parseInt(e(t.target).text(),10))),ne.showPicker.call(c)},clear:te,today:function(){var e=x();N(e,"d")&&_(e)},close:ee},ae=function(t){return e(t.currentTarget).is(".disabled")?!1:(ne[e(t.currentTarget).data("action")].apply(c,arguments),!1)},re=function(){var t,n={year:function(e){return e.month(0).date(1).hours(0).seconds(0).minutes(0)},month:function(e){return e.date(1).hours(0).seconds(0).minutes(0)},day:function(e){return e.hours(0).seconds(0).minutes(0)},hour:function(e){return e.seconds(0).minutes(0)},minute:function(e){return e.seconds(0)}};return o.prop("disabled")||!a.ignoreReadonly&&o.prop("readonly")||m?c:(void 0!==o.val()&&0!==o.val().trim().length?_(oe(o.val().trim())):a.useCurrent&&u&&(o.is("input")&&0===o.val().trim().length||a.inline)&&(t=x(),"string"==typeof a.useCurrent&&(t=n[a.useCurrent](t)),_(t)),m=H(),z(),Z(),m.find(".timepicker-hours").hide(),m.find(".timepicker-minutes").hide(),m.find(".timepicker-seconds").hide(),$(),j(),e(window).on("resize",Y),m.on("click","[data-action]",ae),m.on("mousedown",!1),f&&f.hasClass("btn")&&f.toggleClass("active"),m.show(),Y(),a.focusOnShow&&!o.is(":focus")&&o.focus(),q({type:"dp.show"}),c)},ie=function(){return m?ee():re()},oe=function(e){return e=void 0===a.parseInputDate?t.isMoment(e)||e instanceof Date?t(e):x(e):a.parseInputDate(e),e.locale(a.locale),e},de=function(e){var t,n,r,i,o=null,d=[],s={},l=e.which,p="p";C[l]=p;for(t in C)C.hasOwnProperty(t)&&C[t]===p&&(d.push(t),parseInt(t,10)!==l&&(s[t]=!0));for(t in a.keyBinds)if(a.keyBinds.hasOwnProperty(t)&&"function"==typeof a.keyBinds[t]&&(r=t.split(" "),r.length===d.length&&k[l]===r[r.length-1])){for(i=!0,n=r.length-2;n>=0;n--)if(!(k[r[n]]in s)){i=!1;break}if(i){o=a.keyBinds[t];break}}o&&(o.call(c,m),e.stopPropagation(),e.preventDefault())},se=function(e){C[e.which]="r",e.stopPropagation(),e.preventDefault()},le=function(t){var n=e(t.target).val().trim(),a=n?oe(n):null;return _(a),t.stopImmediatePropagation(),!1},pe=function(){o.on({change:le,blur:a.debug?"":ee,keydown:de,keyup:se,focus:a.allowInputToggle?re:""}),n.is("input")?o.on({focus:re}):f&&(f.on("click",ie),f.on("mousedown",!1))},ce=function(){o.off({change:le,blur:blur,keydown:de,keyup:se,focus:a.allowInputToggle?ee:""}),n.is("input")?o.off({focus:re}):f&&(f.off("click",ie),f.off("mousedown",!1))},ue=function(t){var n={};return e.each(t,function(){var e=oe(this);e.isValid()&&(n[e.format("YYYY-MM-DD")]=!0)}),Object.keys(n).length?n:!1},fe=function(t){var n={};return e.each(t,function(){n[this]=!0}),Object.keys(n).length?n:!1},me=function(){var e=a.format||"L LT";s=e.replace(/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,function(e){var t=r.localeData().longDateFormat(e)||e;return t.replace(/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,function(e){return r.localeData().longDateFormat(e)||e})}),l=a.extraFormats?a.extraFormats.slice():[],l.indexOf(e)<0&&l.indexOf(s)<0&&l.push(s),d=s.toLowerCase().indexOf("a")<1&&s.replace(/\[.*?\]/g,"").indexOf("h")<1,D("y")&&(h=2),D("M")&&(h=1),D("d")&&(h=0),p=Math.max(h,p),u||_(r)};if(c.destroy=function(){ee(),ce(),n.removeData("DateTimePicker"),n.removeData("date")},c.toggle=ie,c.show=re,c.hide=ee,c.disable=function(){return ee(),f&&f.hasClass("btn")&&f.addClass("disabled"),o.prop("disabled",!0),c},c.enable=function(){return f&&f.hasClass("btn")&&f.removeClass("disabled"),o.prop("disabled",!1),c},c.ignoreReadonly=function(e){if(0===arguments.length)return a.ignoreReadonly;if("boolean"!=typeof e)throw new TypeError("ignoreReadonly () expects a boolean parameter");return a.ignoreReadonly=e,c},c.options=function(t){if(0===arguments.length)return e.extend(!0,{},a);if(!(t instanceof Object))throw new TypeError("options() options parameter should be an object");return e.extend(!0,a,t),e.each(a,function(e,t){if(void 0===c[e])throw new TypeError("option "+e+" is not recognized!");c[e](t)}),c},c.date=function(e){if(0===arguments.length)return u?null:r.clone();if(!(null===e||"string"==typeof e||t.isMoment(e)||e instanceof Date))throw new TypeError("date() parameter must be one of [null, string, moment or Date]");return _(null===e?null:oe(e)),c},c.format=function(e){if(0===arguments.length)return a.format;if("string"!=typeof e&&("boolean"!=typeof e||e!==!1))throw new TypeError("format() expects a sting or boolean:false parameter "+e);return a.format=e,s&&me(),c},c.timeZone=function(e){return 0===arguments.length?a.timeZone:(a.timeZone=e,c)},c.dayViewHeaderFormat=function(e){if(0===arguments.length)return a.dayViewHeaderFormat;if("string"!=typeof e)throw new TypeError("dayViewHeaderFormat() expects a string parameter");return a.dayViewHeaderFormat=e,c},c.extraFormats=function(e){if(0===arguments.length)return a.extraFormats;if(e!==!1&&!(e instanceof Array))throw new TypeError("extraFormats() expects an array or false parameter");return a.extraFormats=e,l&&me(),c},c.disabledDates=function(t){if(0===arguments.length)return a.disabledDates?e.extend({},a.disabledDates):a.disabledDates;if(!t)return a.disabledDates=!1,$(),c;if(!(t instanceof Array))throw new TypeError("disabledDates() expects an array parameter");return a.disabledDates=ue(t),a.enabledDates=!1,$(),c},c.enabledDates=function(t){if(0===arguments.length)return a.enabledDates?e.extend({},a.enabledDates):a.enabledDates;if(!t)return a.enabledDates=!1,$(),c;if(!(t instanceof Array))throw new TypeError("enabledDates() expects an array parameter");return a.enabledDates=ue(t),a.disabledDates=!1,$(),c},c.daysOfWeekDisabled=function(e){if(0===arguments.length)return a.daysOfWeekDisabled.splice(0);if("boolean"==typeof e&&!e)return a.daysOfWeekDisabled=!1,$(),c;if(!(e instanceof Array))throw new TypeError("daysOfWeekDisabled() expects an array parameter");if(a.daysOfWeekDisabled=e.reduce(function(e,t){return t=parseInt(t,10),t>6||0>t||isNaN(t)?e:(-1===e.indexOf(t)&&e.push(t),e)},[]).sort(),a.useCurrent&&!a.keepInvalid){for(var t=0;!N(r,"d");){if(r.add(1,"d"),7===t)throw"Tried 7 times to find a valid date";t++}_(r)}return $(),c},c.maxDate=function(e){if(0===arguments.length)return a.maxDate?a.maxDate.clone():a.maxDate;if("boolean"==typeof e&&e===!1)return a.maxDate=!1,$(),c;"string"==typeof e&&("now"===e||"moment"===e)&&(e=x());var t=oe(e);if(!t.isValid())throw new TypeError("maxDate() Could not parse date parameter: "+e);if(a.minDate&&t.isBefore(a.minDate))throw new TypeError("maxDate() date parameter is before options.minDate: "+t.format(s));return a.maxDate=t,a.useCurrent&&!a.keepInvalid&&r.isAfter(e)&&_(a.maxDate),i.isAfter(t)&&(i=t.clone().subtract(a.stepping,"m")),$(),c},c.minDate=function(e){if(0===arguments.length)return a.minDate?a.minDate.clone():a.minDate;if("boolean"==typeof e&&e===!1)return a.minDate=!1,$(),c;"string"==typeof e&&("now"===e||"moment"===e)&&(e=x());var t=oe(e);if(!t.isValid())throw new TypeError("minDate() Could not parse date parameter: "+e);if(a.maxDate&&t.isAfter(a.maxDate))throw new TypeError("minDate() date parameter is after options.maxDate: "+t.format(s));return a.minDate=t,a.useCurrent&&!a.keepInvalid&&r.isBefore(e)&&_(a.minDate),i.isBefore(t)&&(i=t.clone().add(a.stepping,"m")),$(),c},c.defaultDate=function(e){if(0===arguments.length)return a.defaultDate?a.defaultDate.clone():a.defaultDate;if(!e)return a.defaultDate=!1,c;"string"==typeof e&&("now"===e||"moment"===e)&&(e=x());var t=oe(e);if(!t.isValid())throw new TypeError("defaultDate() Could not parse date parameter: "+e);if(!N(t))throw new TypeError("defaultDate() date passed is invalid according to component setup validations");return a.defaultDate=t,(a.defaultDate&&a.inline||""===o.val().trim())&&_(a.defaultDate),c},c.locale=function(e){if(0===arguments.length)return a.locale;if(!t.localeData(e))throw new TypeError("locale() locale "+e+" is not loaded from moment locales!");return a.locale=e,r.locale(a.locale),i.locale(a.locale),s&&me(),m&&(ee(),re()),c},c.stepping=function(e){return 0===arguments.length?a.stepping:(e=parseInt(e,10),(isNaN(e)||1>e)&&(e=1),a.stepping=e,c)},c.useCurrent=function(e){var t=["year","month","day","hour","minute"];if(0===arguments.length)return a.useCurrent;if("boolean"!=typeof e&&"string"!=typeof e)throw new TypeError("useCurrent() expects a boolean or string parameter");if("string"==typeof e&&-1===t.indexOf(e.toLowerCase()))throw new TypeError("useCurrent() expects a string parameter of "+t.join(", "));return a.useCurrent=e,c},c.collapse=function(e){if(0===arguments.length)return a.collapse;if("boolean"!=typeof e)throw new TypeError("collapse() expects a boolean parameter");return a.collapse===e?c:(a.collapse=e,m&&(ee(),re()),c)},c.icons=function(t){if(0===arguments.length)return e.extend({},a.icons);if(!(t instanceof Object))throw new TypeError("icons() expects parameter to be an Object");return e.extend(a.icons,t),m&&(ee(),re()),c},c.tooltips=function(t){if(0===arguments.length)return e.extend({},a.tooltips);if(!(t instanceof Object))throw new TypeError("tooltips() expects parameter to be an Object");return e.extend(a.tooltips,t),m&&(ee(),re()),c},c.useStrict=function(e){if(0===arguments.length)return a.useStrict;if("boolean"!=typeof e)throw new TypeError("useStrict() expects a boolean parameter");return a.useStrict=e,c},c.sideBySide=function(e){if(0===arguments.length)return a.sideBySide;if("boolean"!=typeof e)throw new TypeError("sideBySide() expects a boolean parameter");return a.sideBySide=e,m&&(ee(),re()),c},c.viewMode=function(e){if(0===arguments.length)return a.viewMode;if("string"!=typeof e)throw new TypeError("viewMode() expects a string parameter");if(-1===b.indexOf(e))throw new TypeError("viewMode() parameter must be one of ("+b.join(", ")+") value");return a.viewMode=e,p=Math.max(b.indexOf(e),h),j(),c},c.toolbarPlacement=function(e){if(0===arguments.length)return a.toolbarPlacement;if("string"!=typeof e)throw new TypeError("toolbarPlacement() expects a string parameter");if(-1===v.indexOf(e))throw new TypeError("toolbarPlacement() parameter must be one of ("+v.join(", ")+") value");return a.toolbarPlacement=e,m&&(ee(),re()),c},c.widgetPositioning=function(t){if(0===arguments.length)return e.extend({},a.widgetPositioning);if("[object Object]"!=={}.toString.call(t))throw new TypeError("widgetPositioning() expects an object variable");if(t.horizontal){if("string"!=typeof t.horizontal)throw new TypeError("widgetPositioning() horizontal variable must be a string");if(t.horizontal=t.horizontal.toLowerCase(),-1===w.indexOf(t.horizontal))throw new TypeError("widgetPositioning() expects horizontal parameter to be one of ("+w.join(", ")+")");a.widgetPositioning.horizontal=t.horizontal}if(t.vertical){if("string"!=typeof t.vertical)throw new TypeError("widgetPositioning() vertical variable must be a string");if(t.vertical=t.vertical.toLowerCase(),-1===g.indexOf(t.vertical))throw new TypeError("widgetPositioning() expects vertical parameter to be one of ("+g.join(", ")+")");a.widgetPositioning.vertical=t.vertical}return $(),c},c.calendarWeeks=function(e){if(0===arguments.length)return a.calendarWeeks;if("boolean"!=typeof e)throw new TypeError("calendarWeeks() expects parameter to be a boolean value");return a.calendarWeeks=e,$(),c},c.showTodayButton=function(e){if(0===arguments.length)return a.showTodayButton;if("boolean"!=typeof e)throw new TypeError("showTodayButton() expects a boolean parameter");return a.showTodayButton=e,m&&(ee(),re()),c},c.showClear=function(e){if(0===arguments.length)return a.showClear;if("boolean"!=typeof e)throw new TypeError("showClear() expects a boolean parameter");return a.showClear=e,m&&(ee(),re()),c},c.widgetParent=function(t){if(0===arguments.length)return a.widgetParent;if("string"==typeof t&&(t=e(t)),null!==t&&"string"!=typeof t&&!(t instanceof e))throw new TypeError("widgetParent() expects a string or a jQuery object parameter");return a.widgetParent=t,m&&(ee(),re()),c},c.keepOpen=function(e){if(0===arguments.length)return a.keepOpen;if("boolean"!=typeof e)throw new TypeError("keepOpen() expects a boolean parameter");return a.keepOpen=e,c},c.focusOnShow=function(e){if(0===arguments.length)return a.focusOnShow;if("boolean"!=typeof e)throw new TypeError("focusOnShow() expects a boolean parameter");return a.focusOnShow=e,c},c.inline=function(e){if(0===arguments.length)return a.inline;if("boolean"!=typeof e)throw new TypeError("inline() expects a boolean parameter");return a.inline=e,c},c.clear=function(){return te(),c},c.keyBinds=function(e){return a.keyBinds=e,c},c.getMoment=function(e){return x(e)},c.debug=function(e){if("boolean"!=typeof e)throw new TypeError("debug() expects a boolean parameter");return a.debug=e,c},c.allowInputToggle=function(e){if(0===arguments.length)return a.allowInputToggle;if("boolean"!=typeof e)throw new TypeError("allowInputToggle() expects a boolean parameter");return a.allowInputToggle=e,c},c.showClose=function(e){if(0===arguments.length)return a.showClose;if("boolean"!=typeof e)throw new TypeError("showClose() expects a boolean parameter");return a.showClose=e,c},c.keepInvalid=function(e){if(0===arguments.length)return a.keepInvalid;if("boolean"!=typeof e)throw new TypeError("keepInvalid() expects a boolean parameter");return a.keepInvalid=e,c},c.datepickerInput=function(e){if(0===arguments.length)return a.datepickerInput;if("string"!=typeof e)throw new TypeError("datepickerInput() expects a string parameter");return a.datepickerInput=e,c},c.parseInputDate=function(e){if(0===arguments.length)return a.parseInputDate;
if("function"!=typeof e)throw new TypeError("parseInputDate() sholud be as function");return a.parseInputDate=e,c},c.disabledTimeIntervals=function(t){if(0===arguments.length)return a.disabledTimeIntervals?e.extend({},a.disabledTimeIntervals):a.disabledTimeIntervals;if(!t)return a.disabledTimeIntervals=!1,$(),c;if(!(t instanceof Array))throw new TypeError("disabledTimeIntervals() expects an array parameter");return a.disabledTimeIntervals=t,$(),c},c.disabledHours=function(t){if(0===arguments.length)return a.disabledHours?e.extend({},a.disabledHours):a.disabledHours;if(!t)return a.disabledHours=!1,$(),c;if(!(t instanceof Array))throw new TypeError("disabledHours() expects an array parameter");if(a.disabledHours=fe(t),a.enabledHours=!1,a.useCurrent&&!a.keepInvalid){for(var n=0;!N(r,"h");){if(r.add(1,"h"),24===n)throw"Tried 24 times to find a valid date";n++}_(r)}return $(),c},c.enabledHours=function(t){if(0===arguments.length)return a.enabledHours?e.extend({},a.enabledHours):a.enabledHours;if(!t)return a.enabledHours=!1,$(),c;if(!(t instanceof Array))throw new TypeError("enabledHours() expects an array parameter");if(a.enabledHours=fe(t),a.disabledHours=!1,a.useCurrent&&!a.keepInvalid){for(var n=0;!N(r,"h");){if(r.add(1,"h"),24===n)throw"Tried 24 times to find a valid date";n++}_(r)}return $(),c},c.viewDate=function(e){if(0===arguments.length)return i.clone();if(!e)return i=r.clone(),c;if(!("string"==typeof e||t.isMoment(e)||e instanceof Date))throw new TypeError("viewDate() parameter must be one of [string, moment or Date]");return i=oe(e),B(),c},n.is("input"))o=n;else if(o=n.find(a.datepickerInput),0===o.size())o=n.find("input");else if(!o.is("input"))throw new Error('CSS class "'+a.datepickerInput+'" cannot be applied to non input element');if(n.hasClass("input-group")&&(f=0===n.find(".datepickerbutton").size()?n.find(".input-group-addon"):n.find(".datepickerbutton")),!a.inline&&!o.is("input"))throw new Error("Could not initialize DateTimePicker without an input element");return r=x(),i=r.clone(),e.extend(!0,a,I()),c.options(a),me(),pe(),o.prop("disabled")&&c.disable(),o.is("input")&&0!==o.val().trim().length?_(oe(o.val().trim())):a.defaultDate&&void 0===o.attr("placeholder")&&_(a.defaultDate),a.inline&&re(),c};e.fn.datetimepicker=function(t){return this.each(function(){var a=e(this);a.data("DateTimePicker")||(t=e.extend(!0,{},e.fn.datetimepicker.defaults,t),a.data("DateTimePicker",n(a,t)))})},e.fn.datetimepicker.defaults={timeZone:"Etc/UTC",format:!1,dayViewHeaderFormat:"MMMM YYYY",extraFormats:!1,stepping:1,minDate:!1,maxDate:!1,useCurrent:!0,collapse:!0,locale:t.locale(),defaultDate:!1,disabledDates:!1,enabledDates:!1,icons:{time:"glyphicon glyphicon-time",date:"glyphicon glyphicon-calendar",up:"glyphicon glyphicon-chevron-up",down:"glyphicon glyphicon-chevron-down",previous:"glyphicon glyphicon-chevron-left",next:"glyphicon glyphicon-chevron-right",today:"glyphicon glyphicon-screenshot",clear:"glyphicon glyphicon-trash",close:"glyphicon glyphicon-remove"},tooltips:{today:"Go to today",clear:"Clear selection",close:"Close the picker",selectMonth:"Select Month",prevMonth:"Previous Month",nextMonth:"Next Month",selectYear:"Select Year",prevYear:"Previous Year",nextYear:"Next Year",selectDecade:"Select Decade",prevDecade:"Previous Decade",nextDecade:"Next Decade",prevCentury:"Previous Century",nextCentury:"Next Century",pickHour:"Pick Hour",incrementHour:"Increment Hour",decrementHour:"Decrement Hour",pickMinute:"Pick Minute",incrementMinute:"Increment Minute",decrementMinute:"Decrement Minute",pickSecond:"Pick Second",incrementSecond:"Increment Second",decrementSecond:"Decrement Second",togglePeriod:"Toggle Period",selectTime:"Select Time"},useStrict:!1,sideBySide:!1,daysOfWeekDisabled:!1,calendarWeeks:!1,viewMode:"days",toolbarPlacement:"default",showTodayButton:!1,showClear:!1,showClose:!1,widgetPositioning:{horizontal:"auto",vertical:"auto"},widgetParent:null,ignoreReadonly:!1,keepOpen:!1,focusOnShow:!0,inline:!1,keepInvalid:!1,datepickerInput:".datepickerinput",keyBinds:{up:function(e){if(e){var t=this.date()||this.getMoment();e.find(".datepicker").is(":visible")?this.date(t.clone().subtract(7,"d")):this.date(t.clone().add(this.stepping(),"m"))}},down:function(e){if(!e)return void this.show();var t=this.date()||this.getMoment();e.find(".datepicker").is(":visible")?this.date(t.clone().add(7,"d")):this.date(t.clone().subtract(this.stepping(),"m"))},"control up":function(e){if(e){var t=this.date()||this.getMoment();e.find(".datepicker").is(":visible")?this.date(t.clone().subtract(1,"y")):this.date(t.clone().add(1,"h"))}},"control down":function(e){if(e){var t=this.date()||this.getMoment();e.find(".datepicker").is(":visible")?this.date(t.clone().add(1,"y")):this.date(t.clone().subtract(1,"h"))}},left:function(e){if(e){var t=this.date()||this.getMoment();e.find(".datepicker").is(":visible")&&this.date(t.clone().subtract(1,"d"))}},right:function(e){if(e){var t=this.date()||this.getMoment();e.find(".datepicker").is(":visible")&&this.date(t.clone().add(1,"d"))}},pageUp:function(e){if(e){var t=this.date()||this.getMoment();e.find(".datepicker").is(":visible")&&this.date(t.clone().subtract(1,"M"))}},pageDown:function(e){if(e){var t=this.date()||this.getMoment();e.find(".datepicker").is(":visible")&&this.date(t.clone().add(1,"M"))}},enter:function(){this.hide()},escape:function(){this.hide()},"control space":function(e){e.find(".timepicker").is(":visible")&&e.find('.btn[data-action="togglePeriod"]').click()},t:function(){this.date(this.getMoment())},"delete":function(){this.clear()}},debug:!1,allowInputToggle:!1,disabledTimeIntervals:!1,disabledHours:!1,enabledHours:!1,viewDate:!1}});
!function(t){"use strict";var e=function(e,i){this.options=t.extend({},t.fn.editableform.defaults,i),this.$div=t(e),this.options.scope||(this.options.scope=this)};e.prototype={constructor:e,initInput:function(){this.input=this.options.input,this.value=this.input.str2value(this.options.value),this.input.prerender()},initTemplate:function(){this.$form=t(t.fn.editableform.template)},initButtons:function(){var e=this.$form.find(".editable-buttons");e.append(t.fn.editableform.buttons),"bottom"===this.options.showbuttons&&e.addClass("editable-buttons-bottom")},render:function(){this.$loading=t(t.fn.editableform.loading),this.$div.empty().append(this.$loading),this.initTemplate(),this.options.showbuttons?this.initButtons():this.$form.find(".editable-buttons").remove(),this.showLoading(),this.isSaving=!1,this.$div.triggerHandler("rendering"),this.initInput(),this.$form.find("div.editable-input").append(this.input.$tpl),this.$div.append(this.$form),t.when(this.input.render()).then(t.proxy(function(){if(this.options.showbuttons||this.input.autosubmit(),this.$form.find(".editable-cancel").click(t.proxy(this.cancel,this)),this.input.error)this.error(this.input.error),this.$form.find(".editable-submit").attr("disabled",!0),this.input.$input.attr("disabled",!0),this.$form.submit(function(t){t.preventDefault()});else{this.error(!1),this.input.$input.removeAttr("disabled"),this.$form.find(".editable-submit").removeAttr("disabled");var e=null===this.value||void 0===this.value||""===this.value?this.options.defaultValue:this.value;this.input.value2input(e),this.$form.submit(t.proxy(this.submit,this))}this.$div.triggerHandler("rendered"),this.showForm(),this.input.postrender&&this.input.postrender()},this))},cancel:function(){this.$div.triggerHandler("cancel")},showLoading:function(){var t,e;this.$form?(t=this.$form.outerWidth(),e=this.$form.outerHeight(),t&&this.$loading.width(t),e&&this.$loading.height(e),this.$form.hide()):(t=this.$loading.parent().width(),t&&this.$loading.width(t)),this.$loading.show()},showForm:function(t){this.$loading.hide(),this.$form.show(),t!==!1&&this.input.activate(),this.$div.triggerHandler("show")},error:function(e){var i,s=this.$form.find(".control-group"),n=this.$form.find(".editable-error-block");if(e===!1)s.removeClass(t.fn.editableform.errorGroupClass),n.removeClass(t.fn.editableform.errorBlockClass).empty().hide();else{if(e){i=e.split("\n");for(var a=0;a<i.length;a++)i[a]=t("<div>").text(i[a]).html();e=i.join("<br>")}s.addClass(t.fn.editableform.errorGroupClass),n.addClass(t.fn.editableform.errorBlockClass).html(e).show()}},submit:function(e){e.stopPropagation(),e.preventDefault();var i,s=this.input.input2value();if(i=this.validate(s))return this.error(i),void this.showForm();if(!this.options.savenochange&&this.input.value2str(s)==this.input.value2str(this.value))return void this.$div.triggerHandler("nochange");var n=this.input.value2submit(s);this.isSaving=!0,t.when(this.save(n)).done(t.proxy(function(t){this.isSaving=!1;var e="function"==typeof this.options.success?this.options.success.call(this.options.scope,t,s):null;return e===!1?(this.error(!1),void this.showForm(!1)):"string"==typeof e?(this.error(e),void this.showForm()):(e&&"object"==typeof e&&e.hasOwnProperty("newValue")&&(s=e.newValue),this.error(!1),this.value=s,void this.$div.triggerHandler("save",{newValue:s,submitValue:n,response:t}))},this)).fail(t.proxy(function(t){this.isSaving=!1;var e;e="function"==typeof this.options.error?this.options.error.call(this.options.scope,t,s):"string"==typeof t?t:t.responseText||t.statusText||"Unknown error!",this.error(e),this.showForm()},this))},save:function(e){this.options.pk=t.fn.editableutils.tryParseJson(this.options.pk,!0);var i,s="function"==typeof this.options.pk?this.options.pk.call(this.options.scope):this.options.pk,n=!!("function"==typeof this.options.url||this.options.url&&("always"===this.options.send||"auto"===this.options.send&&null!==s&&void 0!==s));return n?(this.showLoading(),i={name:this.options.name||"",value:e,pk:s},"function"==typeof this.options.params?i=this.options.params.call(this.options.scope,i):(this.options.params=t.fn.editableutils.tryParseJson(this.options.params,!0),t.extend(i,this.options.params)),"function"==typeof this.options.url?this.options.url.call(this.options.scope,i):t.ajax(t.extend({url:this.options.url,data:i,type:"POST"},this.options.ajaxOptions))):void 0},validate:function(t){return void 0===t&&(t=this.value),"function"==typeof this.options.validate?this.options.validate.call(this.options.scope,t):void 0},option:function(t,e){t in this.options&&(this.options[t]=e),"value"===t&&this.setValue(e)},setValue:function(t,e){this.value=e?this.input.str2value(t):t,this.$form&&this.$form.is(":visible")&&this.input.value2input(this.value)}},t.fn.editableform=function(i){var s=arguments;return this.each(function(){var n=t(this),a=n.data("editableform"),o="object"==typeof i&&i;a||n.data("editableform",a=new e(this,o)),"string"==typeof i&&a[i].apply(a,Array.prototype.slice.call(s,1))})},t.fn.editableform.Constructor=e,t.fn.editableform.defaults={type:"text",url:null,params:null,name:null,pk:null,value:null,defaultValue:null,send:"auto",validate:null,success:null,error:null,ajaxOptions:null,showbuttons:!0,scope:null,savenochange:!1},t.fn.editableform.template='<form class="form-inline editableform"><div class="control-group"><div><div class="editable-input"></div><div class="editable-buttons"></div></div><div class="editable-error-block"></div></div></form>',t.fn.editableform.loading='<div class="editableform-loading"></div>',t.fn.editableform.buttons='<button type="submit" class="editable-submit">ok</button><button type="button" class="editable-cancel">cancel</button>',t.fn.editableform.errorGroupClass=null,t.fn.editableform.errorBlockClass="editable-error",t.fn.editableform.engine="jquery"}(window.jQuery),function(t){"use strict";t.fn.editableutils={inherit:function(t,e){var i=function(){};i.prototype=e.prototype,t.prototype=new i,t.prototype.constructor=t,t.superclass=e.prototype},setCursorPosition:function(t,e){if(t.setSelectionRange)t.setSelectionRange(e,e);else if(t.createTextRange){var i=t.createTextRange();i.collapse(!0),i.moveEnd("character",e),i.moveStart("character",e),i.select()}},tryParseJson:function(t,e){if("string"==typeof t&&t.length&&t.match(/^[\{\[].*[\}\]]$/))if(e)try{t=new Function("return "+t)()}catch(i){}finally{return t}else t=new Function("return "+t)();return t},sliceObj:function(e,i,s){var n,a,o={};if(!t.isArray(i)||!i.length)return o;for(var r=0;r<i.length;r++)n=i[r],e.hasOwnProperty(n)&&(o[n]=e[n]),s!==!0&&(a=n.toLowerCase(),e.hasOwnProperty(a)&&(o[n]=e[a]));return o},getConfigData:function(e){var i={};return t.each(e.data(),function(t,e){("object"!=typeof e||e&&"object"==typeof e&&(e.constructor===Object||e.constructor===Array))&&(i[t]=e)}),i},objectKeys:function(t){if(Object.keys)return Object.keys(t);if(t!==Object(t))throw new TypeError("Object.keys called on a non-object");var e,i=[];for(e in t)Object.prototype.hasOwnProperty.call(t,e)&&i.push(e);return i},escape:function(e){return t("<div>").text(e).html()},itemsByValue:function(e,i,s){if(!i||null===e)return[];if("function"!=typeof s){var n=s||"value";s=function(t){return t[n]}}var a=t.isArray(e),o=[],r=this;return t.each(i,function(i,n){if(n.children)o=o.concat(r.itemsByValue(e,n.children,s));else if(a)t.grep(e,function(t){return t==(n&&"object"==typeof n?s(n):n)}).length&&o.push(n);else{var l=n&&"object"==typeof n?s(n):n;e==l&&o.push(n)}}),o},createInput:function(e){var i,s,n,a=e.type;return"date"===a&&("inline"===e.mode?t.fn.editabletypes.datefield?a="datefield":t.fn.editabletypes.dateuifield&&(a="dateuifield"):t.fn.editabletypes.date?a="date":t.fn.editabletypes.dateui&&(a="dateui"),"date"!==a||t.fn.editabletypes.date||(a="combodate")),"datetime"===a&&"inline"===e.mode&&(a="datetimefield"),"wysihtml5"!==a||t.fn.editabletypes[a]||(a="textarea"),"function"==typeof t.fn.editabletypes[a]?(i=t.fn.editabletypes[a],s=this.sliceObj(e,this.objectKeys(i.defaults)),n=new i(s)):(t.error("Unknown type: "+a),!1)},supportsTransitions:function(){var t=document.body||document.documentElement,e=t.style,i="transition",s=["Moz","Webkit","Khtml","O","ms"];if("string"==typeof e[i])return!0;i=i.charAt(0).toUpperCase()+i.substr(1);for(var n=0;n<s.length;n++)if("string"==typeof e[s[n]+i])return!0;return!1}}}(window.jQuery),function(t){"use strict";var e=function(t,e){this.init(t,e)},i=function(t,e){this.init(t,e)};e.prototype={containerName:null,containerDataName:null,innerCss:null,containerClass:"editable-container editable-popup",defaults:{},init:function(i,s){this.$element=t(i),this.options=t.extend({},t.fn.editableContainer.defaults,s),this.splitOptions(),this.formOptions.scope=this.$element[0],this.initContainer(),this.delayedHide=!1,this.$element.on("destroyed",t.proxy(function(){this.destroy()},this)),t(document).data("editable-handlers-attached")||(t(document).on("keyup.editable",function(e){27===e.which&&t(".editable-open").editableContainer("hide")}),t(document).on("click.editable",function(i){var s,n=t(i.target),a=[".editable-container",".ui-datepicker-header",".datepicker",".modal-backdrop",".bootstrap-wysihtml5-insert-image-modal",".bootstrap-wysihtml5-insert-link-modal"];if(t.contains(document.documentElement,i.target)&&!n.is(document)){for(s=0;s<a.length;s++)if(n.is(a[s])||n.parents(a[s]).length)return;e.prototype.closeOthers(i.target)}}),t(document).data("editable-handlers-attached",!0))},splitOptions:function(){if(this.containerOptions={},this.formOptions={},!t.fn[this.containerName])throw new Error(this.containerName+" not found. Have you included corresponding js file?");for(var e in this.options)e in this.defaults?this.containerOptions[e]=this.options[e]:this.formOptions[e]=this.options[e]},tip:function(){return this.container()?this.container().$tip:null},container:function(){var t;return this.containerDataName&&(t=this.$element.data(this.containerDataName))?t:t=this.$element.data(this.containerName)},call:function(){this.$element[this.containerName].apply(this.$element,arguments)},initContainer:function(){this.call(this.containerOptions)},renderForm:function(){this.$form.editableform(this.formOptions).on({save:t.proxy(this.save,this),nochange:t.proxy(function(){this.hide("nochange")},this),cancel:t.proxy(function(){this.hide("cancel")},this),show:t.proxy(function(){this.delayedHide?(this.hide(this.delayedHide.reason),this.delayedHide=!1):this.setPosition()},this),rendering:t.proxy(this.setPosition,this),resize:t.proxy(this.setPosition,this),rendered:t.proxy(function(){this.$element.triggerHandler("shown",t(this.options.scope).data("editable"))},this)}).editableform("render")},show:function(e){this.$element.addClass("editable-open"),e!==!1&&this.closeOthers(this.$element[0]),this.innerShow(),this.tip().addClass(this.containerClass),this.$form,this.$form=t("<div>"),this.tip().is(this.innerCss)?this.tip().append(this.$form):this.tip().find(this.innerCss).append(this.$form),this.renderForm()},hide:function(t){if(this.tip()&&this.tip().is(":visible")&&this.$element.hasClass("editable-open")){if(this.$form.data("editableform").isSaving)return void(this.delayedHide={reason:t});this.delayedHide=!1,this.$element.removeClass("editable-open"),this.innerHide(),this.$element.triggerHandler("hidden",t||"manual")}},innerShow:function(){},innerHide:function(){},toggle:function(t){this.container()&&this.tip()&&this.tip().is(":visible")?this.hide():this.show(t)},setPosition:function(){},save:function(t,e){this.$element.triggerHandler("save",e),this.hide("save")},option:function(t,e){this.options[t]=e,t in this.containerOptions?(this.containerOptions[t]=e,this.setContainerOption(t,e)):(this.formOptions[t]=e,this.$form&&this.$form.editableform("option",t,e))},setContainerOption:function(t,e){this.call("option",t,e)},destroy:function(){this.hide(),this.innerDestroy(),this.$element.off("destroyed"),this.$element.removeData("editableContainer")},innerDestroy:function(){},closeOthers:function(e){t(".editable-open").each(function(i,s){if(s!==e&&!t(s).find(e).length){var n=t(s),a=n.data("editableContainer");a&&("cancel"===a.options.onblur?n.data("editableContainer").hide("onblur"):"submit"===a.options.onblur&&n.data("editableContainer").tip().find("form").submit())}})},activate:function(){this.tip&&this.tip().is(":visible")&&this.$form&&this.$form.data("editableform").input.activate()}},t.fn.editableContainer=function(s){var n=arguments;return this.each(function(){var a=t(this),o="editableContainer",r=a.data(o),l="object"==typeof s&&s,h="inline"===l.mode?i:e;r||a.data(o,r=new h(this,l)),"string"==typeof s&&r[s].apply(r,Array.prototype.slice.call(n,1))})},t.fn.editableContainer.Popup=e,t.fn.editableContainer.Inline=i,t.fn.editableContainer.defaults={value:null,placement:"top",autohide:!0,onblur:"cancel",anim:!1,mode:"popup"},jQuery.event.special.destroyed={remove:function(t){t.handler&&t.handler()}}}(window.jQuery),function(t){"use strict";t.extend(t.fn.editableContainer.Inline.prototype,t.fn.editableContainer.Popup.prototype,{containerName:"editableform",innerCss:".editable-inline",containerClass:"editable-container editable-inline",initContainer:function(){this.$tip=t("<span></span>"),this.options.anim||(this.options.anim=0)},splitOptions:function(){this.containerOptions={},this.formOptions=this.options},tip:function(){return this.$tip},innerShow:function(){this.$element.hide(),this.tip().insertAfter(this.$element).show()},innerHide:function(){this.$tip.hide(this.options.anim,t.proxy(function(){this.$element.show(),this.innerDestroy()},this))},innerDestroy:function(){this.tip()&&this.tip().empty().remove()}})}(window.jQuery),function(t){"use strict";var e=function(e,i){this.$element=t(e),this.options=t.extend({},t.fn.editable.defaults,i,t.fn.editableutils.getConfigData(this.$element)),this.options.selector?this.initLive():this.init(),this.options.highlight&&!t.fn.editableutils.supportsTransitions()&&(this.options.highlight=!1)};e.prototype={constructor:e,init:function(){var e,i=!1;if(this.options.name=this.options.name||this.$element.attr("id"),this.options.scope=this.$element[0],this.input=t.fn.editableutils.createInput(this.options),this.input){switch(void 0===this.options.value||null===this.options.value?(this.value=this.input.html2value(t.trim(this.$element.html())),i=!0):(this.options.value=t.fn.editableutils.tryParseJson(this.options.value,!0),this.value="string"==typeof this.options.value?this.input.str2value(this.options.value):this.options.value),this.$element.addClass("editable"),"textarea"===this.input.type&&this.$element.addClass("editable-pre-wrapped"),"manual"!==this.options.toggle?(this.$element.addClass("editable-click"),this.$element.on(this.options.toggle+".editable",t.proxy(function(t){if(this.options.disabled||t.preventDefault(),"mouseenter"===this.options.toggle)this.show();else{var e="click"!==this.options.toggle;this.toggle(e)}},this))):this.$element.attr("tabindex",-1),"function"==typeof this.options.display&&(this.options.autotext="always"),this.options.autotext){case"always":e=!0;break;case"auto":e=!t.trim(this.$element.text()).length&&null!==this.value&&void 0!==this.value&&!i;break;default:e=!1}t.when(e?this.render():!0).then(t.proxy(function(){this.options.disabled?this.disable():this.enable(),this.$element.triggerHandler("init",this)},this))}},initLive:function(){var e=this.options.selector;this.options.selector=!1,this.options.autotext="never",this.$element.on(this.options.toggle+".editable",e,t.proxy(function(e){var i=t(e.target);i.data("editable")||(i.hasClass(this.options.emptyclass)&&i.empty(),i.editable(this.options).trigger(e))},this))},render:function(t){return this.options.display!==!1?this.input.value2htmlFinal?this.input.value2html(this.value,this.$element[0],this.options.display,t):"function"==typeof this.options.display?this.options.display.call(this.$element[0],this.value,t):this.input.value2html(this.value,this.$element[0]):void 0},enable:function(){this.options.disabled=!1,this.$element.removeClass("editable-disabled"),this.handleEmpty(this.isEmpty),"manual"!==this.options.toggle&&"-1"===this.$element.attr("tabindex")&&this.$element.removeAttr("tabindex")},disable:function(){this.options.disabled=!0,this.hide(),this.$element.addClass("editable-disabled"),this.handleEmpty(this.isEmpty),this.$element.attr("tabindex",-1)},toggleDisabled:function(){this.options.disabled?this.enable():this.disable()},option:function(e,i){return e&&"object"==typeof e?void t.each(e,t.proxy(function(e,i){this.option(t.trim(e),i)},this)):(this.options[e]=i,"disabled"===e?i?this.disable():this.enable():("value"===e&&this.setValue(i),this.container&&this.container.option(e,i),void(this.input.option&&this.input.option(e,i))))},handleEmpty:function(e){this.options.display!==!1&&(this.isEmpty=void 0!==e?e:"function"==typeof this.input.isEmpty?this.input.isEmpty(this.$element):""===t.trim(this.$element.html()),this.options.disabled?this.isEmpty&&(this.$element.empty(),this.options.emptyclass&&this.$element.removeClass(this.options.emptyclass)):this.isEmpty?(this.$element.html(this.options.emptytext),this.options.emptyclass&&this.$element.addClass(this.options.emptyclass)):this.options.emptyclass&&this.$element.removeClass(this.options.emptyclass))},show:function(e){if(!this.options.disabled){if(this.container){if(this.container.tip().is(":visible"))return}else{var i=t.extend({},this.options,{value:this.value,input:this.input});this.$element.editableContainer(i),this.$element.on("save.internal",t.proxy(this.save,this)),this.container=this.$element.data("editableContainer")}this.container.show(e)}},hide:function(){this.container&&this.container.hide()},toggle:function(t){this.container&&this.container.tip().is(":visible")?this.hide():this.show(t)},save:function(t,e){if(this.options.unsavedclass){var i=!1;i=i||"function"==typeof this.options.url,i=i||this.options.display===!1,i=i||void 0!==e.response,i=i||this.options.savenochange&&this.input.value2str(this.value)!==this.input.value2str(e.newValue),i?this.$element.removeClass(this.options.unsavedclass):this.$element.addClass(this.options.unsavedclass)}if(this.options.highlight){var s=this.$element,n=s.css("background-color");s.css("background-color",this.options.highlight),setTimeout(function(){"transparent"===n&&(n=""),s.css("background-color",n),s.addClass("editable-bg-transition"),setTimeout(function(){s.removeClass("editable-bg-transition")},1700)},10)}this.setValue(e.newValue,!1,e.response)},validate:function(){return"function"==typeof this.options.validate?this.options.validate.call(this,this.value):void 0},setValue:function(e,i,s){this.value=i?this.input.str2value(e):e,this.container&&this.container.option("value",this.value),t.when(this.render(s)).then(t.proxy(function(){this.handleEmpty()},this))},activate:function(){this.container&&this.container.activate()},destroy:function(){this.disable(),this.container&&this.container.destroy(),this.input.destroy(),"manual"!==this.options.toggle&&(this.$element.removeClass("editable-click"),this.$element.off(this.options.toggle+".editable")),this.$element.off("save.internal"),this.$element.removeClass("editable editable-open editable-disabled"),this.$element.removeData("editable")}},t.fn.editable=function(i){var s={},n=arguments,a="editable";switch(i){case"validate":return this.each(function(){var e,i=t(this),n=i.data(a);n&&(e=n.validate())&&(s[n.options.name]=e)}),s;case"getValue":return 2===arguments.length&&arguments[1]===!0?s=this.eq(0).data(a).value:this.each(function(){var e=t(this),i=e.data(a);i&&void 0!==i.value&&null!==i.value&&(s[i.options.name]=i.input.value2submit(i.value))}),s;case"submit":var o,r=arguments[1]||{},l=this,h=this.editable("validate");return t.isEmptyObject(h)?(o=this.editable("getValue"),r.data&&t.extend(o,r.data),t.ajax(t.extend({url:r.url,data:o,type:"POST"},r.ajaxOptions)).success(function(t){"function"==typeof r.success&&r.success.call(l,t,r)}).error(function(){"function"==typeof r.error&&r.error.apply(l,arguments)})):"function"==typeof r.error&&r.error.call(l,h),this}return this.each(function(){var s=t(this),o=s.data(a),r="object"==typeof i&&i;return r&&r.selector?void(o=new e(this,r)):(o||s.data(a,o=new e(this,r)),void("string"==typeof i&&o[i].apply(o,Array.prototype.slice.call(n,1))))})},t.fn.editable.defaults={type:"text",disabled:!1,toggle:"click",emptytext:"Empty",autotext:"auto",value:null,display:null,emptyclass:"editable-empty",unsavedclass:"editable-unsaved",selector:null,highlight:"#FFFF80"}}(window.jQuery),function(t){"use strict";t.fn.editabletypes={};var e=function(){};e.prototype={init:function(e,i,s){this.type=e,this.options=t.extend({},s,i)},prerender:function(){this.$tpl=t(this.options.tpl),this.$input=this.$tpl,this.$clear=null,this.error=null},render:function(){},value2html:function(e,i){t(i)[this.options.escape?"text":"html"](t.trim(e))},html2value:function(e){return t("<div>").html(e).text()},value2str:function(t){return t},str2value:function(t){return t},value2submit:function(t){return t},value2input:function(t){this.$input.val(t)},input2value:function(){return this.$input.val()},activate:function(){this.$input.is(":visible")&&this.$input.focus()},clear:function(){this.$input.val(null)},escape:function(e){return t("<div>").text(e).html()},autosubmit:function(){},destroy:function(){},setClass:function(){this.options.inputclass&&this.$input.addClass(this.options.inputclass)},setAttr:function(t){void 0!==this.options[t]&&null!==this.options[t]&&this.$input.attr(t,this.options[t])},option:function(t,e){this.options[t]=e}},e.defaults={tpl:"",inputclass:null,escape:!0,scope:null,showbuttons:!0},t.extend(t.fn.editabletypes,{abstractinput:e})}(window.jQuery),function(t){"use strict";var e=function(){};t.fn.editableutils.inherit(e,t.fn.editabletypes.abstractinput),t.extend(e.prototype,{render:function(){var e=t.Deferred();return this.error=null,this.onSourceReady(function(){this.renderList(),e.resolve()},function(){this.error=this.options.sourceError,e.resolve()}),e.promise()},html2value:function(){return null},value2html:function(e,i,s,n){var a=t.Deferred(),o=function(){"function"==typeof s?s.call(i,e,this.sourceData,n):this.value2htmlFinal(e,i),a.resolve()};return null===e?o.call(this):this.onSourceReady(o,function(){a.resolve()}),a.promise()},onSourceReady:function(e,i){var s;if(t.isFunction(this.options.source)?(s=this.options.source.call(this.options.scope),this.sourceData=null):s=this.options.source,this.options.sourceCache&&t.isArray(this.sourceData))return void e.call(this);try{s=t.fn.editableutils.tryParseJson(s,!1)}catch(n){return void i.call(this)}if("string"==typeof s){if(this.options.sourceCache){var a,o=s;if(t(document).data(o)||t(document).data(o,{}),a=t(document).data(o),a.loading===!1&&a.sourceData)return this.sourceData=a.sourceData,this.doPrepend(),void e.call(this);if(a.loading===!0)return a.callbacks.push(t.proxy(function(){this.sourceData=a.sourceData,this.doPrepend(),e.call(this)},this)),void a.err_callbacks.push(t.proxy(i,this));a.loading=!0,a.callbacks=[],a.err_callbacks=[]}var r=t.extend({url:s,type:"get",cache:!1,dataType:"json",success:t.proxy(function(s){a&&(a.loading=!1),this.sourceData=this.makeArray(s),t.isArray(this.sourceData)?(a&&(a.sourceData=this.sourceData,t.each(a.callbacks,function(){this.call()})),this.doPrepend(),e.call(this)):(i.call(this),a&&t.each(a.err_callbacks,function(){this.call()}))},this),error:t.proxy(function(){i.call(this),a&&(a.loading=!1,t.each(a.err_callbacks,function(){this.call()}))},this)},this.options.sourceOptions);t.ajax(r)}else this.sourceData=this.makeArray(s),t.isArray(this.sourceData)?(this.doPrepend(),e.call(this)):i.call(this)},doPrepend:function(){null!==this.options.prepend&&void 0!==this.options.prepend&&(t.isArray(this.prependData)||(t.isFunction(this.options.prepend)&&(this.options.prepend=this.options.prepend.call(this.options.scope)),this.options.prepend=t.fn.editableutils.tryParseJson(this.options.prepend,!0),"string"==typeof this.options.prepend&&(this.options.prepend={"":this.options.prepend}),this.prependData=this.makeArray(this.options.prepend)),t.isArray(this.prependData)&&t.isArray(this.sourceData)&&(this.sourceData=this.prependData.concat(this.sourceData)))},renderList:function(){},value2htmlFinal:function(){},makeArray:function(e){var i,s,n,a,o=[];if(!e||"string"==typeof e)return null;if(t.isArray(e)){a=function(t,e){return s={value:t,text:e},i++>=2?!1:void 0};for(var r=0;r<e.length;r++)n=e[r],"object"==typeof n?(i=0,t.each(n,a),1===i?o.push(s):i>1&&(n.children&&(n.children=this.makeArray(n.children)),o.push(n))):o.push({value:n,text:n})}else t.each(e,function(t,e){o.push({value:t,text:e})});return o},option:function(t,e){this.options[t]=e,"source"===t&&(this.sourceData=null),"prepend"===t&&(this.prependData=null)}}),e.defaults=t.extend({},t.fn.editabletypes.abstractinput.defaults,{source:null,prepend:!1,sourceError:"Error when loading list",sourceCache:!0,sourceOptions:null}),t.fn.editabletypes.list=e}(window.jQuery),function(t){"use strict";var e=function(t){this.init("text",t,e.defaults)};t.fn.editableutils.inherit(e,t.fn.editabletypes.abstractinput),t.extend(e.prototype,{render:function(){this.renderClear(),this.setClass(),this.setAttr("placeholder")},activate:function(){this.$input.is(":visible")&&(this.$input.focus(),t.fn.editableutils.setCursorPosition(this.$input.get(0),this.$input.val().length),this.toggleClear&&this.toggleClear())},renderClear:function(){this.options.clear&&(this.$clear=t('<span class="editable-clear-x"></span>'),this.$input.after(this.$clear).css("padding-right",24).keyup(t.proxy(function(e){if(!~t.inArray(e.keyCode,[40,38,9,13,27])){clearTimeout(this.t);var i=this;this.t=setTimeout(function(){i.toggleClear(e)},100)}},this)).parent().css("position","relative"),this.$clear.click(t.proxy(this.clear,this)))},postrender:function(){},toggleClear:function(){if(this.$clear){var t=this.$input.val().length,e=this.$clear.is(":visible");t&&!e&&this.$clear.show(),!t&&e&&this.$clear.hide()}},clear:function(){this.$clear.hide(),this.$input.val("").focus()}}),e.defaults=t.extend({},t.fn.editabletypes.abstractinput.defaults,{tpl:'<input type="text">',placeholder:null,clear:!0}),t.fn.editabletypes.text=e}(window.jQuery),function(t){"use strict";var e=function(t){this.init("textarea",t,e.defaults)};t.fn.editableutils.inherit(e,t.fn.editabletypes.abstractinput),t.extend(e.prototype,{render:function(){this.setClass(),this.setAttr("placeholder"),this.setAttr("rows"),this.$input.keydown(function(e){e.ctrlKey&&13===e.which&&t(this).closest("form").submit()})},activate:function(){t.fn.editabletypes.text.prototype.activate.call(this)}}),e.defaults=t.extend({},t.fn.editabletypes.abstractinput.defaults,{tpl:"<textarea></textarea>",inputclass:"input-large",placeholder:null,rows:7}),t.fn.editabletypes.textarea=e}(window.jQuery),function(t){"use strict";var e=function(t){this.init("select",t,e.defaults)};t.fn.editableutils.inherit(e,t.fn.editabletypes.list),t.extend(e.prototype,{renderList:function(){this.$input.empty();var e=function(i,s){var n;if(t.isArray(s))for(var a=0;a<s.length;a++)n={},s[a].children?(n.label=s[a].text,i.append(e(t("<optgroup>",n),s[a].children))):(n.value=s[a].value,s[a].disabled&&(n.disabled=!0),i.append(t("<option>",n).text(s[a].text)));return i};e(this.$input,this.sourceData),this.setClass(),this.$input.on("keydown.editable",function(e){13===e.which&&t(this).closest("form").submit()})},value2htmlFinal:function(e,i){var s="",n=t.fn.editableutils.itemsByValue(e,this.sourceData);n.length&&(s=n[0].text),t.fn.editabletypes.abstractinput.prototype.value2html.call(this,s,i)},autosubmit:function(){this.$input.off("keydown.editable").on("change.editable",function(){t(this).closest("form").submit()})}}),e.defaults=t.extend({},t.fn.editabletypes.list.defaults,{tpl:"<select></select>"}),t.fn.editabletypes.select=e}(window.jQuery),function(t){"use strict";var e=function(t){this.init("checklist",t,e.defaults)};t.fn.editableutils.inherit(e,t.fn.editabletypes.list),t.extend(e.prototype,{renderList:function(){var e;if(this.$tpl.empty(),t.isArray(this.sourceData)){for(var i=0;i<this.sourceData.length;i++)e=t("<label>").append(t("<input>",{type:"checkbox",value:this.sourceData[i].value})).append(t("<span>").text(" "+this.sourceData[i].text)),t("<div>").append(e).appendTo(this.$tpl);this.$input=this.$tpl.find('input[type="checkbox"]'),this.setClass()}},value2str:function(e){return t.isArray(e)?e.sort().join(t.trim(this.options.separator)):""},str2value:function(e){var i,s=null;return"string"==typeof e&&e.length?(i=new RegExp("\\s*"+t.trim(this.options.separator)+"\\s*"),s=e.split(i)):s=t.isArray(e)?e:[e],s},value2input:function(e){this.$input.prop("checked",!1),t.isArray(e)&&e.length&&this.$input.each(function(i,s){var n=t(s);t.each(e,function(t,e){n.val()==e&&n.prop("checked",!0)})})},input2value:function(){var e=[];return this.$input.filter(":checked").each(function(i,s){e.push(t(s).val())}),e},value2htmlFinal:function(e,i){var s=[],n=t.fn.editableutils.itemsByValue(e,this.sourceData),a=this.options.escape;n.length?(t.each(n,function(e,i){var n=a?t.fn.editableutils.escape(i.text):i.text;s.push(n)}),t(i).html(s.join("<br>"))):t(i).empty()},activate:function(){this.$input.first().focus()},autosubmit:function(){this.$input.on("keydown",function(e){13===e.which&&t(this).closest("form").submit()})}}),e.defaults=t.extend({},t.fn.editabletypes.list.defaults,{tpl:'<div class="editable-checklist"></div>',inputclass:null,separator:","}),t.fn.editabletypes.checklist=e}(window.jQuery),function(t){"use strict";var e=function(t){this.init("password",t,e.defaults)};t.fn.editableutils.inherit(e,t.fn.editabletypes.text),t.extend(e.prototype,{value2html:function(e,i){e?t(i).text("[hidden]"):t(i).empty()},html2value:function(){return null}}),e.defaults=t.extend({},t.fn.editabletypes.text.defaults,{tpl:'<input type="password">'}),t.fn.editabletypes.password=e}(window.jQuery),function(t){"use strict";var e=function(t){this.init("email",t,e.defaults)};t.fn.editableutils.inherit(e,t.fn.editabletypes.text),e.defaults=t.extend({},t.fn.editabletypes.text.defaults,{tpl:'<input type="email">'}),t.fn.editabletypes.email=e}(window.jQuery),function(t){"use strict";var e=function(t){this.init("url",t,e.defaults)};t.fn.editableutils.inherit(e,t.fn.editabletypes.text),e.defaults=t.extend({},t.fn.editabletypes.text.defaults,{tpl:'<input type="url">'}),t.fn.editabletypes.url=e}(window.jQuery),function(t){"use strict";var e=function(t){this.init("tel",t,e.defaults)};t.fn.editableutils.inherit(e,t.fn.editabletypes.text),e.defaults=t.extend({},t.fn.editabletypes.text.defaults,{tpl:'<input type="tel">'}),t.fn.editabletypes.tel=e}(window.jQuery),function(t){"use strict";var e=function(t){this.init("number",t,e.defaults)};t.fn.editableutils.inherit(e,t.fn.editabletypes.text),t.extend(e.prototype,{render:function(){e.superclass.render.call(this),this.setAttr("min"),this.setAttr("max"),this.setAttr("step")},postrender:function(){this.$clear&&this.$clear.css({right:24})}}),e.defaults=t.extend({},t.fn.editabletypes.text.defaults,{tpl:'<input type="number">',inputclass:"input-mini",min:null,max:null,step:null}),t.fn.editabletypes.number=e}(window.jQuery),function(t){"use strict";var e=function(t){this.init("range",t,e.defaults)};t.fn.editableutils.inherit(e,t.fn.editabletypes.number),t.extend(e.prototype,{render:function(){this.$input=this.$tpl.filter("input"),this.setClass(),this.setAttr("min"),this.setAttr("max"),this.setAttr("step"),this.$input.on("input",function(){t(this).siblings("output").text(t(this).val())})},activate:function(){this.$input.focus()}}),e.defaults=t.extend({},t.fn.editabletypes.number.defaults,{tpl:'<input type="range"><output style="width: 30px; display: inline-block"></output>',inputclass:"input-medium"}),t.fn.editabletypes.range=e}(window.jQuery),function(t){"use strict";var e=function(t){this.init("time",t,e.defaults)};t.fn.editableutils.inherit(e,t.fn.editabletypes.abstractinput),
t.extend(e.prototype,{render:function(){this.setClass()}}),e.defaults=t.extend({},t.fn.editabletypes.abstractinput.defaults,{tpl:'<input type="time">'}),t.fn.editabletypes.time=e}(window.jQuery),function(t){"use strict";var e=function(i){if(this.init("select2",i,e.defaults),i.select2=i.select2||{},this.sourceData=null,i.placeholder&&(i.select2.placeholder=i.placeholder),!i.select2.tags&&i.source){var s=i.source;t.isFunction(i.source)&&(s=i.source.call(i.scope)),"string"==typeof s?(i.select2.ajax=i.select2.ajax||{},i.select2.ajax.data||(i.select2.ajax.data=function(t){return{query:t}}),i.select2.ajax.results||(i.select2.ajax.results=function(t){return{results:t}}),i.select2.ajax.url=s):(this.sourceData=this.convertSource(s),i.select2.data=this.sourceData)}if(this.options.select2=t.extend({},e.defaults.select2,i.select2),this.isMultiple=this.options.select2.tags||this.options.select2.multiple,this.isRemote="ajax"in this.options.select2,this.idFunc=this.options.select2.id,"function"!=typeof this.idFunc){var n=this.idFunc||"id";this.idFunc=function(t){return t[n]}}this.formatSelection=this.options.select2.formatSelection,"function"!=typeof this.formatSelection&&(this.formatSelection=function(t){return t.text})};t.fn.editableutils.inherit(e,t.fn.editabletypes.abstractinput),t.extend(e.prototype,{render:function(){this.setClass(),this.isRemote&&this.$input.on("select2-loaded",t.proxy(function(t){this.sourceData=t.items.results},this)),this.isMultiple&&this.$input.on("change",function(){t(this).closest("form").parent().triggerHandler("resize")})},value2html:function(i,s){var n,a="",o=this;this.options.select2.tags?n=i:this.sourceData&&(n=t.fn.editableutils.itemsByValue(i,this.sourceData,this.idFunc)),t.isArray(n)?(a=[],t.each(n,function(t,e){a.push(e&&"object"==typeof e?o.formatSelection(e):e)})):n&&(a=o.formatSelection(n)),a=t.isArray(a)?a.join(this.options.viewseparator):a,e.superclass.value2html.call(this,a,s)},html2value:function(t){return this.options.select2.tags?this.str2value(t,this.options.viewseparator):null},value2input:function(e){if(this.$input.data("select2")?this.$input.val(e).trigger("change",!0):(this.$input.val(e),this.$input.select2(this.options.select2)),this.isRemote&&!this.isMultiple&&!this.options.select2.initSelection){var i=this.options.select2.id,s=this.options.select2.formatSelection;if(!i&&!s){var n={id:e,text:t(this.options.scope).text()};this.$input.select2("data",n)}}},input2value:function(){return this.$input.select2("val")},str2value:function(e,i){if("string"!=typeof e||!this.isMultiple)return e;i=i||this.options.select2.separator||t.fn.select2.defaults.separator;var s,n,a;if(null===e||e.length<1)return null;for(s=e.split(i),n=0,a=s.length;a>n;n+=1)s[n]=t.trim(s[n]);return s},autosubmit:function(){this.$input.on("change",function(e,i){i||t(this).closest("form").submit()})},convertSource:function(e){if(t.isArray(e)&&e.length&&void 0!==e[0].value)for(var i=0;i<e.length;i++)void 0!==e[i].value&&(e[i].id=e[i].value,delete e[i].value);return e},destroy:function(){this.$input.data("select2")&&this.$input.select2("destroy")}}),e.defaults=t.extend({},t.fn.editabletypes.abstractinput.defaults,{tpl:'<input type="hidden">',select2:null,placeholder:null,source:null,viewseparator:", "}),t.fn.editabletypes.select2=e}(window.jQuery),function(t){var e=function(e,i){return this.$element=t(e),this.$element.is("input")?(this.options=t.extend({},t.fn.combodate.defaults,i,this.$element.data()),void this.init()):void t.error("Combodate should be applied to INPUT element")};e.prototype={constructor:e,init:function(){this.map={day:["D","date"],month:["M","month"],year:["Y","year"],hour:["[Hh]","hours"],minute:["m","minutes"],second:["s","seconds"],ampm:["[Aa]",""]},this.$widget=t('<span class="combodate"></span>').html(this.getTemplate()),this.initCombos(),this.$widget.on("change","select",t.proxy(function(){this.$element.val(this.getValue())},this)),this.$widget.find("select").css("width","auto"),this.$element.hide().after(this.$widget),this.setValue(this.$element.val()||this.options.value)},getTemplate:function(){var e=this.options.template;return t.each(this.map,function(t,i){i=i[0];var s=new RegExp(i+"+"),n=i.length>1?i.substring(1,2):i;e=e.replace(s,"{"+n+"}")}),e=e.replace(/ /g,"&nbsp;"),t.each(this.map,function(t,i){i=i[0];var s=i.length>1?i.substring(1,2):i;e=e.replace("{"+s+"}",'<select class="'+t+'"></select>')}),e},initCombos:function(){var e=this;t.each(this.map,function(t){var i,s,n=e.$widget.find("."+t);n.length&&(e["$"+t]=n,i="fill"+t.charAt(0).toUpperCase()+t.slice(1),s=e[i](),e["$"+t].html(e.renderItems(s)))})},initItems:function(t){var e,i=[];if("name"===this.options.firstItem){e=moment.relativeTime||moment.langData()._relativeTime;var s="function"==typeof e[t]?e[t](1,!0,t,!1):e[t];s=s.split(" ").reverse()[0],i.push(["",s])}else"empty"===this.options.firstItem&&i.push(["",""]);return i},renderItems:function(t){for(var e=[],i=0;i<t.length;i++)e.push('<option value="'+t[i][0]+'">'+t[i][1]+"</option>");return e.join("\n")},fillDay:function(){var t,e,i=this.initItems("d"),s=-1!==this.options.template.indexOf("DD");for(e=1;31>=e;e++)t=s?this.leadZero(e):e,i.push([e,t]);return i},fillMonth:function(){var t,e,i=this.initItems("M"),s=-1!==this.options.template.indexOf("MMMM"),n=-1!==this.options.template.indexOf("MMM"),a=-1!==this.options.template.indexOf("MM");for(e=0;11>=e;e++)t=s?moment().date(1).month(e).format("MMMM"):n?moment().date(1).month(e).format("MMM"):a?this.leadZero(e+1):e+1,i.push([e,t]);return i},fillYear:function(){var t,e,i=[],s=-1!==this.options.template.indexOf("YYYY");for(e=this.options.maxYear;e>=this.options.minYear;e--)t=s?e:(e+"").substring(2),i[this.options.yearDescending?"push":"unshift"]([e,t]);return i=this.initItems("y").concat(i)},fillHour:function(){var t,e,i=this.initItems("h"),s=-1!==this.options.template.indexOf("h"),n=(-1!==this.options.template.indexOf("H"),-1!==this.options.template.toLowerCase().indexOf("hh")),a=s?1:0,o=s?12:23;for(e=a;o>=e;e++)t=n?this.leadZero(e):e,i.push([e,t]);return i},fillMinute:function(){var t,e,i=this.initItems("m"),s=-1!==this.options.template.indexOf("mm");for(e=0;59>=e;e+=this.options.minuteStep)t=s?this.leadZero(e):e,i.push([e,t]);return i},fillSecond:function(){var t,e,i=this.initItems("s"),s=-1!==this.options.template.indexOf("ss");for(e=0;59>=e;e+=this.options.secondStep)t=s?this.leadZero(e):e,i.push([e,t]);return i},fillAmpm:function(){var t=-1!==this.options.template.indexOf("a"),e=(-1!==this.options.template.indexOf("A"),[["am",t?"am":"AM"],["pm",t?"pm":"PM"]]);return e},getValue:function(e){var i,s={},n=this,a=!1;return t.each(this.map,function(t){if("ampm"!==t){var e="day"===t?1:0;return s[t]=n["$"+t]?parseInt(n["$"+t].val(),10):e,isNaN(s[t])?(a=!0,!1):void 0}}),a?"":(this.$ampm&&(s.hour=12===s.hour?"am"===this.$ampm.val()?0:12:"am"===this.$ampm.val()?s.hour:s.hour+12),i=moment([s.year,s.month,s.day,s.hour,s.minute,s.second]),this.highlight(i),e=void 0===e?this.options.format:e,null===e?i.isValid()?i:null:i.isValid()?i.format(e):"")},setValue:function(e){function i(e,i){var s={};return e.children("option").each(function(e,n){var a,o=t(n).attr("value");""!==o&&(a=Math.abs(o-i),("undefined"==typeof s.distance||a<s.distance)&&(s={value:o,distance:a}))}),s.value}if(e){var s="string"==typeof e?moment(e,this.options.format):moment(e),n=this,a={};s.isValid()&&(t.each(this.map,function(t,e){"ampm"!==t&&(a[t]=s[e[1]]())}),this.$ampm&&(a.hour>=12?(a.ampm="pm",a.hour>12&&(a.hour-=12)):(a.ampm="am",0===a.hour&&(a.hour=12))),t.each(a,function(t,e){n["$"+t]&&("minute"===t&&n.options.minuteStep>1&&n.options.roundTime&&(e=i(n["$"+t],e)),"second"===t&&n.options.secondStep>1&&n.options.roundTime&&(e=i(n["$"+t],e)),n["$"+t].val(e))}),this.$element.val(s.format(this.options.format)))}},highlight:function(t){t.isValid()?this.options.errorClass?this.$widget.removeClass(this.options.errorClass):this.$widget.find("select").css("border-color",this.borderColor):this.options.errorClass?this.$widget.addClass(this.options.errorClass):(this.borderColor||(this.borderColor=this.$widget.find("select").css("border-color")),this.$widget.find("select").css("border-color","red"))},leadZero:function(t){return 9>=t?"0"+t:t},destroy:function(){this.$widget.remove(),this.$element.removeData("combodate").show()}},t.fn.combodate=function(i){var s,n=Array.apply(null,arguments);return n.shift(),"getValue"===i&&this.length&&(s=this.eq(0).data("combodate"))?s.getValue.apply(s,n):this.each(function(){var s=t(this),a=s.data("combodate"),o="object"==typeof i&&i;a||s.data("combodate",a=new e(this,o)),"string"==typeof i&&"function"==typeof a[i]&&a[i].apply(a,n)})},t.fn.combodate.defaults={format:"DD-MM-YYYY HH:mm",template:"D / MMM / YYYY   H : mm",value:null,minYear:1970,maxYear:2015,yearDescending:!0,minuteStep:5,secondStep:1,firstItem:"empty",errorClass:null,roundTime:!0}}(window.jQuery),function(t){"use strict";var e=function(i){this.init("combodate",i,e.defaults),this.options.viewformat||(this.options.viewformat=this.options.format),i.combodate=t.fn.editableutils.tryParseJson(i.combodate,!0),this.options.combodate=t.extend({},e.defaults.combodate,i.combodate,{format:this.options.format,template:this.options.template})};t.fn.editableutils.inherit(e,t.fn.editabletypes.abstractinput),t.extend(e.prototype,{render:function(){this.$input.combodate(this.options.combodate),"bs3"===t.fn.editableform.engine&&this.$input.siblings().find("select").addClass("form-control"),this.options.inputclass&&this.$input.siblings().find("select").addClass(this.options.inputclass)},value2html:function(t,i){var s=t?t.format(this.options.viewformat):"";e.superclass.value2html.call(this,s,i)},html2value:function(t){return t?moment(t,this.options.viewformat):null},value2str:function(t){return t?t.format(this.options.format):""},str2value:function(t){return t?moment(t,this.options.format):null},value2submit:function(t){return this.value2str(t)},value2input:function(t){this.$input.combodate("setValue",t)},input2value:function(){return this.$input.combodate("getValue",null)},activate:function(){this.$input.siblings(".combodate").find("select").eq(0).focus()},autosubmit:function(){}}),e.defaults=t.extend({},t.fn.editabletypes.abstractinput.defaults,{tpl:'<input type="text">',inputclass:null,format:"YYYY-MM-DD",viewformat:null,template:"D / MMM / YYYY",combodate:null}),t.fn.editabletypes.combodate=e}(window.jQuery),function(t){"use strict";var e=t.fn.editableform.Constructor.prototype.initInput;t.extend(t.fn.editableform.Constructor.prototype,{initTemplate:function(){this.$form=t(t.fn.editableform.template),this.$form.find(".control-group").addClass("form-group"),this.$form.find(".editable-error-block").addClass("help-block")},initInput:function(){e.apply(this);var i=null===this.input.options.inputclass||this.input.options.inputclass===!1,s="input-sm",n="text,select,textarea,password,email,url,tel,number,range,time,typeaheadjs".split(",");~t.inArray(this.input.type,n)&&(this.input.$input.addClass("form-control"),i&&(this.input.options.inputclass=s,this.input.$input.addClass(s)));for(var a=this.$form.find(".editable-buttons"),o=i?[s]:this.input.options.inputclass.split(" "),r=0;r<o.length;r++)"input-lg"===o[r].toLowerCase()&&a.find("button").removeClass("btn-sm").addClass("btn-lg")}}),t.fn.editableform.buttons='<button type="submit" class="btn btn-primary btn-sm editable-submit"><i class="glyphicon glyphicon-ok"></i></button><button type="button" class="btn btn-default btn-sm editable-cancel"><i class="glyphicon glyphicon-remove"></i></button>',t.fn.editableform.errorGroupClass="has-error",t.fn.editableform.errorBlockClass=null,t.fn.editableform.engine="bs3"}(window.jQuery),function(t){"use strict";t.extend(t.fn.editableContainer.Popup.prototype,{containerName:"popover",containerDataName:"bs.popover",innerCss:".popover-content",defaults:t.fn.popover.Constructor.DEFAULTS,initContainer:function(){t.extend(this.containerOptions,{trigger:"manual",selector:!1,content:" ",template:this.defaults.template});var e;this.$element.data("template")&&(e=this.$element.data("template"),this.$element.removeData("template")),this.call(this.containerOptions),e&&this.$element.data("template",e)},innerShow:function(){this.call("show")},innerHide:function(){this.call("hide")},innerDestroy:function(){this.call("destroy")},setContainerOption:function(t,e){this.container().options[t]=e},setPosition:function(){!function(){var t=this.tip(),e="function"==typeof this.options.placement?this.options.placement.call(this,t[0],this.$element[0]):this.options.placement,i=this.getPosition(),s=t[0].offsetWidth,n=t[0].offsetHeight,a=this.getCalculatedOffset(e,i,s,n);this.applyPlacement(a,e)}.call(this.container())}})}(window.jQuery),function(t){function e(){return new Date(Date.UTC.apply(Date,arguments))}function i(e,i){var s,n=t(e).data(),a={},o=new RegExp("^"+i.toLowerCase()+"([A-Z])"),i=new RegExp("^"+i.toLowerCase());for(var r in n)i.test(r)&&(s=r.replace(o,function(t,e){return e.toLowerCase()}),a[s]=n[r]);return a}function s(e){var i={};if(u[e]||(e=e.split("-")[0],u[e])){var s=u[e];return t.each(h,function(t,e){e in s&&(i[e]=s[e])}),i}}var n=function(e,i){this._process_options(i),this.element=t(e),this.isInline=!1,this.isInput=this.element.is("input"),this.component=this.element.is(".date")?this.element.find(".add-on, .btn"):!1,this.hasInput=this.component&&this.element.find("input").length,this.component&&0===this.component.length&&(this.component=!1),this.picker=t(p.template),this._buildEvents(),this._attachEvents(),this.isInline?this.picker.addClass("datepicker-inline").appendTo(this.element):this.picker.addClass("datepicker-dropdown dropdown-menu"),this.o.rtl&&(this.picker.addClass("datepicker-rtl"),this.picker.find(".prev i, .next i").toggleClass("icon-arrow-left icon-arrow-right")),this.viewMode=this.o.startView,this.o.calendarWeeks&&this.picker.find("tfoot th.today").attr("colspan",function(t,e){return parseInt(e)+1}),this._allow_update=!1,this.setStartDate(this.o.startDate),this.setEndDate(this.o.endDate),this.setDaysOfWeekDisabled(this.o.daysOfWeekDisabled),this.fillDow(),this.fillMonths(),this._allow_update=!0,this.update(),this.showMode(),this.isInline&&this.show()};n.prototype={constructor:n,_process_options:function(e){this._o=t.extend({},this._o,e);var i=this.o=t.extend({},this._o),s=i.language;switch(u[s]||(s=s.split("-")[0],u[s]||(s=l.language)),i.language=s,i.startView){case 2:case"decade":i.startView=2;break;case 1:case"year":i.startView=1;break;default:i.startView=0}switch(i.minViewMode){case 1:case"months":i.minViewMode=1;break;case 2:case"years":i.minViewMode=2;break;default:i.minViewMode=0}i.startView=Math.max(i.startView,i.minViewMode),i.weekStart%=7,i.weekEnd=(i.weekStart+6)%7;var n=p.parseFormat(i.format);i.startDate!==-1/0&&(i.startDate=p.parseDate(i.startDate,n,i.language)),1/0!==i.endDate&&(i.endDate=p.parseDate(i.endDate,n,i.language)),i.daysOfWeekDisabled=i.daysOfWeekDisabled||[],t.isArray(i.daysOfWeekDisabled)||(i.daysOfWeekDisabled=i.daysOfWeekDisabled.split(/[,\s]*/)),i.daysOfWeekDisabled=t.map(i.daysOfWeekDisabled,function(t){return parseInt(t,10)})},_events:[],_secondaryEvents:[],_applyEvents:function(t){for(var e,i,s=0;s<t.length;s++)e=t[s][0],i=t[s][1],e.on(i)},_unapplyEvents:function(t){for(var e,i,s=0;s<t.length;s++)e=t[s][0],i=t[s][1],e.off(i)},_buildEvents:function(){this.isInput?this._events=[[this.element,{focus:t.proxy(this.show,this),keyup:t.proxy(this.update,this),keydown:t.proxy(this.keydown,this)}]]:this.component&&this.hasInput?this._events=[[this.element.find("input"),{focus:t.proxy(this.show,this),keyup:t.proxy(this.update,this),keydown:t.proxy(this.keydown,this)}],[this.component,{click:t.proxy(this.show,this)}]]:this.element.is("div")?this.isInline=!0:this._events=[[this.element,{click:t.proxy(this.show,this)}]],this._secondaryEvents=[[this.picker,{click:t.proxy(this.click,this)}],[t(window),{resize:t.proxy(this.place,this)}],[t(document),{mousedown:t.proxy(function(t){this.element.is(t.target)||this.element.find(t.target).size()||this.picker.is(t.target)||this.picker.find(t.target).size()||this.hide()},this)}]]},_attachEvents:function(){this._detachEvents(),this._applyEvents(this._events)},_detachEvents:function(){this._unapplyEvents(this._events)},_attachSecondaryEvents:function(){this._detachSecondaryEvents(),this._applyEvents(this._secondaryEvents)},_detachSecondaryEvents:function(){this._unapplyEvents(this._secondaryEvents)},_trigger:function(e,i){var s=i||this.date,n=new Date(s.getTime()+6e4*s.getTimezoneOffset());this.element.trigger({type:e,date:n,format:t.proxy(function(t){var e=t||this.o.format;return p.formatDate(s,e,this.o.language)},this)})},show:function(t){this.isInline||this.picker.appendTo("body"),this.picker.show(),this.height=this.component?this.component.outerHeight():this.element.outerHeight(),this.place(),this._attachSecondaryEvents(),t&&t.preventDefault(),this._trigger("show")},hide:function(){this.isInline||this.picker.is(":visible")&&(this.picker.hide().detach(),this._detachSecondaryEvents(),this.viewMode=this.o.startView,this.showMode(),this.o.forceParse&&(this.isInput&&this.element.val()||this.hasInput&&this.element.find("input").val())&&this.setValue(),this._trigger("hide"))},remove:function(){this.hide(),this._detachEvents(),this._detachSecondaryEvents(),this.picker.remove(),delete this.element.data().datepicker,this.isInput||delete this.element.data().date},getDate:function(){var t=this.getUTCDate();return new Date(t.getTime()+6e4*t.getTimezoneOffset())},getUTCDate:function(){return this.date},setDate:function(t){this.setUTCDate(new Date(t.getTime()-6e4*t.getTimezoneOffset()))},setUTCDate:function(t){this.date=t,this.setValue()},setValue:function(){var t=this.getFormattedDate();this.isInput?this.element.val(t):this.component&&this.element.find("input").val(t)},getFormattedDate:function(t){return void 0===t&&(t=this.o.format),p.formatDate(this.date,t,this.o.language)},setStartDate:function(t){this._process_options({startDate:t}),this.update(),this.updateNavArrows()},setEndDate:function(t){this._process_options({endDate:t}),this.update(),this.updateNavArrows()},setDaysOfWeekDisabled:function(t){this._process_options({daysOfWeekDisabled:t}),this.update(),this.updateNavArrows()},place:function(){if(!this.isInline){var e=parseInt(this.element.parents().filter(function(){return"auto"!=t(this).css("z-index")}).first().css("z-index"))+10,i=this.component?this.component.parent().offset():this.element.offset(),s=this.component?this.component.outerHeight(!0):this.element.outerHeight(!0);this.picker.css({top:i.top+s,left:i.left,zIndex:e})}},_allow_update:!0,update:function(){if(this._allow_update){var t,e=!1;arguments&&arguments.length&&("string"==typeof arguments[0]||arguments[0]instanceof Date)?(t=arguments[0],e=!0):(t=this.isInput?this.element.val():this.element.data("date")||this.element.find("input").val(),delete this.element.data().date),this.date=p.parseDate(t,this.o.format,this.o.language),e&&this.setValue(),this.viewDate=this.date<this.o.startDate?new Date(this.o.startDate):this.date>this.o.endDate?new Date(this.o.endDate):new Date(this.date),this.fill()}},fillDow:function(){var t=this.o.weekStart,e="<tr>";if(this.o.calendarWeeks){var i='<th class="cw">&nbsp;</th>';e+=i,this.picker.find(".datepicker-days thead tr:first-child").prepend(i)}for(;t<this.o.weekStart+7;)e+='<th class="dow">'+u[this.o.language].daysMin[t++%7]+"</th>";e+="</tr>",this.picker.find(".datepicker-days thead").append(e)},fillMonths:function(){for(var t="",e=0;12>e;)t+='<span class="month">'+u[this.o.language].monthsShort[e++]+"</span>";this.picker.find(".datepicker-months td").html(t)},setRange:function(e){e&&e.length?this.range=t.map(e,function(t){return t.valueOf()}):delete this.range,this.fill()},getClassNames:function(e){var i=[],s=this.viewDate.getUTCFullYear(),n=this.viewDate.getUTCMonth(),a=this.date.valueOf(),o=new Date;return e.getUTCFullYear()<s||e.getUTCFullYear()==s&&e.getUTCMonth()<n?i.push("old"):(e.getUTCFullYear()>s||e.getUTCFullYear()==s&&e.getUTCMonth()>n)&&i.push("new"),this.o.todayHighlight&&e.getUTCFullYear()==o.getFullYear()&&e.getUTCMonth()==o.getMonth()&&e.getUTCDate()==o.getDate()&&i.push("today"),a&&e.valueOf()==a&&i.push("active"),(e.valueOf()<this.o.startDate||e.valueOf()>this.o.endDate||-1!==t.inArray(e.getUTCDay(),this.o.daysOfWeekDisabled))&&i.push("disabled"),this.range&&(e>this.range[0]&&e<this.range[this.range.length-1]&&i.push("range"),-1!=t.inArray(e.valueOf(),this.range)&&i.push("selected")),i},fill:function(){var i,s=new Date(this.viewDate),n=s.getUTCFullYear(),a=s.getUTCMonth(),o=this.o.startDate!==-1/0?this.o.startDate.getUTCFullYear():-1/0,r=this.o.startDate!==-1/0?this.o.startDate.getUTCMonth():-1/0,l=1/0!==this.o.endDate?this.o.endDate.getUTCFullYear():1/0,h=1/0!==this.o.endDate?this.o.endDate.getUTCMonth():1/0;this.date&&this.date.valueOf(),this.picker.find(".datepicker-days thead th.datepicker-switch").text(u[this.o.language].months[a]+" "+n),this.picker.find("tfoot th.today").text(u[this.o.language].today).toggle(this.o.todayBtn!==!1),this.picker.find("tfoot th.clear").text(u[this.o.language].clear).toggle(this.o.clearBtn!==!1),this.updateNavArrows(),this.fillMonths();var d=e(n,a-1,28,0,0,0,0),c=p.getDaysInMonth(d.getUTCFullYear(),d.getUTCMonth());d.setUTCDate(c),d.setUTCDate(c-(d.getUTCDay()-this.o.weekStart+7)%7);var f=new Date(d);f.setUTCDate(f.getUTCDate()+42),f=f.valueOf();for(var m,v=[];d.valueOf()<f;){if(d.getUTCDay()==this.o.weekStart&&(v.push("<tr>"),this.o.calendarWeeks)){var y=new Date(+d+864e5*((this.o.weekStart-d.getUTCDay()-7)%7)),b=new Date(+y+864e5*((11-y.getUTCDay())%7)),g=new Date(+(g=e(b.getUTCFullYear(),0,1))+864e5*((11-g.getUTCDay())%7)),w=(b-g)/864e5/7+1;v.push('<td class="cw">'+w+"</td>")}m=this.getClassNames(d),m.push("day");var D=this.o.beforeShowDay(d);void 0===D?D={}:"boolean"==typeof D?D={enabled:D}:"string"==typeof D&&(D={classes:D}),D.enabled===!1&&m.push("disabled"),D.classes&&(m=m.concat(D.classes.split(/\s+/))),D.tooltip&&(i=D.tooltip),m=t.unique(m),v.push('<td class="'+m.join(" ")+'"'+(i?' title="'+i+'"':"")+">"+d.getUTCDate()+"</td>"),d.getUTCDay()==this.o.weekEnd&&v.push("</tr>"),d.setUTCDate(d.getUTCDate()+1)}this.picker.find(".datepicker-days tbody").empty().append(v.join(""));var k=this.date&&this.date.getUTCFullYear(),$=this.picker.find(".datepicker-months").find("th:eq(1)").text(n).end().find("span").removeClass("active");k&&k==n&&$.eq(this.date.getUTCMonth()).addClass("active"),(o>n||n>l)&&$.addClass("disabled"),n==o&&$.slice(0,r).addClass("disabled"),n==l&&$.slice(h+1).addClass("disabled"),v="",n=10*parseInt(n/10,10);var C=this.picker.find(".datepicker-years").find("th:eq(1)").text(n+"-"+(n+9)).end().find("td");n-=1;for(var x=-1;11>x;x++)v+='<span class="year'+(-1==x?" old":10==x?" new":"")+(k==n?" active":"")+(o>n||n>l?" disabled":"")+'">'+n+"</span>",n+=1;C.html(v)},updateNavArrows:function(){if(this._allow_update){var t=new Date(this.viewDate),e=t.getUTCFullYear(),i=t.getUTCMonth();switch(this.viewMode){case 0:this.o.startDate!==-1/0&&e<=this.o.startDate.getUTCFullYear()&&i<=this.o.startDate.getUTCMonth()?this.picker.find(".prev").css({visibility:"hidden"}):this.picker.find(".prev").css({visibility:"visible"}),1/0!==this.o.endDate&&e>=this.o.endDate.getUTCFullYear()&&i>=this.o.endDate.getUTCMonth()?this.picker.find(".next").css({visibility:"hidden"}):this.picker.find(".next").css({visibility:"visible"});break;case 1:case 2:this.o.startDate!==-1/0&&e<=this.o.startDate.getUTCFullYear()?this.picker.find(".prev").css({visibility:"hidden"}):this.picker.find(".prev").css({visibility:"visible"}),1/0!==this.o.endDate&&e>=this.o.endDate.getUTCFullYear()?this.picker.find(".next").css({visibility:"hidden"}):this.picker.find(".next").css({visibility:"visible"})}}},click:function(i){i.preventDefault();var s=t(i.target).closest("span, td, th");if(1==s.length)switch(s[0].nodeName.toLowerCase()){case"th":switch(s[0].className){case"datepicker-switch":this.showMode(1);break;case"prev":case"next":var n=p.modes[this.viewMode].navStep*("prev"==s[0].className?-1:1);switch(this.viewMode){case 0:this.viewDate=this.moveMonth(this.viewDate,n);break;case 1:case 2:this.viewDate=this.moveYear(this.viewDate,n)}this.fill();break;case"today":var a=new Date;a=e(a.getFullYear(),a.getMonth(),a.getDate(),0,0,0),this.showMode(-2);var o="linked"==this.o.todayBtn?null:"view";this._setDate(a,o);break;case"clear":var r;this.isInput?r=this.element:this.component&&(r=this.element.find("input")),r&&r.val("").change(),this._trigger("changeDate"),this.update(),this.o.autoclose&&this.hide()}break;case"span":if(!s.is(".disabled")){if(this.viewDate.setUTCDate(1),s.is(".month")){var l=1,h=s.parent().find("span").index(s),u=this.viewDate.getUTCFullYear();this.viewDate.setUTCMonth(h),this._trigger("changeMonth",this.viewDate),1===this.o.minViewMode&&this._setDate(e(u,h,l,0,0,0,0))}else{var u=parseInt(s.text(),10)||0,l=1,h=0;this.viewDate.setUTCFullYear(u),this._trigger("changeYear",this.viewDate),2===this.o.minViewMode&&this._setDate(e(u,h,l,0,0,0,0))}this.showMode(-1),this.fill()}break;case"td":if(s.is(".day")&&!s.is(".disabled")){var l=parseInt(s.text(),10)||1,u=this.viewDate.getUTCFullYear(),h=this.viewDate.getUTCMonth();s.is(".old")?0===h?(h=11,u-=1):h-=1:s.is(".new")&&(11==h?(h=0,u+=1):h+=1),this._setDate(e(u,h,l,0,0,0,0))}}},_setDate:function(t,e){e&&"date"!=e||(this.date=new Date(t)),e&&"view"!=e||(this.viewDate=new Date(t)),this.fill(),this.setValue(),this._trigger("changeDate");var i;this.isInput?i=this.element:this.component&&(i=this.element.find("input")),i&&(i.change(),!this.o.autoclose||e&&"date"!=e||this.hide())},moveMonth:function(t,e){if(!e)return t;var i,s,n=new Date(t.valueOf()),a=n.getUTCDate(),o=n.getUTCMonth(),r=Math.abs(e);if(e=e>0?1:-1,1==r)s=-1==e?function(){return n.getUTCMonth()==o}:function(){return n.getUTCMonth()!=i},i=o+e,n.setUTCMonth(i),(0>i||i>11)&&(i=(i+12)%12);else{for(var l=0;r>l;l++)n=this.moveMonth(n,e);i=n.getUTCMonth(),n.setUTCDate(a),s=function(){return i!=n.getUTCMonth()}}for(;s();)n.setUTCDate(--a),n.setUTCMonth(i);return n},moveYear:function(t,e){return this.moveMonth(t,12*e)},dateWithinRange:function(t){return t>=this.o.startDate&&t<=this.o.endDate},keydown:function(t){if(this.picker.is(":not(:visible)"))return void(27==t.keyCode&&this.show());var e,i,s,n=!1;switch(t.keyCode){case 27:this.hide(),t.preventDefault();break;case 37:case 39:if(!this.o.keyboardNavigation)break;e=37==t.keyCode?-1:1,t.ctrlKey?(i=this.moveYear(this.date,e),s=this.moveYear(this.viewDate,e)):t.shiftKey?(i=this.moveMonth(this.date,e),s=this.moveMonth(this.viewDate,e)):(i=new Date(this.date),i.setUTCDate(this.date.getUTCDate()+e),s=new Date(this.viewDate),s.setUTCDate(this.viewDate.getUTCDate()+e)),this.dateWithinRange(i)&&(this.date=i,this.viewDate=s,this.setValue(),this.update(),t.preventDefault(),n=!0);break;case 38:case 40:if(!this.o.keyboardNavigation)break;e=38==t.keyCode?-1:1,t.ctrlKey?(i=this.moveYear(this.date,e),s=this.moveYear(this.viewDate,e)):t.shiftKey?(i=this.moveMonth(this.date,e),s=this.moveMonth(this.viewDate,e)):(i=new Date(this.date),i.setUTCDate(this.date.getUTCDate()+7*e),s=new Date(this.viewDate),s.setUTCDate(this.viewDate.getUTCDate()+7*e)),this.dateWithinRange(i)&&(this.date=i,this.viewDate=s,this.setValue(),this.update(),t.preventDefault(),n=!0);break;case 13:this.hide(),t.preventDefault();break;case 9:this.hide()}if(n){this._trigger("changeDate");var a;this.isInput?a=this.element:this.component&&(a=this.element.find("input")),a&&a.change()}},showMode:function(t){t&&(this.viewMode=Math.max(this.o.minViewMode,Math.min(2,this.viewMode+t))),this.picker.find(">div").hide().filter(".datepicker-"+p.modes[this.viewMode].clsName).css("display","block"),this.updateNavArrows()}};var a=function(e,i){this.element=t(e),this.inputs=t.map(i.inputs,function(t){return t.jquery?t[0]:t}),delete i.inputs,t(this.inputs).datepicker(i).bind("changeDate",t.proxy(this.dateUpdated,this)),this.pickers=t.map(this.inputs,function(e){return t(e).data("datepicker")}),this.updateDates()};a.prototype={updateDates:function(){this.dates=t.map(this.pickers,function(t){return t.date}),this.updateRanges()},updateRanges:function(){var e=t.map(this.dates,function(t){return t.valueOf()});t.each(this.pickers,function(t,i){i.setRange(e)})},dateUpdated:function(e){var i=t(e.target).data("datepicker"),s=i.getUTCDate(),n=t.inArray(e.target,this.inputs),a=this.inputs.length;if(-1!=n){if(s<this.dates[n])for(;n>=0&&s<this.dates[n];)this.pickers[n--].setUTCDate(s);else if(s>this.dates[n])for(;a>n&&s>this.dates[n];)this.pickers[n++].setUTCDate(s);this.updateDates()}},remove:function(){t.map(this.pickers,function(t){t.remove()}),delete this.element.data().datepicker}};var o=t.fn.datepicker,r=t.fn.datepicker=function(e){var o=Array.apply(null,arguments);o.shift();var r;return this.each(function(){var h=t(this),u=h.data("datepicker"),p="object"==typeof e&&e;if(!u){var d=i(this,"date"),c=t.extend({},l,d,p),f=s(c.language),m=t.extend({},l,f,d,p);if(h.is(".input-daterange")||m.inputs){var v={inputs:m.inputs||h.find("input").toArray()};h.data("datepicker",u=new a(this,t.extend(m,v)))}else h.data("datepicker",u=new n(this,m))}return"string"==typeof e&&"function"==typeof u[e]&&(r=u[e].apply(u,o),void 0!==r)?!1:void 0}),void 0!==r?r:this},l=t.fn.datepicker.defaults={autoclose:!1,beforeShowDay:t.noop,calendarWeeks:!1,clearBtn:!1,daysOfWeekDisabled:[],endDate:1/0,forceParse:!0,format:"mm/dd/yyyy",keyboardNavigation:!0,language:"en",minViewMode:0,rtl:!1,startDate:-1/0,startView:0,todayBtn:!1,todayHighlight:!1,weekStart:0},h=t.fn.datepicker.locale_opts=["format","rtl","weekStart"];t.fn.datepicker.Constructor=n;var u=t.fn.datepicker.dates={en:{days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],daysShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat","Sun"],daysMin:["Su","Mo","Tu","We","Th","Fr","Sa","Su"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],monthsShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],today:"Today",clear:"Clear"}},p={modes:[{clsName:"days",navFnc:"Month",navStep:1},{clsName:"months",navFnc:"FullYear",navStep:1},{clsName:"years",navFnc:"FullYear",navStep:10}],isLeapYear:function(t){return 0===t%4&&0!==t%100||0===t%400},getDaysInMonth:function(t,e){return[31,p.isLeapYear(t)?29:28,31,30,31,30,31,31,30,31,30,31][e]},validParts:/dd?|DD?|mm?|MM?|yy(?:yy)?/g,nonpunctuation:/[^ -\/:-@\[\u3400-\u9fff-`{-~\t\n\r]+/g,parseFormat:function(t){var e=t.replace(this.validParts,"\x00").split("\x00"),i=t.match(this.validParts);if(!e||!e.length||!i||0===i.length)throw new Error("Invalid date format.");return{separators:e,parts:i}},parseDate:function(i,s,a){if(i instanceof Date)return i;if("string"==typeof s&&(s=p.parseFormat(s)),/^[\-+]\d+[dmwy]([\s,]+[\-+]\d+[dmwy])*$/.test(i)){var o,r,l=/([\-+]\d+)([dmwy])/,h=i.match(/([\-+]\d+)([dmwy])/g);i=new Date;for(var d=0;d<h.length;d++)switch(o=l.exec(h[d]),r=parseInt(o[1]),o[2]){case"d":i.setUTCDate(i.getUTCDate()+r);break;case"m":i=n.prototype.moveMonth.call(n.prototype,i,r);break;case"w":i.setUTCDate(i.getUTCDate()+7*r);break;case"y":i=n.prototype.moveYear.call(n.prototype,i,r)}return e(i.getUTCFullYear(),i.getUTCMonth(),i.getUTCDate(),0,0,0)}var c,f,o,h=i&&i.match(this.nonpunctuation)||[],i=new Date,m={},v=["yyyy","yy","M","MM","m","mm","d","dd"],y={yyyy:function(t,e){return t.setUTCFullYear(e)},yy:function(t,e){return t.setUTCFullYear(2e3+e)},m:function(t,e){for(e-=1;0>e;)e+=12;for(e%=12,t.setUTCMonth(e);t.getUTCMonth()!=e;)t.setUTCDate(t.getUTCDate()-1);return t},d:function(t,e){return t.setUTCDate(e)}};y.M=y.MM=y.mm=y.m,y.dd=y.d,i=e(i.getFullYear(),i.getMonth(),i.getDate(),0,0,0);var b=s.parts.slice();if(h.length!=b.length&&(b=t(b).filter(function(e,i){return-1!==t.inArray(i,v)}).toArray()),h.length==b.length){for(var d=0,g=b.length;g>d;d++){if(c=parseInt(h[d],10),
o=b[d],isNaN(c))switch(o){case"MM":f=t(u[a].months).filter(function(){var t=this.slice(0,h[d].length),e=h[d].slice(0,t.length);return t==e}),c=t.inArray(f[0],u[a].months)+1;break;case"M":f=t(u[a].monthsShort).filter(function(){var t=this.slice(0,h[d].length),e=h[d].slice(0,t.length);return t==e}),c=t.inArray(f[0],u[a].monthsShort)+1}m[o]=c}for(var w,d=0;d<v.length;d++)w=v[d],w in m&&!isNaN(m[w])&&y[w](i,m[w])}return i},formatDate:function(e,i,s){"string"==typeof i&&(i=p.parseFormat(i));var n={d:e.getUTCDate(),D:u[s].daysShort[e.getUTCDay()],DD:u[s].days[e.getUTCDay()],m:e.getUTCMonth()+1,M:u[s].monthsShort[e.getUTCMonth()],MM:u[s].months[e.getUTCMonth()],yy:e.getUTCFullYear().toString().substring(2),yyyy:e.getUTCFullYear()};n.dd=(n.d<10?"0":"")+n.d,n.mm=(n.m<10?"0":"")+n.m;for(var e=[],a=t.extend([],i.separators),o=0,r=i.parts.length;r>=o;o++)a.length&&e.push(a.shift()),e.push(n[i.parts[o]]);return e.join("")},headTemplate:'<thead><tr><th class="prev"><i class="icon-arrow-left"/></th><th colspan="5" class="datepicker-switch"></th><th class="next"><i class="icon-arrow-right"/></th></tr></thead>',contTemplate:'<tbody><tr><td colspan="7"></td></tr></tbody>',footTemplate:'<tfoot><tr><th colspan="7" class="today"></th></tr><tr><th colspan="7" class="clear"></th></tr></tfoot>'};p.template='<div class="datepicker"><div class="datepicker-days"><table class=" table-condensed">'+p.headTemplate+"<tbody></tbody>"+p.footTemplate+'</table></div><div class="datepicker-months"><table class="table-condensed">'+p.headTemplate+p.contTemplate+p.footTemplate+'</table></div><div class="datepicker-years"><table class="table-condensed">'+p.headTemplate+p.contTemplate+p.footTemplate+"</table></div></div>",t.fn.datepicker.DPGlobal=p,t.fn.datepicker.noConflict=function(){return t.fn.datepicker=o,this},t(document).on("focus.datepicker.data-api click.datepicker.data-api",'[data-provide="datepicker"]',function(e){var i=t(this);i.data("datepicker")||(e.preventDefault(),r.call(i,"show"))}),t(function(){r.call(t('[data-provide="datepicker-inline"]'))})}(window.jQuery),function(t){"use strict";t.fn.bdatepicker=t.fn.datepicker.noConflict(),t.fn.datepicker||(t.fn.datepicker=t.fn.bdatepicker);var e=function(t){this.init("date",t,e.defaults),this.initPicker(t,e.defaults)};t.fn.editableutils.inherit(e,t.fn.editabletypes.abstractinput),t.extend(e.prototype,{initPicker:function(e,i){this.options.viewformat||(this.options.viewformat=this.options.format),e.datepicker=t.fn.editableutils.tryParseJson(e.datepicker,!0),this.options.datepicker=t.extend({},i.datepicker,e.datepicker,{format:this.options.viewformat}),this.options.datepicker.language=this.options.datepicker.language||"en",this.dpg=t.fn.bdatepicker.DPGlobal,this.parsedFormat=this.dpg.parseFormat(this.options.format),this.parsedViewFormat=this.dpg.parseFormat(this.options.viewformat)},render:function(){this.$input.bdatepicker(this.options.datepicker),this.options.clear&&(this.$clear=t('<a href="#"></a>').html(this.options.clear).click(t.proxy(function(t){t.preventDefault(),t.stopPropagation(),this.clear()},this)),this.$tpl.parent().append(t('<div class="editable-clear">').append(this.$clear)))},value2html:function(t,i){var s=t?this.dpg.formatDate(t,this.parsedViewFormat,this.options.datepicker.language):"";e.superclass.value2html.call(this,s,i)},html2value:function(t){return this.parseDate(t,this.parsedViewFormat)},value2str:function(t){return t?this.dpg.formatDate(t,this.parsedFormat,this.options.datepicker.language):""},str2value:function(t){return this.parseDate(t,this.parsedFormat)},value2submit:function(t){return this.value2str(t)},value2input:function(t){this.$input.bdatepicker("update",t)},input2value:function(){return this.$input.data("datepicker").date},activate:function(){},clear:function(){this.$input.data("datepicker").date=null,this.$input.find(".active").removeClass("active"),this.options.showbuttons||this.$input.closest("form").submit()},autosubmit:function(){this.$input.on("mouseup",".day",function(e){if(!t(e.currentTarget).is(".old")&&!t(e.currentTarget).is(".new")){var i=t(this).closest("form");setTimeout(function(){i.submit()},200)}})},parseDate:function(t,e){var i,s=null;return t&&(s=this.dpg.parseDate(t,e,this.options.datepicker.language),"string"==typeof t&&(i=this.dpg.formatDate(s,e,this.options.datepicker.language),t!==i&&(s=null))),s}}),e.defaults=t.extend({},t.fn.editabletypes.abstractinput.defaults,{tpl:'<div class="editable-date well"></div>',inputclass:null,format:"yyyy-mm-dd",viewformat:null,datepicker:{weekStart:0,startView:0,minViewMode:0,autoclose:!1},clear:"&times; clear"}),t.fn.editabletypes.date=e}(window.jQuery),function(t){"use strict";var e=function(t){this.init("datefield",t,e.defaults),this.initPicker(t,e.defaults)};t.fn.editableutils.inherit(e,t.fn.editabletypes.date),t.extend(e.prototype,{render:function(){this.$input=this.$tpl.find("input"),this.setClass(),this.setAttr("placeholder"),this.$tpl.bdatepicker(this.options.datepicker),this.$input.off("focus keydown"),this.$input.keyup(t.proxy(function(){this.$tpl.removeData("date"),this.$tpl.bdatepicker("update")},this))},value2input:function(t){this.$input.val(t?this.dpg.formatDate(t,this.parsedViewFormat,this.options.datepicker.language):""),this.$tpl.bdatepicker("update")},input2value:function(){return this.html2value(this.$input.val())},activate:function(){t.fn.editabletypes.text.prototype.activate.call(this)},autosubmit:function(){}}),e.defaults=t.extend({},t.fn.editabletypes.date.defaults,{tpl:'<div class="input-append date"><input type="text"/><span class="add-on"><i class="icon-th"></i></span></div>',inputclass:"input-small",datepicker:{weekStart:0,startView:0,minViewMode:0,autoclose:!0}}),t.fn.editabletypes.datefield=e}(window.jQuery),function(t){"use strict";var e=function(t){this.init("datetime",t,e.defaults),this.initPicker(t,e.defaults)};t.fn.editableutils.inherit(e,t.fn.editabletypes.abstractinput),t.extend(e.prototype,{initPicker:function(e,i){this.options.viewformat||(this.options.viewformat=this.options.format),e.datetimepicker=t.fn.editableutils.tryParseJson(e.datetimepicker,!0),this.options.datetimepicker=t.extend({},i.datetimepicker,e.datetimepicker,{format:this.options.viewformat}),this.options.datetimepicker.language=this.options.datetimepicker.language||"en",this.dpg=t.fn.datetimepicker.DPGlobal,this.parsedFormat=this.dpg.parseFormat(this.options.format,this.options.formatType),this.parsedViewFormat=this.dpg.parseFormat(this.options.viewformat,this.options.formatType)},render:function(){this.$input.datetimepicker(this.options.datetimepicker),this.$input.on("changeMode",function(){var e=t(this).closest("form").parent();setTimeout(function(){e.triggerHandler("resize")},0)}),this.options.clear&&(this.$clear=t('<a href="#"></a>').html(this.options.clear).click(t.proxy(function(t){t.preventDefault(),t.stopPropagation(),this.clear()},this)),this.$tpl.parent().append(t('<div class="editable-clear">').append(this.$clear)))},value2html:function(t,i){var s=t?this.dpg.formatDate(this.toUTC(t),this.parsedViewFormat,this.options.datetimepicker.language,this.options.formatType):"";return i?void e.superclass.value2html.call(this,s,i):s},html2value:function(t){var e=this.parseDate(t,this.parsedViewFormat);return e?this.fromUTC(e):null},value2str:function(t){return t?this.dpg.formatDate(this.toUTC(t),this.parsedFormat,this.options.datetimepicker.language,this.options.formatType):""},str2value:function(t){var e=this.parseDate(t,this.parsedFormat);return e?this.fromUTC(e):null},value2submit:function(t){return this.value2str(t)},value2input:function(t){t&&this.$input.data("datetimepicker").setDate(t)},input2value:function(){var t=this.$input.data("datetimepicker");return t.date?t.getDate():null},activate:function(){},clear:function(){this.$input.data("datetimepicker").date=null,this.$input.find(".active").removeClass("active"),this.options.showbuttons||this.$input.closest("form").submit()},autosubmit:function(){this.$input.on("mouseup",".minute",function(){var e=t(this).closest("form");setTimeout(function(){e.submit()},200)})},toUTC:function(t){return t?new Date(t.valueOf()-6e4*t.getTimezoneOffset()):t},fromUTC:function(t){return t?new Date(t.valueOf()+6e4*t.getTimezoneOffset()):t},parseDate:function(t,e){var i,s=null;return t&&(s=this.dpg.parseDate(t,e,this.options.datetimepicker.language,this.options.formatType),"string"==typeof t&&(i=this.dpg.formatDate(s,e,this.options.datetimepicker.language,this.options.formatType),t!==i&&(s=null))),s}}),e.defaults=t.extend({},t.fn.editabletypes.abstractinput.defaults,{tpl:'<div class="editable-date well"></div>',inputclass:null,format:"yyyy-mm-dd hh:ii",formatType:"standard",viewformat:null,datetimepicker:{todayHighlight:!1,autoclose:!1},clear:"&times; clear"}),t.fn.editabletypes.datetime=e}(window.jQuery),function(t){"use strict";var e=function(t){this.init("datetimefield",t,e.defaults),this.initPicker(t,e.defaults)};t.fn.editableutils.inherit(e,t.fn.editabletypes.datetime),t.extend(e.prototype,{render:function(){this.$input=this.$tpl.find("input"),this.setClass(),this.setAttr("placeholder"),this.$tpl.datetimepicker(this.options.datetimepicker),this.$input.off("focus keydown"),this.$input.keyup(t.proxy(function(){this.$tpl.removeData("date"),this.$tpl.datetimepicker("update")},this))},value2input:function(t){this.$input.val(this.value2html(t)),this.$tpl.datetimepicker("update")},input2value:function(){return this.html2value(this.$input.val())},activate:function(){t.fn.editabletypes.text.prototype.activate.call(this)},autosubmit:function(){}}),e.defaults=t.extend({},t.fn.editabletypes.datetime.defaults,{tpl:'<div class="input-append date"><input type="text"/><span class="add-on"><i class="icon-th"></i></span></div>',inputclass:"input-medium",datetimepicker:{todayHighlight:!1,autoclose:!0}}),t.fn.editabletypes.datetimefield=e}(window.jQuery);
!function(t){var e=function(e,i){this.options=i,this.$elementFilestyle=[],this.$element=t(e)};e.prototype={clear:function(){this.$element.val(""),this.$elementFilestyle.find(":text").val(""),this.$elementFilestyle.find(".badge").remove()},destroy:function(){this.$element.removeAttr("style").removeData("filestyle").val(""),this.$elementFilestyle.remove()},disabled:function(t){if(t===!0)this.options.disabled||(this.$element.attr("disabled","true"),this.$elementFilestyle.find("label").attr("disabled","true"),this.options.disabled=!0);else{if(t!==!1)return this.options.disabled;this.options.disabled&&(this.$element.removeAttr("disabled"),this.$elementFilestyle.find("label").removeAttr("disabled"),this.options.disabled=!1)}},buttonBefore:function(t){if(t===!0)this.options.buttonBefore||(this.options.buttonBefore=!0,this.options.input&&(this.$elementFilestyle.remove(),this.constructor(),this.pushNameFiles()));else{if(t!==!1)return this.options.buttonBefore;this.options.buttonBefore&&(this.options.buttonBefore=!1,this.options.input&&(this.$elementFilestyle.remove(),this.constructor(),this.pushNameFiles()))}},icon:function(t){if(t===!0)this.options.icon||(this.options.icon=!0,this.$elementFilestyle.find("label").prepend(this.htmlIcon()));else{if(t!==!1)return this.options.icon;this.options.icon&&(this.options.icon=!1,this.$elementFilestyle.find(".glyphicon").remove())}},input:function(t){if(t===!0)this.options.input||(this.options.input=!0,this.options.buttonBefore?this.$elementFilestyle.append(this.htmlInput()):this.$elementFilestyle.prepend(this.htmlInput()),this.$elementFilestyle.find(".badge").remove(),this.pushNameFiles(),this.$elementFilestyle.find(".group-span-filestyle").addClass("input-group-btn"));else{if(t!==!1)return this.options.input;if(this.options.input){this.options.input=!1,this.$elementFilestyle.find(":text").remove();var e=this.pushNameFiles();e.length>0&&this.options.badge&&this.$elementFilestyle.find("label").append(' <span class="badge">'+e.length+"</span>"),this.$elementFilestyle.find(".group-span-filestyle").removeClass("input-group-btn")}}},size:function(t){if(void 0===t)return this.options.size;var e=this.$elementFilestyle.find("label"),i=this.$elementFilestyle.find("input");e.removeClass("btn-lg btn-sm"),i.removeClass("input-lg input-sm"),"nr"!=t&&(e.addClass("btn-"+t),i.addClass("input-"+t))},buttonText:function(t){return void 0===t?this.options.buttonText:(this.options.buttonText=t,void this.$elementFilestyle.find("label span").html(this.options.buttonText))},buttonName:function(t){return void 0===t?this.options.buttonName:(this.options.buttonName=t,void this.$elementFilestyle.find("label").attr({"class":"btn "+this.options.buttonName}))},iconName:function(t){return void 0===t?this.options.iconName:void this.$elementFilestyle.find(".glyphicon").attr({"class":".glyphicon "+this.options.iconName})},htmlIcon:function(){return this.options.icon?'<span class="glyphicon '+this.options.iconName+'"></span> ':""},htmlInput:function(){return this.options.input?'<input type="text" class="form-control '+("nr"==this.options.size?"":"input-"+this.options.size)+'" disabled> ':""},pushNameFiles:function(){var t="",e=[];void 0===this.$element[0].files?e[0]={name:this.$element[0]&&this.$element[0].value}:e=this.$element[0].files;for(var i=0;i<e.length;i++)t+=e[i].name.split("\\").pop()+", ";return""!==t?this.$elementFilestyle.find(":text").val(t.replace(/\, $/g,"")):this.$elementFilestyle.find(":text").val(""),e},constructor:function(){var e=this,i="",n=e.$element.attr("id"),s="";""!==n&&n||(n="filestyle-"+t(".bootstrap-filestyle").length,e.$element.attr({id:n})),s='<span class="group-span-filestyle '+(e.options.input?"input-group-btn":"")+'"><label for="'+n+'" class="btn '+e.options.buttonName+" "+("nr"==e.options.size?"":"btn-"+e.options.size)+'" '+(e.options.disabled?'disabled="true"':"")+">"+e.htmlIcon()+e.options.buttonText+"</label></span>",i=e.options.buttonBefore?s+e.htmlInput():e.htmlInput()+s,e.$elementFilestyle=t('<div class="bootstrap-filestyle input-group">'+i+"</div>"),e.$elementFilestyle.find(".group-span-filestyle").attr("tabindex","0").keypress(function(t){return 13===t.keyCode||32===t.charCode?(e.$elementFilestyle.find("label").click(),!1):void 0}),e.$element.css({position:"absolute",clip:"rect(0px 0px 0px 0px)"}).attr("tabindex","-1").after(e.$elementFilestyle),e.options.disabled&&e.$element.attr("disabled","true"),e.$element.change(function(){var t=e.pushNameFiles();0==e.options.input&&e.options.badge?0==e.$elementFilestyle.find(".badge").length?e.$elementFilestyle.find("label").append(' <span class="badge">'+t.length+"</span>"):0==t.length?e.$elementFilestyle.find(".badge").remove():e.$elementFilestyle.find(".badge").html(t.length):e.$elementFilestyle.find(".badge").remove()}),window.navigator.userAgent.search(/firefox/i)>-1&&e.$elementFilestyle.find("label").click(function(){return e.$element.click(),!1})}};var i=t.fn.filestyle;t.fn.filestyle=function(i,n){var s="",l=this.each(function(){if("file"===t(this).attr("type")){var l=t(this),o=l.data("filestyle"),a=t.extend({},t.fn.filestyle.defaults,i,"object"==typeof i&&i);o||(l.data("filestyle",o=new e(this,a)),o.constructor()),"string"==typeof i&&(s=o[i](n))}});return void 0!==typeof s?s:l},t.fn.filestyle.defaults={buttonText:"Choose file",iconName:"glyphicon-folder-open",buttonName:"btn-default",size:"nr",input:!0,badge:!0,icon:!0,buttonBefore:!1,disabled:!1},t.fn.filestyle.noConflict=function(){return t.fn.filestyle=i,this},t(function(){t(".filestyle").each(function(){var e=t(this),i={input:"false"!==e.attr("data-input"),icon:"false"!==e.attr("data-icon"),buttonBefore:"true"===e.attr("data-buttonBefore"),disabled:"true"===e.attr("data-disabled"),size:e.attr("data-size"),buttonText:e.attr("data-buttonText"),buttonName:e.attr("data-buttonName"),iconName:e.attr("data-iconName"),badge:"false"!==e.attr("data-badge")};e.filestyle(i)})})}(window.jQuery);
!function(t){"function"==typeof define&&define.amd?define(["jquery"],t):t("object"==typeof exports?require("jquery"):jQuery)}(function(t){function s(s){var e=!1;return t('[data-notify="container"]').each(function(i,n){var a=t(n),o=a.find('[data-notify="title"]').text().trim(),r=a.find('[data-notify="message"]').html().trim(),l=o===t("<div>"+s.settings.content.title+"</div>").html().trim(),d=r===t("<div>"+s.settings.content.message+"</div>").html().trim(),h=a.hasClass("alert-"+s.settings.type);return l&&d&&h&&(e=!0),!e}),e}function e(e,n,a){var o={content:{message:"object"==typeof n?n.message:n,title:n.title?n.title:"",icon:n.icon?n.icon:"",url:n.url?n.url:"#",target:n.target?n.target:"-"}};a=t.extend(!0,{},o,a),this.settings=t.extend(!0,{},i,a),this._defaults=i,"-"===this.settings.content.target&&(this.settings.content.target=this.settings.url_target),this.animations={start:"webkitAnimationStart oanimationstart MSAnimationStart animationstart",end:"webkitAnimationEnd oanimationend MSAnimationEnd animationend"},"number"==typeof this.settings.offset&&(this.settings.offset={x:this.settings.offset,y:this.settings.offset}),(this.settings.allow_duplicates||!this.settings.allow_duplicates&&!s(this))&&this.init()}var i={element:"body",position:null,type:"info",allow_dismiss:!0,allow_duplicates:!0,newest_on_top:!1,showProgressbar:!1,placement:{from:"top",align:"right"},offset:20,spacing:10,z_index:1031,delay:5e3,timer:1e3,url_target:"_blank",mouse_over:null,animate:{enter:"animated fadeInDown",exit:"animated fadeOutUp"},onShow:null,onShown:null,onClose:null,onClosed:null,icon_type:"class",template:'<div data-notify="container" class="col-xs-11 col-sm-4 alert alert-{0}" role="alert"><button type="button" aria-hidden="true" class="close" data-notify="dismiss">&times;</button><span data-notify="icon"></span> <span data-notify="title">{1}</span> <span data-notify="message">{2}</span><div class="progress" data-notify="progressbar"><div class="progress-bar progress-bar-{0}" role="progressbar" aria-valuenow="0" aria-valuemin="0" aria-valuemax="100" style="width: 0%;"></div></div><a href="{3}" target="{4}" data-notify="url"></a></div>'};String.format=function(){for(var t=arguments[0],s=1;s<arguments.length;s++)t=t.replace(RegExp("\\{"+(s-1)+"\\}","gm"),arguments[s]);return t},t.extend(e.prototype,{init:function(){var t=this;this.buildNotify(),this.settings.content.icon&&this.setIcon(),"#"!=this.settings.content.url&&this.styleURL(),this.styleDismiss(),this.placement(),this.bind(),this.notify={$ele:this.$ele,update:function(s,e){var i={};"string"==typeof s?i[s]=e:i=s;for(var n in i)switch(n){case"type":this.$ele.removeClass("alert-"+t.settings.type),this.$ele.find('[data-notify="progressbar"] > .progress-bar').removeClass("progress-bar-"+t.settings.type),t.settings.type=i[n],this.$ele.addClass("alert-"+i[n]).find('[data-notify="progressbar"] > .progress-bar').addClass("progress-bar-"+i[n]);break;case"icon":var a=this.$ele.find('[data-notify="icon"]');"class"===t.settings.icon_type.toLowerCase()?a.removeClass(t.settings.content.icon).addClass(i[n]):(a.is("img")||a.find("img"),a.attr("src",i[n]));break;case"progress":var o=t.settings.delay-t.settings.delay*(i[n]/100);this.$ele.data("notify-delay",o),this.$ele.find('[data-notify="progressbar"] > div').attr("aria-valuenow",i[n]).css("width",i[n]+"%");break;case"url":this.$ele.find('[data-notify="url"]').attr("href",i[n]);break;case"target":this.$ele.find('[data-notify="url"]').attr("target",i[n]);break;default:this.$ele.find('[data-notify="'+n+'"]').html(i[n])}var r=this.$ele.outerHeight()+parseInt(t.settings.spacing)+parseInt(t.settings.offset.y);t.reposition(r)},close:function(){t.close()}}},buildNotify:function(){var s=this.settings.content;this.$ele=t(String.format(this.settings.template,this.settings.type,s.title,s.message,s.url,s.target)),this.$ele.attr("data-notify-position",this.settings.placement.from+"-"+this.settings.placement.align),this.settings.allow_dismiss||this.$ele.find('[data-notify="dismiss"]').css("display","none"),(this.settings.delay>0||this.settings.showProgressbar)&&this.settings.showProgressbar||this.$ele.find('[data-notify="progressbar"]').remove()},setIcon:function(){"class"===this.settings.icon_type.toLowerCase()?this.$ele.find('[data-notify="icon"]').addClass(this.settings.content.icon):this.$ele.find('[data-notify="icon"]').is("img")?this.$ele.find('[data-notify="icon"]').attr("src",this.settings.content.icon):this.$ele.find('[data-notify="icon"]').append('<img src="'+this.settings.content.icon+'" alt="Notify Icon" />')},styleDismiss:function(){this.$ele.find('[data-notify="dismiss"]').css({position:"absolute",right:"10px",top:"5px",zIndex:this.settings.z_index+2})},styleURL:function(){this.$ele.find('[data-notify="url"]').css({backgroundImage:"url(data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7)",height:"100%",left:0,position:"absolute",top:0,width:"100%",zIndex:this.settings.z_index+1})},placement:function(){var s=this,e=this.settings.offset.y,i={display:"inline-block",margin:"0px auto",position:this.settings.position?this.settings.position:"body"===this.settings.element?"fixed":"absolute",transition:"all .5s ease-in-out",zIndex:this.settings.z_index},n=!1,a=this.settings;switch(t('[data-notify-position="'+this.settings.placement.from+"-"+this.settings.placement.align+'"]:not([data-closing="true"])').each(function(){e=Math.max(e,parseInt(t(this).css(a.placement.from))+parseInt(t(this).outerHeight())+parseInt(a.spacing))}),this.settings.newest_on_top===!0&&(e=this.settings.offset.y),i[this.settings.placement.from]=e+"px",this.settings.placement.align){case"left":case"right":i[this.settings.placement.align]=this.settings.offset.x+"px";break;case"center":i.left=0,i.right=0}this.$ele.css(i).addClass(this.settings.animate.enter),t.each(["webkit-","moz-","o-","ms-",""],function(t,e){s.$ele[0].style[e+"AnimationIterationCount"]=1}),t(this.settings.element).append(this.$ele),this.settings.newest_on_top===!0&&(e=parseInt(e)+parseInt(this.settings.spacing)+this.$ele.outerHeight(),this.reposition(e)),t.isFunction(s.settings.onShow)&&s.settings.onShow.call(this.$ele),this.$ele.one(this.animations.start,function(){n=!0}).one(this.animations.end,function(){t.isFunction(s.settings.onShown)&&s.settings.onShown.call(this)}),setTimeout(function(){n||t.isFunction(s.settings.onShown)&&s.settings.onShown.call(this)},600)},bind:function(){var s=this;if(this.$ele.find('[data-notify="dismiss"]').on("click",function(){s.close()}),this.$ele.mouseover(function(){t(this).data("data-hover","true")}).mouseout(function(){t(this).data("data-hover","false")}),this.$ele.data("data-hover","false"),this.settings.delay>0){s.$ele.data("notify-delay",s.settings.delay);var e=setInterval(function(){var t=parseInt(s.$ele.data("notify-delay"))-s.settings.timer;if("false"===s.$ele.data("data-hover")&&"pause"===s.settings.mouse_over||"pause"!=s.settings.mouse_over){var i=(s.settings.delay-t)/s.settings.delay*100;s.$ele.data("notify-delay",t),s.$ele.find('[data-notify="progressbar"] > div').attr("aria-valuenow",i).css("width",i+"%")}t>-s.settings.timer||(clearInterval(e),s.close())},s.settings.timer)}},close:function(){var s=this,e=parseInt(this.$ele.css(this.settings.placement.from)),i=!1;this.$ele.data("closing","true").addClass(this.settings.animate.exit),s.reposition(e),t.isFunction(s.settings.onClose)&&s.settings.onClose.call(this.$ele),this.$ele.one(this.animations.start,function(){i=!0}).one(this.animations.end,function(){t(this).remove(),t.isFunction(s.settings.onClosed)&&s.settings.onClosed.call(this)}),setTimeout(function(){i||(s.$ele.remove(),s.settings.onClosed&&s.settings.onClosed(s.$ele))},600)},reposition:function(s){var e=this,i='[data-notify-position="'+this.settings.placement.from+"-"+this.settings.placement.align+'"]:not([data-closing="true"])',n=this.$ele.nextAll(i);this.settings.newest_on_top===!0&&(n=this.$ele.prevAll(i)),n.each(function(){t(this).css(e.settings.placement.from,s),s=parseInt(s)+parseInt(e.settings.spacing)+t(this).outerHeight()})}}),t.notify=function(t,s){var i=new e(this,t,s);return i.notify},t.notifyDefaults=function(s){return i=t.extend(!0,{},i,s)},t.notifyClose=function(s){void 0===s||"all"===s?t("[data-notify]").find('[data-notify="dismiss"]').trigger("click"):t('[data-notify-position="'+s+'"]').find('[data-notify="dismiss"]').trigger("click")}});
(function(){"use strict";var t=this,i=t.Chart,e=function(t){this.canvas=t.canvas,this.ctx=t;var i=function(t,i){return t["offset"+i]?t["offset"+i]:document.defaultView.getComputedStyle(t).getPropertyValue(i)},e=this.width=i(t.canvas,"Width")||t.canvas.width,n=this.height=i(t.canvas,"Height")||t.canvas.height;return e=this.width=t.canvas.width,n=this.height=t.canvas.height,this.aspectRatio=this.width/this.height,s.retinaScale(this),this};e.defaults={global:{animation:!0,animationSteps:60,animationEasing:"easeOutQuart",showScale:!0,scaleOverride:!1,scaleSteps:null,scaleStepWidth:null,scaleStartValue:null,scaleLineColor:"rgba(0,0,0,.1)",scaleLineWidth:1,scaleShowLabels:!0,scaleLabel:"<%=value%>",scaleIntegersOnly:!0,scaleBeginAtZero:!1,scaleFontFamily:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",scaleFontSize:12,scaleFontStyle:"normal",scaleFontColor:"#666",responsive:!1,maintainAspectRatio:!0,showTooltips:!0,customTooltips:!1,tooltipEvents:["mousemove","touchstart","touchmove","mouseout"],tooltipFillColor:"rgba(0,0,0,0.8)",tooltipFontFamily:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",tooltipFontSize:14,tooltipFontStyle:"normal",tooltipFontColor:"#fff",tooltipTitleFontFamily:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",tooltipTitleFontSize:14,tooltipTitleFontStyle:"bold",tooltipTitleFontColor:"#fff",tooltipTitleTemplate:"<%= label%>",tooltipYPadding:6,tooltipXPadding:6,tooltipCaretSize:8,tooltipCornerRadius:6,tooltipXOffset:10,tooltipTemplate:"<%if (label){%><%=label%>: <%}%><%= value %>",multiTooltipTemplate:"<%= datasetLabel %>: <%= value %>",multiTooltipKeyBackground:"#fff",segmentColorDefault:["#A6CEE3","#1F78B4","#B2DF8A","#33A02C","#FB9A99","#E31A1C","#FDBF6F","#FF7F00","#CAB2D6","#6A3D9A","#B4B482","#B15928"],segmentHighlightColorDefaults:["#CEF6FF","#47A0DC","#DAFFB2","#5BC854","#FFC2C1","#FF4244","#FFE797","#FFA728","#F2DAFE","#9265C2","#DCDCAA","#D98150"],onAnimationProgress:function(){},onAnimationComplete:function(){}}},e.types={};var s=e.helpers={},n=s.each=function(t,i,e){var s=Array.prototype.slice.call(arguments,3);if(t)if(t.length===+t.length){var n;for(n=0;n<t.length;n++)i.apply(e,[t[n],n].concat(s))}else for(var o in t)i.apply(e,[t[o],o].concat(s))},o=s.clone=function(t){var i={};return n(t,function(e,s){t.hasOwnProperty(s)&&(i[s]=e)}),i},a=s.extend=function(t){return n(Array.prototype.slice.call(arguments,1),function(i){n(i,function(e,s){i.hasOwnProperty(s)&&(t[s]=e)})}),t},h=s.merge=function(t,i){var e=Array.prototype.slice.call(arguments,0);return e.unshift({}),a.apply(null,e)},l=s.indexOf=function(t,i){if(Array.prototype.indexOf)return t.indexOf(i);for(var e=0;e<t.length;e++)if(t[e]===i)return e;return-1},r=(s.where=function(t,i){var e=[];return s.each(t,function(t){i(t)&&e.push(t)}),e},s.findNextWhere=function(t,i,e){e||(e=-1);for(var s=e+1;s<t.length;s++){var n=t[s];if(i(n))return n}},s.findPreviousWhere=function(t,i,e){e||(e=t.length);for(var s=e-1;s>=0;s--){var n=t[s];if(i(n))return n}},s.inherits=function(t){var i=this,e=t&&t.hasOwnProperty("constructor")?t.constructor:function(){return i.apply(this,arguments)},s=function(){this.constructor=e};return s.prototype=i.prototype,e.prototype=new s,e.extend=r,t&&a(e.prototype,t),e.__super__=i.prototype,e}),c=s.noop=function(){},u=s.uid=function(){var t=0;return function(){return"chart-"+t++}}(),d=s.warn=function(t){window.console&&"function"==typeof window.console.warn&&console.warn(t)},p=s.amd="function"==typeof define&&define.amd,f=s.isNumber=function(t){return!isNaN(parseFloat(t))&&isFinite(t)},g=s.max=function(t){return Math.max.apply(Math,t)},m=s.min=function(t){return Math.min.apply(Math,t)},v=(s.cap=function(t,i,e){if(f(i)){if(t>i)return i}else if(f(e)&&e>t)return e;return t},s.getDecimalPlaces=function(t){if(t%1!==0&&f(t)){var i=t.toString();if(i.indexOf("e-")<0)return i.split(".")[1].length;if(i.indexOf(".")<0)return parseInt(i.split("e-")[1]);var e=i.split(".")[1].split("e-");return e[0].length+parseInt(e[1])}return 0}),S=s.radians=function(t){return t*(Math.PI/180)},x=(s.getAngleFromPoint=function(t,i){var e=i.x-t.x,s=i.y-t.y,n=Math.sqrt(e*e+s*s),o=2*Math.PI+Math.atan2(s,e);return 0>e&&0>s&&(o+=2*Math.PI),{angle:o,distance:n}},s.aliasPixel=function(t){return t%2===0?0:.5}),C=(s.splineCurve=function(t,i,e,s){var n=Math.sqrt(Math.pow(i.x-t.x,2)+Math.pow(i.y-t.y,2)),o=Math.sqrt(Math.pow(e.x-i.x,2)+Math.pow(e.y-i.y,2)),a=s*n/(n+o),h=s*o/(n+o);return{inner:{x:i.x-a*(e.x-t.x),y:i.y-a*(e.y-t.y)},outer:{x:i.x+h*(e.x-t.x),y:i.y+h*(e.y-t.y)}}},s.calculateOrderOfMagnitude=function(t){return Math.floor(Math.log(t)/Math.LN10)}),y=(s.calculateScaleRange=function(t,i,e,s,o){var a=2,h=Math.floor(i/(1.5*e)),l=a>=h,r=[];n(t,function(t){null==t||r.push(t)});var c=m(r),u=g(r);u===c&&(u+=.5,c>=.5&&!s?c-=.5:u+=.5);for(var d=Math.abs(u-c),p=C(d),f=Math.ceil(u/(1*Math.pow(10,p)))*Math.pow(10,p),v=s?0:Math.floor(c/(1*Math.pow(10,p)))*Math.pow(10,p),S=f-v,x=Math.pow(10,p),y=Math.round(S/x);(y>h||h>2*y)&&!l;)if(y>h)x*=2,y=Math.round(S/x),y%1!==0&&(l=!0);else if(o&&p>=0){if(x/2%1!==0)break;x/=2,y=Math.round(S/x)}else x/=2,y=Math.round(S/x);return l&&(y=a,x=S/y),{steps:y,stepValue:x,min:v,max:v+y*x}},s.template=function(t,i){function e(t,i){var e=/\W/.test(t)?new Function("obj","var p=[],print=function(){p.push.apply(p,arguments);};with(obj){p.push('"+t.replace(/[\r\t\n]/g," ").split("<%").join("	").replace(/((^|%>)[^\t]*)'/g,"$1\r").replace(/\t=(.*?)%>/g,"',$1,'").split("	").join("');").split("%>").join("p.push('").split("\r").join("\\'")+"');}return p.join('');"):s[t]=s[t];return i?e(i):e}if(t instanceof Function)return t(i);var s={};return e(t,i)}),b=(s.generateLabels=function(t,i,e,s){var o=new Array(i);return t&&n(o,function(i,n){o[n]=y(t,{value:e+s*(n+1)})}),o},s.easingEffects={linear:function(t){return t},easeInQuad:function(t){return t*t},easeOutQuad:function(t){return-1*t*(t-2)},easeInOutQuad:function(t){return(t/=.5)<1?.5*t*t:-.5*(--t*(t-2)-1)},easeInCubic:function(t){return t*t*t},easeOutCubic:function(t){return 1*((t=t/1-1)*t*t+1)},easeInOutCubic:function(t){return(t/=.5)<1?.5*t*t*t:.5*((t-=2)*t*t+2)},easeInQuart:function(t){return t*t*t*t},easeOutQuart:function(t){return-1*((t=t/1-1)*t*t*t-1)},easeInOutQuart:function(t){return(t/=.5)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2)},easeInQuint:function(t){return 1*(t/=1)*t*t*t*t},easeOutQuint:function(t){return 1*((t=t/1-1)*t*t*t*t+1)},easeInOutQuint:function(t){return(t/=.5)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2)},easeInSine:function(t){return-1*Math.cos(t/1*(Math.PI/2))+1},easeOutSine:function(t){return 1*Math.sin(t/1*(Math.PI/2))},easeInOutSine:function(t){return-.5*(Math.cos(Math.PI*t/1)-1)},easeInExpo:function(t){return 0===t?1:1*Math.pow(2,10*(t/1-1))},easeOutExpo:function(t){return 1===t?1:1*(-Math.pow(2,-10*t/1)+1)},easeInOutExpo:function(t){return 0===t?0:1===t?1:(t/=.5)<1?.5*Math.pow(2,10*(t-1)):.5*(-Math.pow(2,-10*--t)+2)},easeInCirc:function(t){return t>=1?t:-1*(Math.sqrt(1-(t/=1)*t)-1)},easeOutCirc:function(t){return 1*Math.sqrt(1-(t=t/1-1)*t)},easeInOutCirc:function(t){return(t/=.5)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1)},easeInElastic:function(t){var i=1.70158,e=0,s=1;return 0===t?0:1==(t/=1)?1:(e||(e=.3),s<Math.abs(1)?(s=1,i=e/4):i=e/(2*Math.PI)*Math.asin(1/s),-(s*Math.pow(2,10*(t-=1))*Math.sin((1*t-i)*(2*Math.PI)/e)))},easeOutElastic:function(t){var i=1.70158,e=0,s=1;return 0===t?0:1==(t/=1)?1:(e||(e=.3),s<Math.abs(1)?(s=1,i=e/4):i=e/(2*Math.PI)*Math.asin(1/s),s*Math.pow(2,-10*t)*Math.sin((1*t-i)*(2*Math.PI)/e)+1)},easeInOutElastic:function(t){var i=1.70158,e=0,s=1;return 0===t?0:2==(t/=.5)?1:(e||(e=1*(.3*1.5)),s<Math.abs(1)?(s=1,i=e/4):i=e/(2*Math.PI)*Math.asin(1/s),1>t?-.5*(s*Math.pow(2,10*(t-=1))*Math.sin((1*t-i)*(2*Math.PI)/e)):s*Math.pow(2,-10*(t-=1))*Math.sin((1*t-i)*(2*Math.PI)/e)*.5+1)},easeInBack:function(t){var i=1.70158;return 1*(t/=1)*t*((i+1)*t-i)},easeOutBack:function(t){var i=1.70158;return 1*((t=t/1-1)*t*((i+1)*t+i)+1)},easeInOutBack:function(t){var i=1.70158;return(t/=.5)<1?.5*(t*t*(((i*=1.525)+1)*t-i)):.5*((t-=2)*t*(((i*=1.525)+1)*t+i)+2)},easeInBounce:function(t){return 1-b.easeOutBounce(1-t)},easeOutBounce:function(t){return(t/=1)<1/2.75?1*(7.5625*t*t):2/2.75>t?1*(7.5625*(t-=1.5/2.75)*t+.75):2.5/2.75>t?1*(7.5625*(t-=2.25/2.75)*t+.9375):1*(7.5625*(t-=2.625/2.75)*t+.984375)},easeInOutBounce:function(t){return.5>t?.5*b.easeInBounce(2*t):.5*b.easeOutBounce(2*t-1)+.5}}),w=s.requestAnimFrame=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(t){return window.setTimeout(t,1e3/60)}}(),P=(s.cancelAnimFrame=function(){return window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||window.oCancelAnimationFrame||window.msCancelAnimationFrame||function(t){return window.clearTimeout(t,1e3/60)}}(),s.animationLoop=function(t,i,e,s,n,o){var a=0,h=b[e]||b.linear,l=function(){a++;var e=a/i,r=h(e);t.call(o,r,e,a),s.call(o,r,e),i>a?o.animationFrame=w(l):n.apply(o)};w(l)},s.getRelativePosition=function(t){var i,e,s=t.originalEvent||t,n=t.currentTarget||t.srcElement,o=n.getBoundingClientRect();return s.touches?(i=s.touches[0].clientX-o.left,e=s.touches[0].clientY-o.top):(i=s.clientX-o.left,e=s.clientY-o.top),{x:i,y:e}},s.addEvent=function(t,i,e){t.addEventListener?t.addEventListener(i,e):t.attachEvent?t.attachEvent("on"+i,e):t["on"+i]=e}),L=s.removeEvent=function(t,i,e){t.removeEventListener?t.removeEventListener(i,e,!1):t.detachEvent?t.detachEvent("on"+i,e):t["on"+i]=c},k=(s.bindEvents=function(t,i,e){t.events||(t.events={}),n(i,function(i){t.events[i]=function(){e.apply(t,arguments)},P(t.chart.canvas,i,t.events[i])})},s.unbindEvents=function(t,i){n(i,function(i,e){L(t.chart.canvas,e,i)})}),F=s.getMaximumWidth=function(t){var i=t.parentNode,e=parseInt(R(i,"padding-left"))+parseInt(R(i,"padding-right"));return i?i.clientWidth-e:0},A=s.getMaximumHeight=function(t){var i=t.parentNode,e=parseInt(R(i,"padding-bottom"))+parseInt(R(i,"padding-top"));return i?i.clientHeight-e:0},R=s.getStyle=function(t,i){return t.currentStyle?t.currentStyle[i]:document.defaultView.getComputedStyle(t,null).getPropertyValue(i)},T=(s.getMaximumSize=s.getMaximumWidth,s.retinaScale=function(t){var i=t.ctx,e=t.canvas.width,s=t.canvas.height;window.devicePixelRatio&&(i.canvas.style.width=e+"px",i.canvas.style.height=s+"px",i.canvas.height=s*window.devicePixelRatio,i.canvas.width=e*window.devicePixelRatio,i.scale(window.devicePixelRatio,window.devicePixelRatio))}),M=s.clear=function(t){t.ctx.clearRect(0,0,t.width,t.height)},W=s.fontString=function(t,i,e){return i+" "+t+"px "+e},z=s.longestText=function(t,i,e){t.font=i;var s=0;return n(e,function(i){var e=t.measureText(i).width;s=e>s?e:s}),s},B=s.drawRoundedRectangle=function(t,i,e,s,n,o){t.beginPath(),t.moveTo(i+o,e),t.lineTo(i+s-o,e),t.quadraticCurveTo(i+s,e,i+s,e+o),t.lineTo(i+s,e+n-o),t.quadraticCurveTo(i+s,e+n,i+s-o,e+n),t.lineTo(i+o,e+n),t.quadraticCurveTo(i,e+n,i,e+n-o),t.lineTo(i,e+o),t.quadraticCurveTo(i,e,i+o,e),t.closePath()};e.instances={},e.Type=function(t,i,s){this.options=i,this.chart=s,this.id=u(),e.instances[this.id]=this,i.responsive&&this.resize(),this.initialize.call(this,t)},a(e.Type.prototype,{initialize:function(){return this},clear:function(){return M(this.chart),this},stop:function(){return e.animationService.cancelAnimation(this),this},resize:function(t){this.stop();var i=this.chart.canvas,e=F(this.chart.canvas),s=this.options.maintainAspectRatio?e/this.chart.aspectRatio:A(this.chart.canvas);return i.width=this.chart.width=e,i.height=this.chart.height=s,T(this.chart),"function"==typeof t&&t.apply(this,Array.prototype.slice.call(arguments,1)),this},reflow:c,render:function(t){if(t&&this.reflow(),this.options.animation&&!t){var i=new e.Animation;i.numSteps=this.options.animationSteps,i.easing=this.options.animationEasing,i.render=function(t,i){var e=s.easingEffects[i.easing],n=i.currentStep/i.numSteps,o=e(n);t.draw(o,n,i.currentStep)},i.onAnimationProgress=this.options.onAnimationProgress,i.onAnimationComplete=this.options.onAnimationComplete,e.animationService.addAnimation(this,i)}else this.draw(),this.options.onAnimationComplete.call(this);return this},generateLegend:function(){return s.template(this.options.legendTemplate,{datasets:this.datasets})},destroy:function(){this.stop(),this.clear(),k(this,this.events);var t=this.chart.canvas;t.width=this.chart.width,t.height=this.chart.height,t.style.removeProperty?(t.style.removeProperty("width"),t.style.removeProperty("height")):(t.style.removeAttribute("width"),t.style.removeAttribute("height")),delete e.instances[this.id]},showTooltip:function(t,i){"undefined"==typeof this.activeElements&&(this.activeElements=[]);var o=function(t){var i=!1;return t.length!==this.activeElements.length?i=!0:(n(t,function(t,e){t!==this.activeElements[e]&&(i=!0)},this),i)}.call(this,t);if(o||i){if(this.activeElements=t,this.draw(),this.options.customTooltips&&this.options.customTooltips(!1),t.length>0)if(this.datasets&&this.datasets.length>1){for(var a,h,r=this.datasets.length-1;r>=0&&(a=this.datasets[r].points||this.datasets[r].bars||this.datasets[r].segments,h=l(a,t[0]),-1===h);r--);var c=[],u=[],d=function(t){var i,e,n,o,a,l=[],r=[],d=[];return s.each(this.datasets,function(t){i=t.points||t.bars||t.segments,i[h]&&i[h].hasValue()&&l.push(i[h])}),s.each(l,function(t){r.push(t.x),d.push(t.y),c.push(s.template(this.options.multiTooltipTemplate,t)),u.push({fill:t._saved.fillColor||t.fillColor,stroke:t._saved.strokeColor||t.strokeColor})},this),a=m(d),n=g(d),o=m(r),e=g(r),{x:o>this.chart.width/2?o:e,y:(a+n)/2}}.call(this,h);new e.MultiTooltip({x:d.x,y:d.y,xPadding:this.options.tooltipXPadding,yPadding:this.options.tooltipYPadding,xOffset:this.options.tooltipXOffset,fillColor:this.options.tooltipFillColor,textColor:this.options.tooltipFontColor,fontFamily:this.options.tooltipFontFamily,fontStyle:this.options.tooltipFontStyle,fontSize:this.options.tooltipFontSize,titleTextColor:this.options.tooltipTitleFontColor,titleFontFamily:this.options.tooltipTitleFontFamily,titleFontStyle:this.options.tooltipTitleFontStyle,titleFontSize:this.options.tooltipTitleFontSize,cornerRadius:this.options.tooltipCornerRadius,labels:c,legendColors:u,legendColorBackground:this.options.multiTooltipKeyBackground,title:y(this.options.tooltipTitleTemplate,t[0]),chart:this.chart,ctx:this.chart.ctx,custom:this.options.customTooltips}).draw()}else n(t,function(t){var i=t.tooltipPosition();new e.Tooltip({x:Math.round(i.x),y:Math.round(i.y),xPadding:this.options.tooltipXPadding,yPadding:this.options.tooltipYPadding,fillColor:this.options.tooltipFillColor,textColor:this.options.tooltipFontColor,fontFamily:this.options.tooltipFontFamily,fontStyle:this.options.tooltipFontStyle,fontSize:this.options.tooltipFontSize,caretHeight:this.options.tooltipCaretSize,cornerRadius:this.options.tooltipCornerRadius,text:y(this.options.tooltipTemplate,t),chart:this.chart,custom:this.options.customTooltips}).draw()},this);return this}},toBase64Image:function(){return this.chart.canvas.toDataURL.apply(this.chart.canvas,arguments)}}),e.Type.extend=function(t){var i=this,s=function(){return i.apply(this,arguments)};if(s.prototype=o(i.prototype),a(s.prototype,t),s.extend=e.Type.extend,t.name||i.prototype.name){var n=t.name||i.prototype.name,l=e.defaults[i.prototype.name]?o(e.defaults[i.prototype.name]):{};e.defaults[n]=a(l,t.defaults),e.types[n]=s,e.prototype[n]=function(t,i){var o=h(e.defaults.global,e.defaults[n],i||{});return new s(t,o,this)}}else d("Name not provided for this chart, so it hasn't been registered");return i},e.Element=function(t){a(this,t),this.initialize.apply(this,arguments),this.save()},a(e.Element.prototype,{initialize:function(){},restore:function(t){return t?n(t,function(t){this[t]=this._saved[t]},this):a(this,this._saved),this},save:function(){return this._saved=o(this),delete this._saved._saved,this},update:function(t){return n(t,function(t,i){this._saved[i]=this[i],this[i]=t},this),this},transition:function(t,i){return n(t,function(t,e){this[e]=(t-this._saved[e])*i+this._saved[e]},this),this},tooltipPosition:function(){return{x:this.x,y:this.y}},hasValue:function(){return f(this.value)}}),e.Element.extend=r,e.Point=e.Element.extend({display:!0,inRange:function(t,i){var e=this.hitDetectionRadius+this.radius;return Math.pow(t-this.x,2)+Math.pow(i-this.y,2)<Math.pow(e,2)},draw:function(){if(this.display){var t=this.ctx;t.beginPath(),t.arc(this.x,this.y,this.radius,0,2*Math.PI),t.closePath(),t.strokeStyle=this.strokeColor,t.lineWidth=this.strokeWidth,t.fillStyle=this.fillColor,t.fill(),t.stroke()}}}),e.Arc=e.Element.extend({inRange:function(t,i){var e=s.getAngleFromPoint(this,{x:t,y:i}),n=e.angle%(2*Math.PI),o=(2*Math.PI+this.startAngle)%(2*Math.PI),a=(2*Math.PI+this.endAngle)%(2*Math.PI)||360,h=o>a?a>=n||n>=o:n>=o&&a>=n,l=e.distance>=this.innerRadius&&e.distance<=this.outerRadius;return h&&l},tooltipPosition:function(){var t=this.startAngle+(this.endAngle-this.startAngle)/2,i=(this.outerRadius-this.innerRadius)/2+this.innerRadius;return{x:this.x+Math.cos(t)*i,y:this.y+Math.sin(t)*i}},draw:function(t){var i=this.ctx;i.beginPath(),i.arc(this.x,this.y,this.outerRadius<0?0:this.outerRadius,this.startAngle,this.endAngle),i.arc(this.x,this.y,this.innerRadius<0?0:this.innerRadius,this.endAngle,this.startAngle,!0),i.closePath(),i.strokeStyle=this.strokeColor,i.lineWidth=this.strokeWidth,i.fillStyle=this.fillColor,i.fill(),i.lineJoin="bevel",this.showStroke&&i.stroke()}}),e.Rectangle=e.Element.extend({draw:function(){var t=this.ctx,i=this.width/2,e=this.x-i,s=this.x+i,n=this.base-(this.base-this.y),o=this.strokeWidth/2;this.showStroke&&(e+=o,s-=o,n+=o),t.beginPath(),t.fillStyle=this.fillColor,t.strokeStyle=this.strokeColor,t.lineWidth=this.strokeWidth,t.moveTo(e,this.base),t.lineTo(e,n),t.lineTo(s,n),t.lineTo(s,this.base),t.fill(),this.showStroke&&t.stroke()},height:function(){return this.base-this.y},inRange:function(t,i){return t>=this.x-this.width/2&&t<=this.x+this.width/2&&i>=this.y&&i<=this.base}}),e.Animation=e.Element.extend({currentStep:null,numSteps:60,easing:"",render:null,onAnimationProgress:null,onAnimationComplete:null}),e.Tooltip=e.Element.extend({draw:function(){var t=this.chart.ctx;t.font=W(this.fontSize,this.fontStyle,this.fontFamily),this.xAlign="center",this.yAlign="above";var i=this.caretPadding=2,e=t.measureText(this.text).width+2*this.xPadding,s=this.fontSize+2*this.yPadding,n=s+this.caretHeight+i;this.x+e/2>this.chart.width?this.xAlign="left":this.x-e/2<0&&(this.xAlign="right"),this.y-n<0&&(this.yAlign="below");var o=this.x-e/2,a=this.y-n;if(t.fillStyle=this.fillColor,this.custom)this.custom(this);else{switch(this.yAlign){case"above":t.beginPath(),t.moveTo(this.x,this.y-i),t.lineTo(this.x+this.caretHeight,this.y-(i+this.caretHeight)),t.lineTo(this.x-this.caretHeight,this.y-(i+this.caretHeight)),t.closePath(),t.fill();break;case"below":a=this.y+i+this.caretHeight,t.beginPath(),t.moveTo(this.x,this.y+i),t.lineTo(this.x+this.caretHeight,this.y+i+this.caretHeight),t.lineTo(this.x-this.caretHeight,this.y+i+this.caretHeight),t.closePath(),t.fill()}switch(this.xAlign){case"left":o=this.x-e+(this.cornerRadius+this.caretHeight);break;case"right":o=this.x-(this.cornerRadius+this.caretHeight)}B(t,o,a,e,s,this.cornerRadius),t.fill(),t.fillStyle=this.textColor,t.textAlign="center",t.textBaseline="middle",t.fillText(this.text,o+e/2,a+s/2)}}}),e.MultiTooltip=e.Element.extend({initialize:function(){this.font=W(this.fontSize,this.fontStyle,this.fontFamily),this.titleFont=W(this.titleFontSize,this.titleFontStyle,this.titleFontFamily),this.titleHeight=this.title?1.5*this.titleFontSize:0,this.height=this.labels.length*this.fontSize+(this.labels.length-1)*(this.fontSize/2)+2*this.yPadding+this.titleHeight,this.ctx.font=this.titleFont;var t=this.ctx.measureText(this.title).width,i=z(this.ctx,this.font,this.labels)+this.fontSize+3,e=g([i,t]);this.width=e+2*this.xPadding;var s=this.height/2;this.y-s<0?this.y=s:this.y+s>this.chart.height&&(this.y=this.chart.height-s),this.x>this.chart.width/2?this.x-=this.xOffset+this.width:this.x+=this.xOffset},getLineHeight:function(t){var i=this.y-this.height/2+this.yPadding,e=t-1;return 0===t?i+this.titleHeight/3:i+(1.5*this.fontSize*e+this.fontSize/2)+this.titleHeight},draw:function(){if(this.custom)this.custom(this);else{B(this.ctx,this.x,this.y-this.height/2,this.width,this.height,this.cornerRadius);var t=this.ctx;t.fillStyle=this.fillColor,t.fill(),t.closePath(),t.textAlign="left",t.textBaseline="middle",t.fillStyle=this.titleTextColor,t.font=this.titleFont,t.fillText(this.title,this.x+this.xPadding,this.getLineHeight(0)),t.font=this.font,s.each(this.labels,function(i,e){t.fillStyle=this.textColor,t.fillText(i,this.x+this.xPadding+this.fontSize+3,this.getLineHeight(e+1)),t.fillStyle=this.legendColorBackground,t.fillRect(this.x+this.xPadding,this.getLineHeight(e+1)-this.fontSize/2,this.fontSize,this.fontSize),t.fillStyle=this.legendColors[e].fill,t.fillRect(this.x+this.xPadding,this.getLineHeight(e+1)-this.fontSize/2,this.fontSize,this.fontSize)},this)}}}),e.Scale=e.Element.extend({initialize:function(){this.fit()},buildYLabels:function(){this.yLabels=[];for(var t=v(this.stepValue),i=0;i<=this.steps;i++)this.yLabels.push(y(this.templateString,{value:(this.min+i*this.stepValue).toFixed(t)}));this.yLabelWidth=this.display&&this.showLabels?z(this.ctx,this.font,this.yLabels)+10:0},addXLabel:function(t){this.xLabels.push(t),this.valuesCount++,this.fit()},removeXLabel:function(){this.xLabels.shift(),this.valuesCount--,this.fit()},fit:function(){this.startPoint=this.display?this.fontSize:0,this.endPoint=this.display?this.height-1.5*this.fontSize-5:this.height,this.startPoint+=this.padding,this.endPoint-=this.padding;var t,i=this.endPoint,e=this.endPoint-this.startPoint;for(this.calculateYRange(e),this.buildYLabels(),this.calculateXLabelRotation();e>this.endPoint-this.startPoint;)e=this.endPoint-this.startPoint,t=this.yLabelWidth,this.calculateYRange(e),this.buildYLabels(),t<this.yLabelWidth&&(this.endPoint=i,this.calculateXLabelRotation())},calculateXLabelRotation:function(){this.ctx.font=this.font;var t,i,e=this.ctx.measureText(this.xLabels[0]).width,s=this.ctx.measureText(this.xLabels[this.xLabels.length-1]).width;if(this.xScalePaddingRight=s/2+3,this.xScalePaddingLeft=e/2>this.yLabelWidth?e/2:this.yLabelWidth,this.xLabelRotation=0,this.display){var n,o=z(this.ctx,this.font,this.xLabels);this.xLabelWidth=o;for(var a=Math.floor(this.calculateX(1)-this.calculateX(0))-6;this.xLabelWidth>a&&0===this.xLabelRotation||this.xLabelWidth>a&&this.xLabelRotation<=90&&this.xLabelRotation>0;)n=Math.cos(S(this.xLabelRotation)),t=n*e,i=n*s,t+this.fontSize/2>this.yLabelWidth&&(this.xScalePaddingLeft=t+this.fontSize/2),this.xScalePaddingRight=this.fontSize/2,this.xLabelRotation++,this.xLabelWidth=n*o;this.xLabelRotation>0&&(this.endPoint-=Math.sin(S(this.xLabelRotation))*o+3)}else this.xLabelWidth=0,this.xScalePaddingRight=this.padding,this.xScalePaddingLeft=this.padding},calculateYRange:c,drawingArea:function(){return this.startPoint-this.endPoint},calculateY:function(t){var i=this.drawingArea()/(this.min-this.max);return this.endPoint-i*(t-this.min)},calculateX:function(t){var i=(this.xLabelRotation>0,this.width-(this.xScalePaddingLeft+this.xScalePaddingRight)),e=i/Math.max(this.valuesCount-(this.offsetGridLines?0:1),1),s=e*t+this.xScalePaddingLeft;return this.offsetGridLines&&(s+=e/2),Math.round(s)},update:function(t){s.extend(this,t),this.fit()},draw:function(){var t=this.ctx,i=(this.endPoint-this.startPoint)/this.steps,e=Math.round(this.xScalePaddingLeft);this.display&&(t.fillStyle=this.textColor,t.font=this.font,n(this.yLabels,function(n,o){var a=this.endPoint-i*o,h=Math.round(a),l=this.showHorizontalLines;t.textAlign="right",t.textBaseline="middle",this.showLabels&&t.fillText(n,e-10,a),0!==o||l||(l=!0),l&&t.beginPath(),o>0?(t.lineWidth=this.gridLineWidth,t.strokeStyle=this.gridLineColor):(t.lineWidth=this.lineWidth,t.strokeStyle=this.lineColor),h+=s.aliasPixel(t.lineWidth),l&&(t.moveTo(e,h),t.lineTo(this.width,h),t.stroke(),t.closePath()),t.lineWidth=this.lineWidth,t.strokeStyle=this.lineColor,t.beginPath(),t.moveTo(e-5,h),t.lineTo(e,h),t.stroke(),t.closePath()},this),n(this.xLabels,function(i,e){var s=this.calculateX(e)+x(this.lineWidth),n=this.calculateX(e-(this.offsetGridLines?.5:0))+x(this.lineWidth),o=this.xLabelRotation>0,a=this.showVerticalLines;0!==e||a||(a=!0),a&&t.beginPath(),e>0?(t.lineWidth=this.gridLineWidth,t.strokeStyle=this.gridLineColor):(t.lineWidth=this.lineWidth,t.strokeStyle=this.lineColor),a&&(t.moveTo(n,this.endPoint),t.lineTo(n,this.startPoint-3),t.stroke(),t.closePath()),t.lineWidth=this.lineWidth,t.strokeStyle=this.lineColor,t.beginPath(),t.moveTo(n,this.endPoint),t.lineTo(n,this.endPoint+5),t.stroke(),t.closePath(),t.save(),t.translate(s,o?this.endPoint+12:this.endPoint+8),t.rotate(-1*S(this.xLabelRotation)),t.font=this.font,t.textAlign=o?"right":"center",t.textBaseline=o?"middle":"top",t.fillText(i,0,0),t.restore()},this))}}),e.RadialScale=e.Element.extend({initialize:function(){this.size=m([this.height,this.width]),this.drawingArea=this.display?this.size/2-(this.fontSize/2+this.backdropPaddingY):this.size/2},calculateCenterOffset:function(t){var i=this.drawingArea/(this.max-this.min);return(t-this.min)*i},update:function(){this.lineArc?this.drawingArea=this.display?this.size/2-(this.fontSize/2+this.backdropPaddingY):this.size/2:this.setScaleSize(),this.buildYLabels()},buildYLabels:function(){this.yLabels=[];for(var t=v(this.stepValue),i=0;i<=this.steps;i++)this.yLabels.push(y(this.templateString,{value:(this.min+i*this.stepValue).toFixed(t)}))},getCircumference:function(){return 2*Math.PI/this.valuesCount},setScaleSize:function(){var t,i,e,s,n,o,a,h,l,r,c,u,d=m([this.height/2-this.pointLabelFontSize-5,this.width/2]),p=this.width,g=0;for(this.ctx.font=W(this.pointLabelFontSize,this.pointLabelFontStyle,this.pointLabelFontFamily),i=0;i<this.valuesCount;i++)t=this.getPointPosition(i,d),e=this.ctx.measureText(y(this.templateString,{value:this.labels[i]})).width+5,0===i||i===this.valuesCount/2?(s=e/2,t.x+s>p&&(p=t.x+s,n=i),t.x-s<g&&(g=t.x-s,a=i)):i<this.valuesCount/2?t.x+e>p&&(p=t.x+e,n=i):i>this.valuesCount/2&&t.x-e<g&&(g=t.x-e,a=i);l=g,r=Math.ceil(p-this.width),o=this.getIndexAngle(n),h=this.getIndexAngle(a),c=r/Math.sin(o+Math.PI/2),u=l/Math.sin(h+Math.PI/2),c=f(c)?c:0,u=f(u)?u:0,this.drawingArea=d-(u+c)/2,this.setCenterPoint(u,c)},setCenterPoint:function(t,i){var e=this.width-i-this.drawingArea,s=t+this.drawingArea;this.xCenter=(s+e)/2,this.yCenter=this.height/2},getIndexAngle:function(t){var i=2*Math.PI/this.valuesCount;return t*i-Math.PI/2},getPointPosition:function(t,i){var e=this.getIndexAngle(t);return{x:Math.cos(e)*i+this.xCenter,y:Math.sin(e)*i+this.yCenter}},draw:function(){if(this.display){var t=this.ctx;if(n(this.yLabels,function(i,e){if(e>0){var s,n=e*(this.drawingArea/this.steps),o=this.yCenter-n;if(this.lineWidth>0)if(t.strokeStyle=this.lineColor,t.lineWidth=this.lineWidth,this.lineArc)t.beginPath(),t.arc(this.xCenter,this.yCenter,n,0,2*Math.PI),t.closePath(),t.stroke();else{t.beginPath();for(var a=0;a<this.valuesCount;a++)s=this.getPointPosition(a,this.calculateCenterOffset(this.min+e*this.stepValue)),0===a?t.moveTo(s.x,s.y):t.lineTo(s.x,s.y);t.closePath(),t.stroke()}if(this.showLabels){if(t.font=W(this.fontSize,this.fontStyle,this.fontFamily),this.showLabelBackdrop){var h=t.measureText(i).width;t.fillStyle=this.backdropColor,t.fillRect(this.xCenter-h/2-this.backdropPaddingX,o-this.fontSize/2-this.backdropPaddingY,h+2*this.backdropPaddingX,this.fontSize+2*this.backdropPaddingY)}t.textAlign="center",t.textBaseline="middle",t.fillStyle=this.fontColor,t.fillText(i,this.xCenter,o)}}},this),!this.lineArc){t.lineWidth=this.angleLineWidth,t.strokeStyle=this.angleLineColor;for(var i=this.valuesCount-1;i>=0;i--){var e=null,s=null;if(this.angleLineWidth>0&&(e=this.calculateCenterOffset(this.max),s=this.getPointPosition(i,e),t.beginPath(),t.moveTo(this.xCenter,this.yCenter),t.lineTo(s.x,s.y),t.stroke(),t.closePath()),this.backgroundColors&&this.backgroundColors.length==this.valuesCount){null==e&&(e=this.calculateCenterOffset(this.max)),null==s&&(s=this.getPointPosition(i,e));var o=this.getPointPosition(0===i?this.valuesCount-1:i-1,e),a=this.getPointPosition(i===this.valuesCount-1?0:i+1,e),h={x:(o.x+s.x)/2,y:(o.y+s.y)/2},l={x:(s.x+a.x)/2,y:(s.y+a.y)/2};t.beginPath(),t.moveTo(this.xCenter,this.yCenter),t.lineTo(h.x,h.y),t.lineTo(s.x,s.y),t.lineTo(l.x,l.y),t.fillStyle=this.backgroundColors[i],t.fill(),t.closePath()}var r=this.getPointPosition(i,this.calculateCenterOffset(this.max)+5);t.font=W(this.pointLabelFontSize,this.pointLabelFontStyle,this.pointLabelFontFamily),t.fillStyle=this.pointLabelFontColor;var c=this.labels.length,u=this.labels.length/2,d=u/2,p=d>i||i>c-d,f=i===d||i===c-d;0===i?t.textAlign="center":i===u?t.textAlign="center":u>i?t.textAlign="left":t.textAlign="right",f?t.textBaseline="middle":p?t.textBaseline="bottom":t.textBaseline="top",t.fillText(this.labels[i],r.x,r.y)}}}}}),e.animationService={frameDuration:17,animations:[],dropFrames:0,addAnimation:function(t,i){for(var e=0;e<this.animations.length;++e)if(this.animations[e].chartInstance===t)return void(this.animations[e].animationObject=i);this.animations.push({chartInstance:t,animationObject:i}),1==this.animations.length&&s.requestAnimFrame.call(window,this.digestWrapper)},cancelAnimation:function(t){var i=s.findNextWhere(this.animations,function(i){return i.chartInstance===t});i&&this.animations.splice(i,1)},digestWrapper:function(){e.animationService.startDigest.call(e.animationService)},startDigest:function(){var t=Date.now(),i=0;this.dropFrames>1&&(i=Math.floor(this.dropFrames),this.dropFrames-=i);for(var e=0;e<this.animations.length;e++)null===this.animations[e].animationObject.currentStep&&(this.animations[e].animationObject.currentStep=0),this.animations[e].animationObject.currentStep+=1+i,this.animations[e].animationObject.currentStep>this.animations[e].animationObject.numSteps&&(this.animations[e].animationObject.currentStep=this.animations[e].animationObject.numSteps),this.animations[e].animationObject.render(this.animations[e].chartInstance,this.animations[e].animationObject),this.animations[e].animationObject.currentStep==this.animations[e].animationObject.numSteps&&(this.animations[e].animationObject.onAnimationComplete.call(this.animations[e].chartInstance),this.animations.splice(e,1),e--);var n=Date.now(),o=n-t-this.frameDuration,a=o/this.frameDuration;a>1&&(this.dropFrames+=a),this.animations.length>0&&s.requestAnimFrame.call(window,this.digestWrapper)}},s.addEvent(window,"resize",function(){var t;return function(){clearTimeout(t),t=setTimeout(function(){n(e.instances,function(t){t.options.responsive&&t.resize(t.render,!0)})},50)}}()),p?define("Chart",[],function(){return e}):"object"==typeof module&&module.exports&&(module.exports=e),t.Chart=e,e.noConflict=function(){return t.Chart=i,e}}).call(this),function(){"use strict";var t=this,i=t.Chart,e=i.helpers,s={scaleBeginAtZero:!0,scaleShowGridLines:!0,scaleGridLineColor:"rgba(0,0,0,.05)",scaleGridLineWidth:1,scaleShowHorizontalLines:!0,scaleShowVerticalLines:!0,barShowStroke:!0,barStrokeWidth:2,barValueSpacing:5,barDatasetSpacing:1,legendTemplate:'<ul class="<%=name.toLowerCase()%>-legend"><% for (var i=0; i<datasets.length; i++){%><li><span style="background-color:<%=datasets[i].fillColor%>"><%if(datasets[i].label){%><%=datasets[i].label%><%}%></span></li><%}%></ul>'};i.Type.extend({name:"Bar",defaults:s,initialize:function(t){var s=this.options;this.ScaleClass=i.Scale.extend({offsetGridLines:!0,calculateBarX:function(t,i,e){var n=this.calculateBaseWidth(),o=this.calculateX(e)-n/2,a=this.calculateBarWidth(t);return o+a*i+i*s.barDatasetSpacing+a/2},calculateBaseWidth:function(){return this.calculateX(1)-this.calculateX(0)-2*s.barValueSpacing;
},calculateBarWidth:function(t){var i=this.calculateBaseWidth()-(t-1)*s.barDatasetSpacing;return i/t}}),this.datasets=[],this.options.showTooltips&&e.bindEvents(this,this.options.tooltipEvents,function(t){var i="mouseout"!==t.type?this.getBarsAtEvent(t):[];this.eachBars(function(t){t.restore(["fillColor","strokeColor"])}),e.each(i,function(t){t.fillColor=t.highlightFill,t.strokeColor=t.highlightStroke}),this.showTooltip(i)}),this.BarClass=i.Rectangle.extend({strokeWidth:this.options.barStrokeWidth,showStroke:this.options.barShowStroke,ctx:this.chart.ctx}),e.each(t.datasets,function(i,s){var n={label:i.label||null,fillColor:i.fillColor,strokeColor:i.strokeColor,bars:[]};this.datasets.push(n),e.each(i.data,function(e,s){n.bars.push(new this.BarClass({value:e,label:t.labels[s],datasetLabel:i.label,strokeColor:"string"!=typeof i.strokeColor?i.strokeColor[s]:i.strokeColor,fillColor:"string"!=typeof i.fillColor?i.fillColor[s]:i.fillColor,highlightFill:i.highlightFill&&"string"!=typeof i.highlightFill?i.highlightFill[s]||i.highlightFill:"string"!=typeof i.fillColor?i.fillColor[s]:i.fillColor,highlightStroke:i.highlightStroke&&"string"!=typeof i.highlightStroke?i.highlightStroke[s]||i.highlightStroke:"string"!=typeof i.strokeColor?i.strokeColor[s]:i.strokeColor}))},this)},this),this.buildScale(t.labels),this.BarClass.prototype.base=this.scale.endPoint,this.eachBars(function(t,i,s){e.extend(t,{width:this.scale.calculateBarWidth(this.datasets.length),x:this.scale.calculateBarX(this.datasets.length,s,i),y:this.scale.endPoint}),t.save()},this),this.render()},update:function(){this.scale.update(),e.each(this.activeElements,function(t){t.restore(["fillColor","strokeColor"])}),this.eachBars(function(t){t.save()}),this.render()},eachBars:function(t){e.each(this.datasets,function(i,s){e.each(i.bars,t,this,s)},this)},getBarsAtEvent:function(t){for(var i,s=[],n=e.getRelativePosition(t),o=function(t){s.push(t.bars[i])},a=0;a<this.datasets.length;a++)for(i=0;i<this.datasets[a].bars.length;i++)if(this.datasets[a].bars[i].inRange(n.x,n.y))return e.each(this.datasets,o),s;return s},buildScale:function(t){var i=this,s=function(){var t=[];return i.eachBars(function(i){t.push(i.value)}),t},n={templateString:this.options.scaleLabel,height:this.chart.height,width:this.chart.width,ctx:this.chart.ctx,textColor:this.options.scaleFontColor,fontSize:this.options.scaleFontSize,fontStyle:this.options.scaleFontStyle,fontFamily:this.options.scaleFontFamily,valuesCount:t.length,beginAtZero:this.options.scaleBeginAtZero,integersOnly:this.options.scaleIntegersOnly,calculateYRange:function(t){var i=e.calculateScaleRange(s(),t,this.fontSize,this.beginAtZero,this.integersOnly);e.extend(this,i)},xLabels:t,font:e.fontString(this.options.scaleFontSize,this.options.scaleFontStyle,this.options.scaleFontFamily),lineWidth:this.options.scaleLineWidth,lineColor:this.options.scaleLineColor,showHorizontalLines:this.options.scaleShowHorizontalLines,showVerticalLines:this.options.scaleShowVerticalLines,gridLineWidth:this.options.scaleShowGridLines?this.options.scaleGridLineWidth:0,gridLineColor:this.options.scaleShowGridLines?this.options.scaleGridLineColor:"rgba(0,0,0,0)",padding:this.options.showScale?0:this.options.barShowStroke?this.options.barStrokeWidth:0,showLabels:this.options.scaleShowLabels,display:this.options.showScale};this.options.scaleOverride&&e.extend(n,{calculateYRange:e.noop,steps:this.options.scaleSteps,stepValue:this.options.scaleStepWidth,min:this.options.scaleStartValue,max:this.options.scaleStartValue+this.options.scaleSteps*this.options.scaleStepWidth}),this.scale=new this.ScaleClass(n)},addData:function(t,i){e.each(t,function(t,e){this.datasets[e].bars.push(new this.BarClass({value:t,label:i,datasetLabel:this.datasets[e].label,x:this.scale.calculateBarX(this.datasets.length,e,this.scale.valuesCount+1),y:this.scale.endPoint,width:this.scale.calculateBarWidth(this.datasets.length),base:this.scale.endPoint,strokeColor:this.datasets[e].strokeColor,fillColor:this.datasets[e].fillColor}))},this),this.scale.addXLabel(i),this.update()},removeData:function(){this.scale.removeXLabel(),e.each(this.datasets,function(t){t.bars.shift()},this),this.update()},reflow:function(){e.extend(this.BarClass.prototype,{y:this.scale.endPoint,base:this.scale.endPoint});var t=e.extend({height:this.chart.height,width:this.chart.width});this.scale.update(t)},draw:function(t){var i=t||1;this.clear(),this.chart.ctx,this.scale.draw(i),e.each(this.datasets,function(t,s){e.each(t.bars,function(t,e){t.hasValue()&&(t.base=this.scale.endPoint,t.transition({x:this.scale.calculateBarX(this.datasets.length,s,e),y:this.scale.calculateY(t.value),width:this.scale.calculateBarWidth(this.datasets.length)},i).draw())},this)},this)}})}.call(this),function(){"use strict";var t=this,i=t.Chart,e=i.helpers,s={segmentShowStroke:!0,segmentStrokeColor:"#fff",segmentStrokeWidth:2,percentageInnerCutout:50,animationSteps:100,animationEasing:"easeOutBounce",animateRotate:!0,animateScale:!1,legendTemplate:'<ul class="<%=name.toLowerCase()%>-legend"><% for (var i=0; i<segments.length; i++){%><li><span style="background-color:<%=segments[i].fillColor%>"><%if(segments[i].label){%><%=segments[i].label%><%}%></span></li><%}%></ul>'};i.Type.extend({name:"Doughnut",defaults:s,initialize:function(t){this.segments=[],this.outerRadius=(e.min([this.chart.width,this.chart.height])-this.options.segmentStrokeWidth/2)/2,this.SegmentArc=i.Arc.extend({ctx:this.chart.ctx,x:this.chart.width/2,y:this.chart.height/2}),this.options.showTooltips&&e.bindEvents(this,this.options.tooltipEvents,function(t){var i="mouseout"!==t.type?this.getSegmentsAtEvent(t):[];e.each(this.segments,function(t){t.restore(["fillColor"])}),e.each(i,function(t){t.fillColor=t.highlightColor}),this.showTooltip(i)}),this.calculateTotal(t),e.each(t,function(i,e){i.color||(i.color="hsl("+360*e/t.length+", 100%, 50%)"),this.addData(i,e,!0)},this),this.render()},getSegmentsAtEvent:function(t){var i=[],s=e.getRelativePosition(t);return e.each(this.segments,function(t){t.inRange(s.x,s.y)&&i.push(t)},this),i},addData:function(t,e,s){var n=void 0!==e?e:this.segments.length;"undefined"==typeof t.color&&(t.color=i.defaults.global.segmentColorDefault[n%i.defaults.global.segmentColorDefault.length],t.highlight=i.defaults.global.segmentHighlightColorDefaults[n%i.defaults.global.segmentHighlightColorDefaults.length]),this.segments.splice(n,0,new this.SegmentArc({value:t.value,outerRadius:this.options.animateScale?0:this.outerRadius,innerRadius:this.options.animateScale?0:this.outerRadius/100*this.options.percentageInnerCutout,fillColor:t.color,highlightColor:t.highlight||t.color,showStroke:this.options.segmentShowStroke,strokeWidth:this.options.segmentStrokeWidth,strokeColor:this.options.segmentStrokeColor,startAngle:1.5*Math.PI,circumference:this.options.animateRotate?0:this.calculateCircumference(t.value),label:t.label})),s||(this.reflow(),this.update())},calculateCircumference:function(t){return this.total>0?2*Math.PI*(t/this.total):0},calculateTotal:function(t){this.total=0,e.each(t,function(t){this.total+=Math.abs(t.value)},this)},update:function(){this.calculateTotal(this.segments),e.each(this.activeElements,function(t){t.restore(["fillColor"])}),e.each(this.segments,function(t){t.save()}),this.render()},removeData:function(t){var i=e.isNumber(t)?t:this.segments.length-1;this.segments.splice(i,1),this.reflow(),this.update()},reflow:function(){e.extend(this.SegmentArc.prototype,{x:this.chart.width/2,y:this.chart.height/2}),this.outerRadius=(e.min([this.chart.width,this.chart.height])-this.options.segmentStrokeWidth/2)/2,e.each(this.segments,function(t){t.update({outerRadius:this.outerRadius,innerRadius:this.outerRadius/100*this.options.percentageInnerCutout})},this)},draw:function(t){var i=t?t:1;this.clear(),e.each(this.segments,function(t,e){t.transition({circumference:this.calculateCircumference(t.value),outerRadius:this.outerRadius,innerRadius:this.outerRadius/100*this.options.percentageInnerCutout},i),t.endAngle=t.startAngle+t.circumference,t.draw(),0===e&&(t.startAngle=1.5*Math.PI),e<this.segments.length-1&&(this.segments[e+1].startAngle=t.endAngle)},this)}}),i.types.Doughnut.extend({name:"Pie",defaults:e.merge(s,{percentageInnerCutout:0})})}.call(this),function(){"use strict";var t=this,i=t.Chart,e=i.helpers,s={scaleShowGridLines:!0,scaleGridLineColor:"rgba(0,0,0,.05)",scaleGridLineWidth:1,scaleShowHorizontalLines:!0,scaleShowVerticalLines:!0,bezierCurve:!0,bezierCurveTension:.4,pointDot:!0,pointDotRadius:4,pointDotStrokeWidth:1,pointHitDetectionRadius:20,datasetStroke:!0,datasetStrokeWidth:2,datasetFill:!0,legendTemplate:'<ul class="<%=name.toLowerCase()%>-legend"><% for (var i=0; i<datasets.length; i++){%><li><span style="background-color:<%=datasets[i].strokeColor%>"><%if(datasets[i].label){%><%=datasets[i].label%><%}%></span></li><%}%></ul>',offsetGridLines:!1};i.Type.extend({name:"Line",defaults:s,initialize:function(t){this.PointClass=i.Point.extend({offsetGridLines:this.options.offsetGridLines,strokeWidth:this.options.pointDotStrokeWidth,radius:this.options.pointDotRadius,display:this.options.pointDot,hitDetectionRadius:this.options.pointHitDetectionRadius,ctx:this.chart.ctx,inRange:function(t){return Math.pow(t-this.x,2)<Math.pow(this.radius+this.hitDetectionRadius,2)}}),this.datasets=[],this.options.showTooltips&&e.bindEvents(this,this.options.tooltipEvents,function(t){var i="mouseout"!==t.type?this.getPointsAtEvent(t):[];this.eachPoints(function(t){t.restore(["fillColor","strokeColor"])}),e.each(i,function(t){t.fillColor=t.highlightFill,t.strokeColor=t.highlightStroke}),this.showTooltip(i)}),e.each(t.datasets,function(i){var s={label:i.label||null,fillColor:i.fillColor,strokeColor:i.strokeColor,pointColor:i.pointColor,pointStrokeColor:i.pointStrokeColor,points:[]};this.datasets.push(s),e.each(i.data,function(e,n){s.points.push(new this.PointClass({value:e,label:t.labels[n],datasetLabel:i.label,strokeColor:i.pointStrokeColor,fillColor:i.pointColor,highlightFill:i.pointHighlightFill||i.pointColor,highlightStroke:i.pointHighlightStroke||i.pointStrokeColor}))},this),this.buildScale(t.labels),this.eachPoints(function(t,i){e.extend(t,{x:this.scale.calculateX(i),y:this.scale.endPoint}),t.save()},this)},this),this.render()},update:function(){this.scale.update(),e.each(this.activeElements,function(t){t.restore(["fillColor","strokeColor"])}),this.eachPoints(function(t){t.save()}),this.render()},eachPoints:function(t){e.each(this.datasets,function(i){e.each(i.points,t,this)},this)},getPointsAtEvent:function(t){var i=[],s=e.getRelativePosition(t);return e.each(this.datasets,function(t){e.each(t.points,function(t){t.inRange(s.x,s.y)&&i.push(t)})},this),i},buildScale:function(t){var s=this,n=function(){var t=[];return s.eachPoints(function(i){t.push(i.value)}),t},o={templateString:this.options.scaleLabel,height:this.chart.height,width:this.chart.width,ctx:this.chart.ctx,textColor:this.options.scaleFontColor,offsetGridLines:this.options.offsetGridLines,fontSize:this.options.scaleFontSize,fontStyle:this.options.scaleFontStyle,fontFamily:this.options.scaleFontFamily,valuesCount:t.length,beginAtZero:this.options.scaleBeginAtZero,integersOnly:this.options.scaleIntegersOnly,calculateYRange:function(t){var i=e.calculateScaleRange(n(),t,this.fontSize,this.beginAtZero,this.integersOnly);e.extend(this,i)},xLabels:t,font:e.fontString(this.options.scaleFontSize,this.options.scaleFontStyle,this.options.scaleFontFamily),lineWidth:this.options.scaleLineWidth,lineColor:this.options.scaleLineColor,showHorizontalLines:this.options.scaleShowHorizontalLines,showVerticalLines:this.options.scaleShowVerticalLines,gridLineWidth:this.options.scaleShowGridLines?this.options.scaleGridLineWidth:0,gridLineColor:this.options.scaleShowGridLines?this.options.scaleGridLineColor:"rgba(0,0,0,0)",padding:this.options.showScale?0:this.options.pointDotRadius+this.options.pointDotStrokeWidth,showLabels:this.options.scaleShowLabels,display:this.options.showScale};this.options.scaleOverride&&e.extend(o,{calculateYRange:e.noop,steps:this.options.scaleSteps,stepValue:this.options.scaleStepWidth,min:this.options.scaleStartValue,max:this.options.scaleStartValue+this.options.scaleSteps*this.options.scaleStepWidth}),this.scale=new i.Scale(o)},addData:function(t,i){e.each(t,function(t,e){this.datasets[e].points.push(new this.PointClass({value:t,label:i,datasetLabel:this.datasets[e].label,x:this.scale.calculateX(this.scale.valuesCount+1),y:this.scale.endPoint,strokeColor:this.datasets[e].pointStrokeColor,fillColor:this.datasets[e].pointColor}))},this),this.scale.addXLabel(i),this.update()},removeData:function(){this.scale.removeXLabel(),e.each(this.datasets,function(t){t.points.shift()},this),this.update()},reflow:function(){var t=e.extend({height:this.chart.height,width:this.chart.width});this.scale.update(t)},draw:function(t){var i=t||1;this.clear();var s=this.chart.ctx,n=function(t){return null!==t.value},o=function(t,i,s){return e.findNextWhere(i,n,s)||t},a=function(t,i,s){return e.findPreviousWhere(i,n,s)||t};this.scale&&(this.scale.draw(i),e.each(this.datasets,function(t){var h=e.where(t.points,n);e.each(t.points,function(t,e){t.hasValue()&&t.transition({y:this.scale.calculateY(t.value),x:this.scale.calculateX(e)},i)},this),this.options.bezierCurve&&e.each(h,function(t,i){var s=i>0&&i<h.length-1?this.options.bezierCurveTension:0;t.controlPoints=e.splineCurve(a(t,h,i),t,o(t,h,i),s),t.controlPoints.outer.y>this.scale.endPoint?t.controlPoints.outer.y=this.scale.endPoint:t.controlPoints.outer.y<this.scale.startPoint&&(t.controlPoints.outer.y=this.scale.startPoint),t.controlPoints.inner.y>this.scale.endPoint?t.controlPoints.inner.y=this.scale.endPoint:t.controlPoints.inner.y<this.scale.startPoint&&(t.controlPoints.inner.y=this.scale.startPoint)},this),s.lineWidth=this.options.datasetStrokeWidth,s.strokeStyle=t.strokeColor,s.beginPath(),e.each(h,function(t,i){if(0===i)s.moveTo(t.x,t.y);else if(this.options.bezierCurve){var e=a(t,h,i);s.bezierCurveTo(e.controlPoints.outer.x,e.controlPoints.outer.y,t.controlPoints.inner.x,t.controlPoints.inner.y,t.x,t.y)}else s.lineTo(t.x,t.y)},this),this.options.datasetStroke&&s.stroke(),this.options.datasetFill&&h.length>0&&(s.lineTo(h[h.length-1].x,this.scale.endPoint),s.lineTo(h[0].x,this.scale.endPoint),s.fillStyle=t.fillColor,s.closePath(),s.fill()),e.each(h,function(t){t.draw()})},this))}})}.call(this),function(){"use strict";var t=this,i=t.Chart,e=i.helpers,s={scaleShowLabelBackdrop:!0,scaleBackdropColor:"rgba(255,255,255,0.75)",scaleBeginAtZero:!0,scaleBackdropPaddingY:2,scaleBackdropPaddingX:2,scaleShowLine:!0,segmentShowStroke:!0,segmentStrokeColor:"#fff",segmentStrokeWidth:2,animationSteps:100,animationEasing:"easeOutBounce",animateRotate:!0,animateScale:!1,legendTemplate:'<ul class="<%=name.toLowerCase()%>-legend"><% for (var i=0; i<segments.length; i++){%><li><span style="background-color:<%=segments[i].fillColor%>"><%if(segments[i].label){%><%=segments[i].label%><%}%></span></li><%}%></ul>'};i.Type.extend({name:"PolarArea",defaults:s,initialize:function(t){this.segments=[],this.SegmentArc=i.Arc.extend({showStroke:this.options.segmentShowStroke,strokeWidth:this.options.segmentStrokeWidth,strokeColor:this.options.segmentStrokeColor,ctx:this.chart.ctx,innerRadius:0,x:this.chart.width/2,y:this.chart.height/2}),this.scale=new i.RadialScale({display:this.options.showScale,fontStyle:this.options.scaleFontStyle,fontSize:this.options.scaleFontSize,fontFamily:this.options.scaleFontFamily,fontColor:this.options.scaleFontColor,showLabels:this.options.scaleShowLabels,showLabelBackdrop:this.options.scaleShowLabelBackdrop,backdropColor:this.options.scaleBackdropColor,backdropPaddingY:this.options.scaleBackdropPaddingY,backdropPaddingX:this.options.scaleBackdropPaddingX,lineWidth:this.options.scaleShowLine?this.options.scaleLineWidth:0,lineColor:this.options.scaleLineColor,lineArc:!0,width:this.chart.width,height:this.chart.height,xCenter:this.chart.width/2,yCenter:this.chart.height/2,ctx:this.chart.ctx,templateString:this.options.scaleLabel,valuesCount:t.length}),this.updateScaleRange(t),this.scale.update(),e.each(t,function(t,i){this.addData(t,i,!0)},this),this.options.showTooltips&&e.bindEvents(this,this.options.tooltipEvents,function(t){var i="mouseout"!==t.type?this.getSegmentsAtEvent(t):[];e.each(this.segments,function(t){t.restore(["fillColor"])}),e.each(i,function(t){t.fillColor=t.highlightColor}),this.showTooltip(i)}),this.render()},getSegmentsAtEvent:function(t){var i=[],s=e.getRelativePosition(t);return e.each(this.segments,function(t){t.inRange(s.x,s.y)&&i.push(t)},this),i},addData:function(t,i,e){var s=i||this.segments.length;this.segments.splice(s,0,new this.SegmentArc({fillColor:t.color,highlightColor:t.highlight||t.color,label:t.label,value:t.value,outerRadius:this.options.animateScale?0:this.scale.calculateCenterOffset(t.value),circumference:this.options.animateRotate?0:this.scale.getCircumference(),startAngle:1.5*Math.PI})),e||(this.reflow(),this.update())},removeData:function(t){var i=e.isNumber(t)?t:this.segments.length-1;this.segments.splice(i,1),this.reflow(),this.update()},calculateTotal:function(t){this.total=0,e.each(t,function(t){this.total+=t.value},this),this.scale.valuesCount=this.segments.length},updateScaleRange:function(t){var i=[];e.each(t,function(t){i.push(t.value)});var s=this.options.scaleOverride?{steps:this.options.scaleSteps,stepValue:this.options.scaleStepWidth,min:this.options.scaleStartValue,max:this.options.scaleStartValue+this.options.scaleSteps*this.options.scaleStepWidth}:e.calculateScaleRange(i,e.min([this.chart.width,this.chart.height])/2,this.options.scaleFontSize,this.options.scaleBeginAtZero,this.options.scaleIntegersOnly);e.extend(this.scale,s,{size:e.min([this.chart.width,this.chart.height]),xCenter:this.chart.width/2,yCenter:this.chart.height/2})},update:function(){this.calculateTotal(this.segments),e.each(this.segments,function(t){t.save()}),this.reflow(),this.render()},reflow:function(){e.extend(this.SegmentArc.prototype,{x:this.chart.width/2,y:this.chart.height/2}),this.updateScaleRange(this.segments),this.scale.update(),e.extend(this.scale,{xCenter:this.chart.width/2,yCenter:this.chart.height/2}),e.each(this.segments,function(t){t.update({outerRadius:this.scale.calculateCenterOffset(t.value)})},this)},draw:function(t){var i=t||1;this.clear(),e.each(this.segments,function(t,e){t.transition({circumference:this.scale.getCircumference(),outerRadius:this.scale.calculateCenterOffset(t.value)},i),t.endAngle=t.startAngle+t.circumference,0===e&&(t.startAngle=1.5*Math.PI),e<this.segments.length-1&&(this.segments[e+1].startAngle=t.endAngle),t.draw()},this),this.scale.draw()}})}.call(this),function(){"use strict";var t=this,i=t.Chart,e=i.helpers;i.Type.extend({name:"Radar",defaults:{scaleShowLine:!0,angleShowLineOut:!0,scaleShowLabels:!1,scaleBeginAtZero:!0,angleLineColor:"rgba(0,0,0,.1)",angleLineWidth:1,pointLabelFontFamily:"'Arial'",pointLabelFontStyle:"normal",pointLabelFontSize:10,pointLabelFontColor:"#666",pointDot:!0,pointDotRadius:3,pointDotStrokeWidth:1,pointHitDetectionRadius:20,datasetStroke:!0,datasetStrokeWidth:2,datasetFill:!0,legendTemplate:'<ul class="<%=name.toLowerCase()%>-legend"><% for (var i=0; i<datasets.length; i++){%><li><span style="background-color:<%=datasets[i].strokeColor%>"><%if(datasets[i].label){%><%=datasets[i].label%><%}%></span></li><%}%></ul>'},initialize:function(t){this.PointClass=i.Point.extend({strokeWidth:this.options.pointDotStrokeWidth,radius:this.options.pointDotRadius,display:this.options.pointDot,hitDetectionRadius:this.options.pointHitDetectionRadius,ctx:this.chart.ctx}),this.datasets=[],this.buildScale(t),this.options.showTooltips&&e.bindEvents(this,this.options.tooltipEvents,function(t){var i="mouseout"!==t.type?this.getPointsAtEvent(t):[];this.eachPoints(function(t){t.restore(["fillColor","strokeColor"])}),e.each(i,function(t){t.fillColor=t.highlightFill,t.strokeColor=t.highlightStroke}),this.showTooltip(i)}),e.each(t.datasets,function(i){var s={label:i.label||null,fillColor:i.fillColor,strokeColor:i.strokeColor,pointColor:i.pointColor,pointStrokeColor:i.pointStrokeColor,points:[]};this.datasets.push(s),e.each(i.data,function(e,n){var o;this.scale.animation||(o=this.scale.getPointPosition(n,this.scale.calculateCenterOffset(e))),s.points.push(new this.PointClass({value:e,label:t.labels[n],datasetLabel:i.label,x:this.options.animation?this.scale.xCenter:o.x,y:this.options.animation?this.scale.yCenter:o.y,strokeColor:i.pointStrokeColor,fillColor:i.pointColor,highlightFill:i.pointHighlightFill||i.pointColor,highlightStroke:i.pointHighlightStroke||i.pointStrokeColor}))},this)},this),this.render()},eachPoints:function(t){e.each(this.datasets,function(i){e.each(i.points,t,this)},this)},getPointsAtEvent:function(t){var i=e.getRelativePosition(t),s=e.getAngleFromPoint({x:this.scale.xCenter,y:this.scale.yCenter},i),n=2*Math.PI/this.scale.valuesCount,o=Math.round((s.angle-1.5*Math.PI)/n),a=[];return(o>=this.scale.valuesCount||0>o)&&(o=0),s.distance<=this.scale.drawingArea&&e.each(this.datasets,function(t){a.push(t.points[o])}),a},buildScale:function(t){this.scale=new i.RadialScale({display:this.options.showScale,fontStyle:this.options.scaleFontStyle,fontSize:this.options.scaleFontSize,fontFamily:this.options.scaleFontFamily,fontColor:this.options.scaleFontColor,showLabels:this.options.scaleShowLabels,showLabelBackdrop:this.options.scaleShowLabelBackdrop,backdropColor:this.options.scaleBackdropColor,backgroundColors:this.options.scaleBackgroundColors,backdropPaddingY:this.options.scaleBackdropPaddingY,backdropPaddingX:this.options.scaleBackdropPaddingX,lineWidth:this.options.scaleShowLine?this.options.scaleLineWidth:0,lineColor:this.options.scaleLineColor,angleLineColor:this.options.angleLineColor,angleLineWidth:this.options.angleShowLineOut?this.options.angleLineWidth:0,pointLabelFontColor:this.options.pointLabelFontColor,pointLabelFontSize:this.options.pointLabelFontSize,pointLabelFontFamily:this.options.pointLabelFontFamily,pointLabelFontStyle:this.options.pointLabelFontStyle,height:this.chart.height,width:this.chart.width,xCenter:this.chart.width/2,yCenter:this.chart.height/2,ctx:this.chart.ctx,templateString:this.options.scaleLabel,labels:t.labels,valuesCount:t.datasets[0].data.length}),this.scale.setScaleSize(),this.updateScaleRange(t.datasets),this.scale.buildYLabels()},updateScaleRange:function(t){var i=function(){var i=[];return e.each(t,function(t){t.data?i=i.concat(t.data):e.each(t.points,function(t){i.push(t.value)})}),i}(),s=this.options.scaleOverride?{steps:this.options.scaleSteps,stepValue:this.options.scaleStepWidth,min:this.options.scaleStartValue,max:this.options.scaleStartValue+this.options.scaleSteps*this.options.scaleStepWidth}:e.calculateScaleRange(i,e.min([this.chart.width,this.chart.height])/2,this.options.scaleFontSize,this.options.scaleBeginAtZero,this.options.scaleIntegersOnly);e.extend(this.scale,s)},addData:function(t,i){this.scale.valuesCount++,e.each(t,function(t,e){var s=this.scale.getPointPosition(this.scale.valuesCount,this.scale.calculateCenterOffset(t));this.datasets[e].points.push(new this.PointClass({value:t,label:i,datasetLabel:this.datasets[e].label,x:s.x,y:s.y,strokeColor:this.datasets[e].pointStrokeColor,fillColor:this.datasets[e].pointColor}))},this),this.scale.labels.push(i),this.reflow(),this.update()},removeData:function(){this.scale.valuesCount--,this.scale.labels.shift(),e.each(this.datasets,function(t){t.points.shift()},this),this.reflow(),this.update()},update:function(){this.eachPoints(function(t){t.save()}),this.reflow(),this.render()},reflow:function(){e.extend(this.scale,{width:this.chart.width,height:this.chart.height,size:e.min([this.chart.width,this.chart.height]),xCenter:this.chart.width/2,yCenter:this.chart.height/2}),this.updateScaleRange(this.datasets),this.scale.setScaleSize(),this.scale.buildYLabels()},draw:function(t){var i=t||1,s=this.chart.ctx;this.clear(),this.scale.draw(),e.each(this.datasets,function(t){e.each(t.points,function(t,e){t.hasValue()&&t.transition(this.scale.getPointPosition(e,this.scale.calculateCenterOffset(t.value)),i)},this),s.lineWidth=this.options.datasetStrokeWidth,s.strokeStyle=t.strokeColor,s.beginPath(),e.each(t.points,function(t,i){0===i?s.moveTo(t.x,t.y):s.lineTo(t.x,t.y)},this),s.closePath(),s.stroke(),s.fillStyle=t.fillColor,this.options.datasetFill&&s.fill(),e.each(t.points,function(t){t.hasValue()&&t.draw()})},this)}})}.call(this);
!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.Handlebars=t():e.Handlebars=t()}(this,function(){return function(e){function t(n){if(r[n])return r[n].exports;var a=r[n]={exports:{},id:n,loaded:!1};return e[n].call(a.exports,a,a.exports,t),a.loaded=!0,a.exports}var r={};return t.m=e,t.c=r,t.p="",t(0)}([function(e,t,r){"use strict";function n(){var e=new s.HandlebarsEnvironment;return p.extend(e,s),e.SafeString=u["default"],e.Exception=f["default"],e.Utils=p,e.escapeExpression=p.escapeExpression,e.VM=v,e.template=function(t){return v.template(t,e)},e}var a=r(1)["default"],o=r(2)["default"];t.__esModule=!0;var i=r(3),s=a(i),l=r(17),u=o(l),c=r(5),f=o(c),d=r(4),p=a(d),h=r(18),v=a(h),m=r(19),g=o(m),x=n();x.create=n,g["default"](x),x["default"]=x,t["default"]=x,e.exports=t["default"]},function(e,t){"use strict";t["default"]=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t["default"]=e,t},t.__esModule=!0},function(e,t){"use strict";t["default"]=function(e){return e&&e.__esModule?e:{"default":e}},t.__esModule=!0},function(e,t,r){"use strict";function n(e,t,r){this.helpers=e||{},this.partials=t||{},this.decorators=r||{},l.registerDefaultHelpers(this),u.registerDefaultDecorators(this)}var a=r(2)["default"];t.__esModule=!0,t.HandlebarsEnvironment=n;var o=r(4),i=r(5),s=a(i),l=r(6),u=r(14),c=r(16),f=a(c),d="4.0.5";t.VERSION=d;var p=7;t.COMPILER_REVISION=p;var h={1:"<= 1.0.rc.2",2:"== 1.0.0-rc.3",3:"== 1.0.0-rc.4",4:"== 1.x.x",5:"== 2.0.0-alpha.x",6:">= 2.0.0-beta.1",7:">= 4.0.0"};t.REVISION_CHANGES=h;var v="[object Object]";n.prototype={constructor:n,logger:f["default"],log:f["default"].log,registerHelper:function(e,t){if(o.toString.call(e)===v){if(t)throw new s["default"]("Arg not supported with multiple helpers");o.extend(this.helpers,e)}else this.helpers[e]=t},unregisterHelper:function(e){delete this.helpers[e]},registerPartial:function(e,t){if(o.toString.call(e)===v)o.extend(this.partials,e);else{if("undefined"==typeof t)throw new s["default"]('Attempting to register a partial called "'+e+'" as undefined');this.partials[e]=t}},unregisterPartial:function(e){delete this.partials[e]},registerDecorator:function(e,t){if(o.toString.call(e)===v){if(t)throw new s["default"]("Arg not supported with multiple decorators");o.extend(this.decorators,e)}else this.decorators[e]=t},unregisterDecorator:function(e){delete this.decorators[e]}};var m=f["default"].log;t.log=m,t.createFrame=o.createFrame,t.logger=f["default"]},function(e,t){"use strict";function r(e){return c[e]}function n(e){for(var t=1;t<arguments.length;t++)for(var r in arguments[t])Object.prototype.hasOwnProperty.call(arguments[t],r)&&(e[r]=arguments[t][r]);return e}function a(e,t){for(var r=0,n=e.length;n>r;r++)if(e[r]===t)return r;return-1}function o(e){if("string"!=typeof e){if(e&&e.toHTML)return e.toHTML();if(null==e)return"";if(!e)return e+"";e=""+e}return d.test(e)?e.replace(f,r):e}function i(e){return e||0===e?!(!v(e)||0!==e.length):!0}function s(e){var t=n({},e);return t._parent=e,t}function l(e,t){return e.path=t,e}function u(e,t){return(e?e+".":"")+t}t.__esModule=!0,t.extend=n,t.indexOf=a,t.escapeExpression=o,t.isEmpty=i,t.createFrame=s,t.blockParams=l,t.appendContextPath=u;var c={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;","=":"&#x3D;"},f=/[&<>"'`=]/g,d=/[&<>"'`=]/,p=Object.prototype.toString;t.toString=p;var h=function(e){return"function"==typeof e};h(/x/)&&(t.isFunction=h=function(e){return"function"==typeof e&&"[object Function]"===p.call(e)}),t.isFunction=h;var v=Array.isArray||function(e){return e&&"object"==typeof e?"[object Array]"===p.call(e):!1};t.isArray=v},function(e,t){"use strict";function r(e,t){var a=t&&t.loc,o=void 0,i=void 0;a&&(o=a.start.line,i=a.start.column,e+=" - "+o+":"+i);for(var s=Error.prototype.constructor.call(this,e),l=0;l<n.length;l++)this[n[l]]=s[n[l]];Error.captureStackTrace&&Error.captureStackTrace(this,r),a&&(this.lineNumber=o,this.column=i)}t.__esModule=!0;var n=["description","fileName","lineNumber","message","name","number","stack"];r.prototype=new Error,t["default"]=r,e.exports=t["default"]},function(e,t,r){"use strict";function n(e){i["default"](e),l["default"](e),c["default"](e),d["default"](e),h["default"](e),m["default"](e),x["default"](e)}var a=r(2)["default"];t.__esModule=!0,t.registerDefaultHelpers=n;var o=r(7),i=a(o),s=r(8),l=a(s),u=r(9),c=a(u),f=r(10),d=a(f),p=r(11),h=a(p),v=r(12),m=a(v),g=r(13),x=a(g)},function(e,t,r){"use strict";t.__esModule=!0;var n=r(4);t["default"]=function(e){e.registerHelper("blockHelperMissing",function(t,r){var a=r.inverse,o=r.fn;if(t===!0)return o(this);if(t===!1||null==t)return a(this);if(n.isArray(t))return t.length>0?(r.ids&&(r.ids=[r.name]),e.helpers.each(t,r)):a(this);if(r.data&&r.ids){var i=n.createFrame(r.data);i.contextPath=n.appendContextPath(r.data.contextPath,r.name),r={data:i}}return o(t,r)})},e.exports=t["default"]},function(e,t,r){"use strict";var n=r(2)["default"];t.__esModule=!0;var a=r(4),o=r(5),i=n(o);t["default"]=function(e){e.registerHelper("each",function(e,t){function r(t,r,o){u&&(u.key=t,u.index=r,u.first=0===r,u.last=!!o,c&&(u.contextPath=c+t)),l+=n(e[t],{data:u,blockParams:a.blockParams([e[t],t],[c+t,null])})}if(!t)throw new i["default"]("Must pass iterator to #each");var n=t.fn,o=t.inverse,s=0,l="",u=void 0,c=void 0;if(t.data&&t.ids&&(c=a.appendContextPath(t.data.contextPath,t.ids[0])+"."),a.isFunction(e)&&(e=e.call(this)),t.data&&(u=a.createFrame(t.data)),e&&"object"==typeof e)if(a.isArray(e))for(var f=e.length;f>s;s++)s in e&&r(s,s,s===e.length-1);else{var d=void 0;for(var p in e)e.hasOwnProperty(p)&&(void 0!==d&&r(d,s-1),d=p,s++);void 0!==d&&r(d,s-1,!0)}return 0===s&&(l=o(this)),l})},e.exports=t["default"]},function(e,t,r){"use strict";var n=r(2)["default"];t.__esModule=!0;var a=r(5),o=n(a);t["default"]=function(e){e.registerHelper("helperMissing",function(){if(1!==arguments.length)throw new o["default"]('Missing helper: "'+arguments[arguments.length-1].name+'"')})},e.exports=t["default"]},function(e,t,r){"use strict";t.__esModule=!0;var n=r(4);t["default"]=function(e){e.registerHelper("if",function(e,t){return n.isFunction(e)&&(e=e.call(this)),!t.hash.includeZero&&!e||n.isEmpty(e)?t.inverse(this):t.fn(this)}),e.registerHelper("unless",function(t,r){return e.helpers["if"].call(this,t,{fn:r.inverse,inverse:r.fn,hash:r.hash})})},e.exports=t["default"]},function(e,t){"use strict";t.__esModule=!0,t["default"]=function(e){e.registerHelper("log",function(){for(var t=[void 0],r=arguments[arguments.length-1],n=0;n<arguments.length-1;n++)t.push(arguments[n]);var a=1;null!=r.hash.level?a=r.hash.level:r.data&&null!=r.data.level&&(a=r.data.level),t[0]=a,e.log.apply(e,t)})},e.exports=t["default"]},function(e,t){"use strict";t.__esModule=!0,t["default"]=function(e){e.registerHelper("lookup",function(e,t){return e&&e[t]})},e.exports=t["default"]},function(e,t,r){"use strict";t.__esModule=!0;var n=r(4);t["default"]=function(e){e.registerHelper("with",function(e,t){n.isFunction(e)&&(e=e.call(this));var r=t.fn;if(n.isEmpty(e))return t.inverse(this);var a=t.data;return t.data&&t.ids&&(a=n.createFrame(t.data),a.contextPath=n.appendContextPath(t.data.contextPath,t.ids[0])),r(e,{data:a,blockParams:n.blockParams([e],[a&&a.contextPath])})})},e.exports=t["default"]},function(e,t,r){"use strict";function n(e){i["default"](e)}var a=r(2)["default"];t.__esModule=!0,t.registerDefaultDecorators=n;var o=r(15),i=a(o)},function(e,t,r){"use strict";t.__esModule=!0;var n=r(4);t["default"]=function(e){e.registerDecorator("inline",function(e,t,r,a){var o=e;return t.partials||(t.partials={},o=function(a,o){var i=r.partials;r.partials=n.extend({},i,t.partials);var s=e(a,o);return r.partials=i,s}),t.partials[a.args[0]]=a.fn,o})},e.exports=t["default"]},function(e,t,r){"use strict";t.__esModule=!0;var n=r(4),a={methodMap:["debug","info","warn","error"],level:"info",lookupLevel:function(e){if("string"==typeof e){var t=n.indexOf(a.methodMap,e.toLowerCase());e=t>=0?t:parseInt(e,10)}return e},log:function(e){if(e=a.lookupLevel(e),"undefined"!=typeof console&&a.lookupLevel(a.level)<=e){var t=a.methodMap[e];console[t]||(t="log");for(var r=arguments.length,n=Array(r>1?r-1:0),o=1;r>o;o++)n[o-1]=arguments[o];console[t].apply(console,n)}}};t["default"]=a,e.exports=t["default"]},function(e,t){"use strict";function r(e){this.string=e}t.__esModule=!0,r.prototype.toString=r.prototype.toHTML=function(){return""+this.string},t["default"]=r,e.exports=t["default"]},function(e,t,r){"use strict";function n(e){var t=e&&e[0]||1,r=g.COMPILER_REVISION;if(t!==r){if(r>t){var n=g.REVISION_CHANGES[r],a=g.REVISION_CHANGES[t];throw new m["default"]("Template was precompiled with an older version of Handlebars than the current runtime. Please update your precompiler to a newer version ("+n+") or downgrade your runtime to an older version ("+a+").")}throw new m["default"]("Template was precompiled with a newer version of Handlebars than the current runtime. Please update your runtime to a newer version ("+e[1]+").")}}function a(e,t){function r(r,n,a){a.hash&&(n=h.extend({},n,a.hash),a.ids&&(a.ids[0]=!0)),r=t.VM.resolvePartial.call(this,r,n,a);var o=t.VM.invokePartial.call(this,r,n,a);if(null==o&&t.compile&&(a.partials[a.name]=t.compile(r,e.compilerOptions,t),o=a.partials[a.name](n,a)),null!=o){if(a.indent){for(var i=o.split("\n"),s=0,l=i.length;l>s&&(i[s]||s+1!==l);s++)i[s]=a.indent+i[s];o=i.join("\n")}return o}throw new m["default"]("The partial "+a.name+" could not be compiled when running in runtime-only mode")}function n(t){function r(t){return""+e.main(a,t,a.helpers,a.partials,i,l,s)}var o=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],i=o.data;n._setup(o),!o.partial&&e.useData&&(i=u(t,i));var s=void 0,l=e.useBlockParams?[]:void 0;return e.useDepths&&(s=o.depths?t!==o.depths[0]?[t].concat(o.depths):o.depths:[t]),(r=c(e.main,r,a,o.depths||[],i,l))(t,o)}if(!t)throw new m["default"]("No environment passed to template");if(!e||!e.main)throw new m["default"]("Unknown template object: "+typeof e);e.main.decorator=e.main_d,t.VM.checkRevision(e.compiler);var a={strict:function(e,t){if(!(t in e))throw new m["default"]('"'+t+'" not defined in '+e);return e[t]},lookup:function(e,t){for(var r=e.length,n=0;r>n;n++)if(e[n]&&null!=e[n][t])return e[n][t]},lambda:function(e,t){return"function"==typeof e?e.call(t):e},escapeExpression:h.escapeExpression,invokePartial:r,fn:function(t){var r=e[t];return r.decorator=e[t+"_d"],r},programs:[],program:function(e,t,r,n,a){var i=this.programs[e],s=this.fn(e);return t||a||n||r?i=o(this,e,s,t,r,n,a):i||(i=this.programs[e]=o(this,e,s)),i},data:function(e,t){for(;e&&t--;)e=e._parent;return e},merge:function(e,t){var r=e||t;return e&&t&&e!==t&&(r=h.extend({},t,e)),r},noop:t.VM.noop,compilerInfo:e.compiler};return n.isTop=!0,n._setup=function(r){r.partial?(a.helpers=r.helpers,a.partials=r.partials,a.decorators=r.decorators):(a.helpers=a.merge(r.helpers,t.helpers),e.usePartial&&(a.partials=a.merge(r.partials,t.partials)),(e.usePartial||e.useDecorators)&&(a.decorators=a.merge(r.decorators,t.decorators)))},n._child=function(t,r,n,i){if(e.useBlockParams&&!n)throw new m["default"]("must pass block params");if(e.useDepths&&!i)throw new m["default"]("must pass parent depths");return o(a,t,e[t],r,0,n,i)},n}function o(e,t,r,n,a,o,i){function s(t){var a=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],s=i;return i&&t!==i[0]&&(s=[t].concat(i)),r(e,t,e.helpers,e.partials,a.data||n,o&&[a.blockParams].concat(o),s)}return s=c(r,s,e,i,n,o),s.program=t,s.depth=i?i.length:0,s.blockParams=a||0,s}function i(e,t,r){return e?e.call||r.name||(r.name=e,e=r.partials[e]):e="@partial-block"===r.name?r.data["partial-block"]:r.partials[r.name],e}function s(e,t,r){r.partial=!0,r.ids&&(r.data.contextPath=r.ids[0]||r.data.contextPath);var n=void 0;if(r.fn&&r.fn!==l&&(r.data=g.createFrame(r.data),n=r.data["partial-block"]=r.fn,n.partials&&(r.partials=h.extend({},r.partials,n.partials))),void 0===e&&n&&(e=n),void 0===e)throw new m["default"]("The partial "+r.name+" could not be found");return e instanceof Function?e(t,r):void 0}function l(){return""}function u(e,t){return t&&"root"in t||(t=t?g.createFrame(t):{},t.root=e),t}function c(e,t,r,n,a,o){if(e.decorator){var i={};t=e.decorator(t,i,r,n&&n[0],a,o,n),h.extend(t,i)}return t}var f=r(1)["default"],d=r(2)["default"];t.__esModule=!0,t.checkRevision=n,t.template=a,t.wrapProgram=o,t.resolvePartial=i,t.invokePartial=s,t.noop=l;var p=r(4),h=f(p),v=r(5),m=d(v),g=r(3)},function(e,t){(function(r){"use strict";t.__esModule=!0,t["default"]=function(e){var t="undefined"!=typeof r?r:window,n=t.Handlebars;e.noConflict=function(){return t.Handlebars===e&&(t.Handlebars=n),e}},e.exports=t["default"]}).call(t,function(){return this}())}])});
function showAlumni(){students().done(loadAlumni).fail(logFail)}function loadAlumni(n){$("#cnt").render("alumni",n,ui)}
function showConventionValidator(){showWait(),level(myself.Role)>=ADMIN_LEVEL?$.when(students(),internships(),conventions(),users()).done(loadConventionValidator).fail(function(e){e.responseText.indexOf("feeder")&&$.when(students(),internships()).done(loadConventionValidator).fail(notifyError)}):$.when(students(),internships()).done(loadConventionValidator).fail(notifyError)}function studentSort(e,n){return e.User.Person.Lastname.toLowerCase().localeCompare(n.User.Person.Lastname.toLowerCase())}function userSort(e,n){return e.Person.Lastname.toLowerCase().localeCompare(n.Person.Lastname.toLowerCase())}function convSort(e,n){return e.Student.User.Person.Lastname.toLowerCase().localeCompare(n.Student.User.Person.Lastname.toLowerCase())}function loadConventionValidator(e,n,t,r){errors={Warnings:[]},allStudents=e[0],allStudents||(allStudents=[]),allTeachers=[],allConventions=[];var o=0;if(allStudents.forEach(function(e,n,t){allStudents[n].Warn=!e.Skip,e.Skip||o++}),allStudents.sort(studentSort),n=n[0],n||(n=[]),t){allConventions=t[0].Conventions,errors=t[0].Errors,allConventions||(allConventions=[]),allConventions.sort(convSort);var a=[];n.forEach(function(e){a.push(e.Convention.Student.User.Person.Email)}),allConventions=allConventions.filter(function(e){return!(a.indexOf(e.Student.User.Person.Email)>=0)})}r&&(r=r[0],r||(r=[]),allTeachers=r.filter(function(e){return level(e.Role)!=STUDENT_LEVEL})),allTeachers.sort(userSort),n.forEach(function(e){allStudents.forEach(function(n,t,r){n.User.Person.Email==e.Convention.Student.User.Person.Email&&(allStudents[t].Placed=!0,allStudents[t].I=e,allStudents[t].Warn=!e&&!allStudents[t].Skip)})}),$("#cnt").render("placement-header",{Students:allStudents,Managed:o,Ints:n.length,Errors:errors},ui)}function conventionValidator(e){if(level(myself.Role)<ADMIN_LEVEL)return void notifyError("Only an admin can validate a convention");data={Conventions:allConventions,C:allConventions[0],Teachers:allTeachers},allStudents.forEach(function(n){return n.User.Person.Email==e?(data.S=n,!1):void 0});var n=propose(data.S.User,allConventions.map(function(e){return e.Student.User}));n&&(data.C=allConventions.filter(function(e){return e.Student.User.Person.Email==n.Person.Email})[0]);var t=propose(data.C.Tutor,allTeachers);$("#modal").render("convention-validator",data,function(){$("#convention-selecter").val(data.C.Student.User.Person.Email),t&&$("#tutor-selecter").val(t.Person.Email),showModal(function(){checkConventionAlignment(),checkTutorAlignment()})})}function showInternshipEditor(e){stus=allStudents.map(function(e){return e.User}),$("#internship-editor").render("convention-editor",{I:e,Teachers:allTeachers,Students:stus},function(){propose(e.Convention.Student.User.Person,stus,$("#student-group")),propose(e.Convention.Tutor.Person,allTeachers,$("#tutor-group"))})}function showConvention(e){checkConventionAlignment();var n=$(e).val(),t={Teachers:allTeachers};allConventions.forEach(function(e){return e.Student.User.Person.Email==n?(t.C=e,$("#convention-detail").html(Handlebars.partials["convention-editor"](t)),cleanError("#tutor-selecter"),$("#modal").find('[data-toggle="confirmation"]').confirmation(),propose(e.Tutor,allTeachers,$("#tutor-group")),!1):void 0})}function updateStudentSkipable(e,n){allStudents.forEach(function(n,t){return n.User.Person.Email==e?(postStudentSkippable(e,!n.Skip).done(function(r,o,a){n.Skip=!n.Skip;var i=$("#table-placement").find("tr[data-email='"+e+"']");n.I=void 0,internship(e).done(function(e){n=e.Convention.Student,n.I=e,n.Warn=!1,allStudents[t]=n;var r=Handlebars.partials["placement-student"](n);i.replaceWith(r),$(".tablesorter").trigger("update").trigger("updateCache");var o=parseInt($("#managed_cnt").html());$("#managed_cnt").html(n.Skip?o-1:o+1)}).fail(function(e){n.Warn=!n.Skip,allStudents[t]=n;var r=Handlebars.partials["placement-student"](n);i.replaceWith(r),$(".tablesorter").trigger("update").trigger("updateCache")}),defaultSuccess({},"OK")}).fail(notifyError),!1):void 0})}function validateConvention(e){checkConventionAlignment()&&checkTutorAlignment()&&prepareValidation()}function checkConventionAlignment(){var e,n,t=$("#convention-selecter").val(),r=$(".modal-body").find("legend").data("email");return allConventions.forEach(function(n){return n.Student.User.Person.Email==t?(e=n.Student,!1):void 0}),allStudents.forEach(function(e){return e.User.Person.Email==r?(n=e,!1):void 0}),matching(e.User,n.User)?(cleanError("#convention-selecter"),!0):(reportError("#convention-selecter","does not match"),!1)}function checkTutorAlignment(){var e,n=$("#convention-selecter").val(),t=$("#tutor-selecter").val();allConventions.forEach(function(t){return t.Student.User.Person.Email==n?(e=t.Tutor,!1):void 0});var r=exists(e,allTeachers);if("_new_"==t){if(r)return reportError("#tutor-selecter",r.Lastname+", "+r.Firstname+" ?"),!1;cleanError("#tutor-selecter")}else{if(r&&r.Email!=t||!r)return reportError("#tutor-selecter","Teachers don't match"),!1;cleanError("#tutor-selecter")}return!0}function prepareValidation(){cleanError("#convention-selecter","#tutor-selecter");var e=$("#tutor-selecter").val(),n=$("#convention-selecter").val(),t=allConventions.filter(function(e){return e.Student.User.Person.Email==n})[0],r=$("#modal").find("legend").data("email");p=t.Student.User.Person;var o=p.Email;p.Email=o,postUserEmail(r,o).done(function(){sendProfile(p).done(function(){commitValidation(t,e)}).fail(function(e){reportError("#convention-selecter",e.responseText)})}).fail(function(e){reportError("#convention-selecter",e.responseText)})}function commitValidation(e,n){"_new_"==n?(n.Role=2,postNewUser(e.Tutor).done(function(){allTeachers.push(e.Tutor),allTeachers.sort(userSort),newInternship(e).done(updateConventionTable).fail(function(e){reportError("#convention-selecter",e.responseText)})}).fail(function(e){reportError("#tutor-selecter",e.responseText)})):(e.Tutor.Person.Email=n,newInternship(e).done(updateConventionTable).fail(function(e){reportError("#convention-selecter",e.responseText)}))}function updateConventionTable(e){var n=$("legend").data("email"),t=$("#table-placement").find("tr[data-email='"+n+"']"),r=e.Convention.Student;r.I=e,r.Warn=!e&&!r.Skip;var o=Handlebars.partials["placement-student"](r);t.replaceWith(o),$(".tablesorter").trigger("update").trigger("updateCache"),hideModal();var a=$("#placed_cnt").html();$("#placed_cnt").html(parseInt(a)+1)}function matching(e,n){return e.Person.Email==n.Person.Email?!0:e.Person.Lastname.indexOf(n.Person.Lastname)>-1||n.Person.Lastname.indexOf(e.Person.Lastname)>-1}function exists(e,n){var t=void 0;return n.forEach(function(n){var r=n.Person.Lastname;return e.Person.Email==n.Person.Email?(t=n.Person,!1):e.Person.Lastname.indexOf(r)>-1||r.indexOf(e.Person.Lastname)>-1?(t=n.Person,!1):void 0}),t}function propose(e,n){var t=void 0;return n.forEach(function(n){var r=n.Person.Lastname;return e.Person.Email==n.Person.Email?(t=n,!1):e.Person.Lastname.indexOf(r)>-1||r.indexOf(e.Person.Lastname)>-1?(t=n,!1):void 0}),t}function updateInternship(e,n){internship(n).done(function(e){var t=$("#table-placement").find("tr[data-email='"+n+"']"),r=e.Convention.Student;r.I=e,r.Warn=!e&&!r.Skip;var o=Handlebars.partials["placement-student"](r);t.replaceWith(o),$(".tablesorter").trigger("update").trigger("updateCache")})}function updateMajor(e,n,t){var r=$(t).val();postStudentMajor(e,r).done(function(n,t,r){updateInternship(r,e),defaultSuccess({},"OK")}).fail(function(e){notifyError(e),$(t).val(n)})}function updatePromotion(e,n,t){var r=$(t).val();postStudentPromotion(e,r).done(function(n,t,r){updateInternship(r,e),defaultSuccess({},"OK")}).fail(function(e){notifyError(e),$(t).val(n)})}function switchTutor(e,n){var t=$("#tutor-selecter").val();t!=n&&postNewTutor(e,t).done(function(n,t,r){defaultSuccess({},"OK"),$("#tutor-group").find("p").html(Handlebars.partials.person(n.Person)),updateInternship(r,e)})}var allStudents,allConventions,allTeachers,feederWarning=!1;


Handlebars.registerPartial("convention-editor",Handlebars.template({1:function(n,l,a,e,t){var u,o=n.lambda,s=n.escapeExpression;return'			<option value="'+s(o(null!=(u=null!=l?l.Person:l)?u.Email:u,l))+'">'+s(o(null!=(u=null!=l?l.Person:l)?u.Lastname:u,l))+", "+s(o(null!=(u=null!=l?l.Person:l)?u.Firstname:u,l))+"</option>\n"},compiler:[7,">= 4.0.0"],main:function(n,l,a,e,t){var u,o=n.lambda,s=n.escapeExpression,r=null!=l?l:{},i=a.helperMissing;return'<div class="form-horizontal">	\n<div class="form-group">\n	<label class="col-lg-3 control-label">Company</label>\n        <div class="col-lg-9">\n                <p class="form-control-static">\n                        <a href="'+s(o(null!=(u=null!=(u=null!=l?l.C:l)?u.Company:u)?u.WWW:u,l))+'">'+s(o(null!=(u=null!=(u=null!=l?l.C:l)?u.Company:u)?u.Name:u,l))+'</a>\n                </p>\n        </div>\n</div>	\n<div class="form-group">\n	<label class="col-lg-3 control-label">Title</label>\n        <div class="col-lg-9">\n        	<p class="form-control-static">'+s(o(null!=(u=null!=(u=null!=l?l.C:l)?u.Company:u)?u.Title:u,l))+'</p>\n        </div>\n</div>				\n<div class="form-group">\n	<label class="col-lg-3 control-label">Period</label>\n        <div class="col-lg-9">\n        	<p class="form-control-static">\n        	'+s((a.dateFmt||l&&l.dateFmt||i).call(r,null!=(u=null!=l?l.C:l)?u.Begin:u,"D MMM YYYY",{name:"dateFmt",hash:{},data:t}))+"\n        	to \n        	"+s((a.dateFmt||l&&l.dateFmt||i).call(r,null!=(u=null!=l?l.C:l)?u.End:u,"D MMM YYYY",{name:"dateFmt",hash:{},data:t}))+'\n        	</p>\n        </div>\n</div>\n<div class="form-group">\n	<label class="col-lg-3 control-label">Gratification</label>\n        <div class="col-lg-9">\n        	<p class="form-control-static">'+s(o(null!=(u=null!=l?l.C:l)?u.Gratification:u,l))+' </p>\n        </div>\n</div>				\n\n\n<div class="form-group" id="tutor-group">\n	<label class="col-lg-3 control-label">Academic tutor</label>\n        <div class="col-lg-6">\n        	<p class="form-control-static">\n                        <span class=\'fn\'>'+s(o(null!=(u=null!=(u=null!=(u=null!=l?l.C:l)?u.Tutor:u)?u.Person:u)?u.Lastname:u,l))+", "+s(o(null!=(u=null!=(u=null!=(u=null!=l?l.C:l)?u.Tutor:u)?u.Person:u)?u.Firstname:u,l))+"</span>\n                        <small>(<a href='mailto:"+s(o(null!=(u=null!=(u=null!=(u=null!=l?l.C:l)?u.Tutor:u)?u.Person:u)?u.Email:u,l))+"'>"+s(o(null!=(u=null!=(u=null!=(u=null!=l?l.C:l)?u.Tutor:u)?u.Person:u)?u.Email:u,l))+'</a>)</small>\n                </p>\n        	<select class="fn form-control" id="tutor-selecter" onchange="checkTutorAlignment()">\n        		<option value="_new_"><i>New tutor...</i></option>\n'+(null!=(u=a.each.call(r,null!=l?l.Teachers:l,{name:"each",hash:{},fn:n.program(1,t,0),inverse:n.noop,data:t}))?u:"")+'		</select>\n\n        </div>\n</div>	\n\n<div class="text-right form-group">\n        <button type="button" class="btn btn-default" aria-hidden="true" onclick="hideModal()">\n        Close\n        </button>\n        <button type="button" class="btn btn-success" data-placement="top" data-toggle="confirmation" data-on-confirm="prepareValidation()">\n        Validate\n        </button>\n</div>			\n</div>        '},useData:!0})),Handlebars.registerPartial("convention-student",Handlebars.template({1:function(n,l,a,e,t,u,o){var s;return"    "+n.escapeExpression((a.report||l&&l.report||a.helperMissing).call(null!=l?l:{},l,null!=(s=null!=(s=null!=(s=null!=(s=null!=o[1]?o[1].Convention:o[1])?s.Student:s)?s.User:s)?s.Person:s)?s.Email:s,{name:"report",hash:{},data:t}))+"\n"},3:function(n,l,a,e,t,u,o){var s;return"    "+n.escapeExpression((a.survey||l&&l.survey||a.helperMissing).call(null!=l?l:{},l,null!=(s=null!=(s=null!=(s=null!=(s=null!=o[1]?o[1].Convention:o[1])?s.Student:s)?s.User:s)?s.Person:s)?s.Email:s,{name:"survey",hash:{},data:t}))+"\n"},compiler:[7,">= 4.0.0"],main:function(n,l,a,e,t,u,o){var s,r=n.lambda,i=n.escapeExpression,d=null!=l?l:{},c=a.helperMissing;return"<tr>\n    <td>\n    <input class=\"shiftSelectable\" type='checkbox'\ndata-stu='"+i(r(null!=(s=null!=(s=null!=(s=null!=(s=null!=l?l.Convention:l)?s.Student:s)?s.User:s)?s.Person:s)?s.Email:s,l))+"' data-stu-fn='"+i((a.fullname||l&&l.fullname||c).call(d,null!=(s=null!=(s=null!=(s=null!=l?l.Convention:l)?s.Student:s)?s.User:s)?s.Person:s,!0,{name:"fullname",hash:{},data:t}))+"'\ndata-sup='"+i(r(null!=(s=null!=(s=null!=l?l.Convention:l)?s.Supervisor:s)?s.Email:s,l))+"' data-sup-fn='"+i((a.fullname||l&&l.fullname||c).call(d,null!=(s=null!=l?l.Convention:l)?s.Supervisor:s,!0,{name:"fullname",hash:{},data:t}))+"'/>  \n    </td>\n    <td>\n    <a class='click fn' onclick=\"showInternship('"+i(r(null!=(s=null!=(s=null!=(s=null!=(s=null!=l?l.Convention:l)?s.Student:s)?s.User:s)?s.Person:s)?s.Email:s,l))+"')\">\n    "+i((a.fullname||l&&l.fullname||c).call(d,null!=(s=null!=(s=null!=(s=null!=l?l.Convention:l)?s.Student:s)?s.User:s)?s.Person:s,{name:"fullname",hash:{},data:t}))+"            \n    </td>\n    <td>"+i(r(null!=(s=null!=(s=null!=l?l.Convention:l)?s.Student:s)?s.Promotion:s,l))+"</td>\n    <td>"+i(r(null!=(s=null!=(s=null!=l?l.Convention:l)?s.Student:s)?s.Major:s,l))+'</td>\n    <td><a href="mailto:'+i(r(null!=(s=null!=(s=null!=l?l.Convention:l)?s.Supervisor:s)?s.Email:s,l))+'">'+i((a.fullname||l&&l.fullname||c).call(d,null!=(s=null!=l?l.Convention:l)?s.Supervisor:s,{name:"fullname",hash:{},data:t}))+'</a></td>\n    <td><a href="'+i(r(null!=(s=null!=(s=null!=l?l.Convention:l)?s.Company:s)?s.WWW:s,l))+'">'+i(r(null!=(s=null!=(s=null!=l?l.Convention:l)?s.Company:s)?s.Name:s,l))+"</a></td>\n"+(null!=(s=a.each.call(d,null!=l?l.Reports:l,{name:"each",hash:{},fn:n.program(1,t,0,u,o),inverse:n.noop,data:t}))?s:"")+"    \n"+(null!=(s=a.each.call(d,null!=l?l.Surveys:l,{name:"each",hash:{},fn:n.program(3,t,0,u,o),inverse:n.noop,data:t}))?s:"")+"</tr>"},useData:!0,useDepths:!0})),Handlebars.registerPartial("conventions-convention",Handlebars.template({1:function(n,l,a,e,t){return"text-danger"},3:function(n,l,a,e,t){return"0"},5:function(n,l,a,e,t){return"1"},7:function(n,l,a,e,t){return"-empty"},9:function(n,l,a,e,t){return"true"},11:function(n,l,a,e,t){return"false"},13:function(n,l,a,e,t){return"close"},15:function(n,l,a,e,t){return"open"},compiler:[7,">= 4.0.0"],main:function(n,l,a,e,t){var u,o,s=n.lambda,r=n.escapeExpression,i=null!=l?l:{},d=a.helperMissing;return"<tr>\n    <td><input type='checkbox' data-email='"+r(s(null!=(u=null!=(u=null!=(u=null!=l?l.Student:l)?u.User:u)?u.Person:u)?u.Email:u,l))+'\'/></td>\n    <td class="fn">    	\n    	'+r(s(null!=(u=null!=(u=null!=(u=null!=l?l.Student:l)?u.User:u)?u.Person:u)?u.Lastname:u,l))+", "+r(s(null!=(u=null!=(u=null!=(u=null!=l?l.Student:l)?u.User:u)?u.Person:u)?u.Firstname:u,l))+"\n    </td>\n    <td>"+r(s(null!=(u=null!=l?l.Student:l)?u.Promotion:u,l))+"/"+r(s(null!=(u=null!=l?l.Student:l)?u.Major:u,l))+"</td>\n    <td>"+r((a.dateFmt||l&&l.dateFmt||d).call(i,null!=l?l.Begin:l,"DD/MM/YY",{name:"dateFmt",hash:{},data:t}))+" - "+r((a.dateFmt||l&&l.dateFmt||d).call(i,null!=l?l.End:l,"DD/MM/YY",{name:"dateFmt",hash:{},data:t}))+'</td>    \n    <td class="fn '+(null!=(u=a.unless.call(i,null!=(u=null!=(u=null!=l?l.Tutor:l)?u.Person:u)?u.Role:u,{name:"unless",hash:{},fn:n.program(1,t,0),inverse:n.noop,data:t}))?u:"")+'">'+r(s(null!=(u=null!=(u=null!=l?l.Tutor:l)?u.Person:u)?u.Lastname:u,l))+", "+r(s(null!=(u=null!=(u=null!=l?l.Tutor:l)?u.Person:u)?u.Firstname:u,l))+"</td>\n    <td>"+r((o=null!=(o=a.Gratification||(null!=l?l.Gratification:l))?o:d,"function"==typeof o?o.call(i,{name:"Gratification",hash:{},data:t}):o))+" </td>    \n    <td>"+r((a.dateFmt||l&&l.dateFmt||d).call(i,null!=l?l.Creation:l,"DD/MM/YY HH:mm:ss",{name:"dateFmt",hash:{},data:t}))+'    \n    <td data-text="'+(null!=(u=a["if"].call(i,null!=l?l.Placed:l,{name:"if",hash:{},fn:n.program(3,t,0),inverse:n.program(5,t,0),data:t}))?u:"")+'">\n    	<i class="glyphicon glyphicon-star'+(null!=(u=a.unless.call(i,null!=l?l.Placed:l,{name:"unless",hash:{},fn:n.program(7,t,0),inverse:n.noop,data:t}))?u:"")+'"></i>\n    </td>\n\n    <td data-text="'+(null!=(u=a["if"].call(i,null!=l?l.Skip:l,{name:"if",hash:{},fn:n.program(3,t,0),inverse:n.program(5,t,0),data:t}))?u:"")+'">\n    <i onclick="updateConventionSkipable(\''+r(s(null!=(u=null!=(u=null!=(u=null!=l?l.Student:l)?u.User:u)?u.Person:u)?u.Email:u,l))+"',"+(null!=(u=a["if"].call(i,null!=l?l.Skip:l,{name:"if",hash:{},fn:n.program(9,t,0),inverse:n.program(11,t,0),data:t}))?u:"")+')" class="glyphicon glyphicon-eye-'+(null!=(u=a["if"].call(i,null!=l?l.Skip:l,{name:"if",hash:{},fn:n.program(13,t,0),inverse:n.program(15,t,0),data:t}))?u:"")+'"></i>\n    </td>    \n</tr>'},useData:!0})),Handlebars.registerPartial("person",Handlebars.template({compiler:[7,">= 4.0.0"],main:function(n,l,a,e,t){var u,o=null!=l?l:{},s=a.helperMissing,r="function",i=n.escapeExpression;return'	<a href="mailto:'+i((u=null!=(u=a.Email||(null!=l?l.Email:l))?u:s,typeof u===r?u.call(o,{name:"Email",hash:{},data:t}):u))+'">'+i((a.fullname||l&&l.fullname||s).call(o,l,{name:"fullname",hash:{},data:t}))+'</a>  (<i class="glyphicon glyphicon-earphone"></i> '+i((u=null!=(u=a.Tel||(null!=l?l.Tel:l))?u:s,typeof u===r?u.call(o,{name:"Tel",hash:{},data:t}):u))+")\n"},useData:!0})),Handlebars.registerPartial("placement-student",Handlebars.template({1:function(n,l,a,e,t){var u,o=n.lambda,s=n.escapeExpression;return'        <a href="#" class="click" onclick="showInternship(\''+s(o(null!=(u=null!=(u=null!=l?l.User:l)?u.Person:u)?u.Email:u,l))+"', true)\">\n            "+s(o(null!=(u=null!=(u=null!=l?l.User:l)?u.Person:u)?u.Lastname:u,l))+", "+s(o(null!=(u=null!=(u=null!=l?l.User:l)?u.Person:u)?u.Firstname:u,l))+"\n        </a>\n"},3:function(n,l,a,e,t){var u,o=n.lambda,s=n.escapeExpression;return"        "+s(o(null!=(u=null!=(u=null!=l?l.User:l)?u.Person:u)?u.Lastname:u,l))+", "+s(o(null!=(u=null!=(u=null!=l?l.User:l)?u.Person:u)?u.Firstname:u,l))+"\n"},5:function(n,l,a,e,t){return'data-text="-1"'},7:function(n,l,a,e,t){return'data-text="0"'},9:function(n,l,a,e,t){return"remove"},11:function(n,l,a,e,t){return"ok"},13:function(n,l,a,e,t){return'        <td colspan="4" class="text-center">\n            <i>not my job</i>\n        </td>    \n'},15:function(n,l,a,e,t){var u;return null!=(u=a["if"].call(null!=l?l:{},null!=l?l.I:l,{name:"if",hash:{},fn:n.program(16,t,0),inverse:n.program(18,t,0),data:t}))?u:""},16:function(n,l,a,e,t){var u,o=n.lambda,s=n.escapeExpression,r=null!=l?l:{},i=a.helperMissing;return'        <td><small><a href="'+s(o(null!=(u=null!=(u=null!=(u=null!=l?l.I:l)?u.Convention:u)?u.Company:u)?u.WWW:u,l))+'">'+s(o(null!=(u=null!=(u=null!=(u=null!=l?l.I:l)?u.Convention:u)?u.Company:u)?u.Name:u,l))+'</a></small></td>\n        <td data-text="'+s((a.dateFmt||l&&l.dateFmt||i).call(r,null!=(u=null!=(u=null!=l?l.I:l)?u.Convention:u)?u.Begin:u,"X",{name:"dateFmt",hash:{},data:t}))+'">'+s((a.dateFmt||l&&l.dateFmt||i).call(r,null!=(u=null!=(u=null!=l?l.I:l)?u.Convention:u)?u.Begin:u,"DD/MM/YY",{name:"dateFmt",hash:{},data:t}))+" - "+s((a.dateFmt||l&&l.dateFmt||i).call(r,null!=(u=null!=(u=null!=l?l.I:l)?u.Convention:u)?u.End:u,"DD/MM/YY",{name:"dateFmt",hash:{},data:t}))+'</td>\n        <td class="fn">'+s(o(null!=(u=null!=(u=null!=(u=null!=(u=null!=l?l.I:l)?u.Convention:u)?u.Tutor:u)?u.Person:u)?u.Lastname:u,l))+", "+s(o(null!=(u=null!=(u=null!=(u=null!=(u=null!=l?l.I:l)?u.Convention:u)?u.Tutor:u)?u.Person:u)?u.Firstname:u,l))+'</td>\n        <td class="text-right">'+s(o(null!=(u=null!=(u=null!=l?l.I:l)?u.Convention:u)?u.Gratification:u,l))+"</td>\n"},18:function(n,l,a,e,t){var u;return'        <td colspan="4" class="text-center">\n            <a class="click '+(null!=(u=a["if"].call(null!=l?l:{},null!=l?l.Warn:l,{name:"if",hash:{},fn:n.program(19,t,0),inverse:n.noop,data:t}))?u:"")+'"\n                onclick="conventionValidator(\''+n.escapeExpression(n.lambda(null!=(u=null!=(u=null!=l?l.User:l)?u.Person:u)?u.Email:u,l))+"')\">no validated internship</a>\n        </td>\n"},19:function(n,l,a,e,t){return"text-danger"},compiler:[7,">= 4.0.0"],main:function(n,l,a,e,t){var u,o,s=n.lambda,r=n.escapeExpression,i=null!=l?l:{},d=a.helperMissing,c="function";return'<tr data-email="'+r(s(null!=(u=null!=(u=null!=l?l.User:l)?u.Person:u)?u.Email:u,l))+"\">\n    <td><input type='checkbox' data-email='"+r(s(null!=(u=null!=(u=null!=l?l.User:l)?u.Person:u)?u.Email:u,l))+"' class=\"shiftSelectable\" data-stu-fn='"+r((a.fullname||l&&l.fullname||d).call(i,null!=(u=null!=l?l.User:l)?u.Person:u,!0,{name:"fullname",hash:{},data:t}))+'\'/></td>\n    <td class="fn">    \n'+(null!=(u=a["if"].call(i,null!=l?l.I:l,{name:"if",hash:{},fn:n.program(1,t,0),inverse:n.program(3,t,0),data:t}))?u:"")+'    </td>    \n    <td class="click text-center" '+(null!=(u=a["if"].call(i,null!=l?l.Warn:l,{name:"if",hash:{},fn:n.program(5,t,0),inverse:n.program(7,t,0),data:t}))?u:"")+" onclick=\"updateStudentSkipable('"+r(s(null!=(u=null!=(u=null!=l?l.User:l)?u.Person:u)?u.Email:u,l))+'\', this)">\n        <i class="glyphicon glyphicon-'+(null!=(u=a["if"].call(i,null!=l?l.Skip:l,{name:"if",hash:{},fn:n.program(9,t,0),inverse:n.program(11,t,0),data:t}))?u:"")+'"></i>\n    </td>  \n    <td>'+r((o=null!=(o=a.Promotion||(null!=l?l.Promotion:l))?o:d,typeof o===c?o.call(i,{name:"Promotion",hash:{},data:t}):o))+"</td>\n    <td>"+r((o=null!=(o=a.Major||(null!=l?l.Major:l))?o:d,typeof o===c?o.call(i,{name:"Major",hash:{},data:t}):o))+"</td>  \n"+(null!=(u=a["if"].call(i,null!=l?l.Skip:l,{name:"if",hash:{},fn:n.program(13,t,0),inverse:n.program(15,t,0),data:t}))?u:"")+"</tr>"},useData:!0})),Handlebars.registerPartial("student-dashboard-alumni",Handlebars.template({1:function(n,l,a,e,t){return"selected"},3:function(n,l,a,e,t){return"checked"},compiler:[7,">= 4.0.0"],main:function(n,l,a,e,t){var u,o,s=null!=l?l:{},r=a.helperMissing;return'<h3 class="page-header">Your future</h3>\n<p>\nIt is important for us to know what you will become after your internship.\nPlease indicate what will be your profesional status after the internship\nand an email address to contact you as an alumni.\n</p>\n\n<div class="form-horizontal">\n<div class="form-group">\n    <label for="lbl-fn" class="col-sm-2 control-label">Email</label>\n        <div class="col-sm-8">\n            <input type="email" class="form-control" id="lbl-email" value="'+n.escapeExpression((o=null!=(o=a.Contact||(null!=l?l.Contact:l))?o:r,"function"==typeof o?o.call(s,{name:"Contact",hash:{},data:t}):o))+'"/>\n        </div>\n</div>\n \n<div class="form-group">\n    <label for="lbl-kind" class="col-sm-2 control-label">Kind</label>\n        <div class="col-sm-8">\n            <select class="form-control" id="position" onchange="syncAlumniEditor(this)">\n                <option value="looking" '+(null!=(u=(a.ifEq||l&&l.ifEq||r).call(s,null!=l?l.Position:l,"looking",{name:"ifEq",hash:{},fn:n.program(1,t,0),inverse:n.noop,data:t}))?u:"")+'>Looking for a job</option>\n                <option value="sabbatical" '+(null!=(u=(a.ifEq||l&&l.ifEq||r).call(s,null!=l?l.Position:l,"sabbatical",{name:"ifEq",hash:{},fn:n.program(1,t,0),inverse:n.noop,data:t}))?u:"")+'>Sabattical leave</option>\n                <option value="company" '+(null!=(u=(a.ifEq||l&&l.ifEq||r).call(s,null!=l?l.Position:l,"company",{name:"ifEq",hash:{},fn:n.program(1,t,0),inverse:n.noop,data:t}))?u:"")+'>Working in a company</option>\n                <option value="entrepreneurship" '+(null!=(u=(a.ifEq||l&&l.ifEq||r).call(s,null!=l?l.Position:l,"entrepreneurship",{name:"ifEq",hash:{},fn:n.program(1,t,0),inverse:n.noop,data:t}))?u:"")+'>Entrepreneurship</option>\n                <option value="study" '+(null!=(u=(a.ifEq||l&&l.ifEq||r).call(s,null!=l?l.Position:l,"study",{name:"ifEq",hash:{},fn:n.program(1,t,0),inverse:n.noop,data:t}))?u:"")+'>Pursuit of higher education</option>\n            </select>                            \n        </div>\n</div>\n\n<div class="form-group hidden" id="contract">\n    <label class="col-sm-2 control-label">Contract</label>\n    <div class="col-sm-8">\n        <label class="checkbox-inline">\n            <input type="radio" name="permanent" value=\'false\' '+(null!=(u=a.unless.call(s,null!=l?l.Permanent:l,{name:"unless",hash:{},fn:n.program(3,t,0),inverse:n.noop,data:t}))?u:"")+"> Fixed (CDD)\n        </label>                        \n        <label class=\"checkbox-inline\">\n            <input type=\"radio\" name='permanent' value='true' "+(null!=(u=a["if"].call(s,null!=l?l.Permanent:l,{name:"if",hash:{},fn:n.program(3,t,0),inverse:n.noop,data:t}))?u:"")+'> Permanent (CDI)\n        </label>                        \n    </div>\n</div>   \n\n<div class="form-group hidden" id="company">\n    <label class="col-sm-2 control-label">Company</label>\n    <div class="col-sm-8">\n        <label class="checkbox-inline">\n            <input type="radio" name=\'sameCompany\' value=\'true\' '+(null!=(u=a["if"].call(s,null!=l?l.SameCompany:l,{name:"if",hash:{},fn:n.program(3,t,0),inverse:n.noop,data:t}))?u:"")+"> internship company\n        </label>                        \n        <label class=\"checkbox-inline\">\n            <input type=\"radio\" name='sameCompany' value='false' "+(null!=(u=a.unless.call(s,null!=l?l.SameCompany:l,{name:"unless",hash:{},fn:n.program(3,t,0),inverse:n.noop,data:t}))?u:"")+'> other\n        </label>                        \n    </div>\n</div> \n\n<div class="form-group hidden" id="country">\n    <label class="col-sm-2 control-label">Country</label>\n    <div class="col-sm-8">\n        <label class="checkbox-inline">\n            <input type="radio" name=\'france\' value=\'true\' '+(null!=(u=a["if"].call(s,null!=l?l.France:l,{name:"if",hash:{},fn:n.program(3,t,0),inverse:n.noop,data:t}))?u:"")+"> France\n        </label>                        \n        <label class=\"checkbox-inline\">\n            <input type=\"radio\" name='france' value='false' "+(null!=(u=a.unless.call(s,null!=l?l.France:l,{name:"unless",hash:{},fn:n.program(3,t,0),inverse:n.noop,data:t}))?u:"")+'> Foreign country\n        </label>                        \n    </div>\n</div>                            \n\n<div class="text-center">\n<button type="button" class="btn btn-default" onclick="sendAlumni()">Update</button>\n</div>\n</div>'},useData:!0})),Handlebars.registerPartial("student-dashboard-company",Handlebars.template({1:function(n,l,a,e,t){var u,o=n.lambda,s=n.escapeExpression;return'				<a href="'+s(o(null!=(u=null!=(u=null!=l?l.Convention:l)?u.Company:u)?u.WWW:u,l))+'">'+s(o(null!=(u=null!=(u=null!=l?l.Convention:l)?u.Company:u)?u.Name:u,l))+"</a>\n"},3:function(n,l,a,e,t){var u;return"				"+n.escapeExpression(n.lambda(null!=(u=null!=(u=null!=l?l.Convention:l)?u.Company:u)?u.Name:u,l))+"\n"},compiler:[7,">= 4.0.0"],main:function(n,l,a,e,t){var u,o=null!=l?l:{},s=a.helperMissing,r=n.escapeExpression;return'	<h3 class="page-header">The company\n	<button onclick="showCompanyEditor()" class="btn btn-xs btn-default pull-right"><i class="glyphicon glyphicon-pencil"></i> edit</button>\n	</h3>		\n	<p>\n	Ensure the subject is up-to-date.\n	Company name and website are usefull to assist futur students at finding internships.\n	</p>\n	<dl class="dl-horizontal">\n		<dt>Period</dt>\n		<dd>'+r((a.dateFmt||l&&l.dateFmt||s).call(o,null!=(u=null!=l?l.Convention:l)?u.Begin:u,"D MMM YYYY",{name:"dateFmt",hash:{},data:t}))+" - "+r((a.dateFmt||l&&l.dateFmt||s).call(o,null!=(u=null!=l?l.Convention:l)?u.End:u,"D MMM YYYY",{name:"dateFmt",hash:{},data:t}))+"</dd>\n		<dt>Name</dt>\n		<dd>\n"+(null!=(u=a["if"].call(o,null!=(u=null!=(u=null!=l?l.Convention:l)?u.Company:u)?u.WWW:u,{name:"if",hash:{},fn:n.program(1,t,0),inverse:n.program(3,t,0),data:t}))?u:"")+"		</dd>\n		<dt>Subject</dt>\n		<dd>"+r(n.lambda(null!=(u=null!=(u=null!=l?l.Convention:l)?u.Company:u)?u.Title:u,l))+"</dd>\n	</dl>	"},useData:!0})),Handlebars.registerPartial("student-dashboard-contacts",Handlebars.template({compiler:[7,">= 4.0.0"],main:function(n,l,a,e,t){var u;return'	<h3 class="page-header">Contacts\n	<button onclick="showSupervisorEditor()" class="btn btn-xs btn-default pull-right"><i class="glyphicon glyphicon-pencil"></i> edit</button>\n	</h3>	\n	<p class="text-justify">Ensure the contact informations are correct.\n	This is of a primary importance to allow us to communicate with your supervisor.\n	</p>\n	<dl class="dl-horizontal">\n		<dt>Supervisor</dt>\n		<dd id="supervisor-contact">\n		'+(null!=(u=n.invokePartial(e.person,null!=(u=null!=l?l.Convention:l)?u.Supervisor:u,{name:"person",data:t,helpers:a,partials:e,decorators:n.decorators}))?u:"")+"</dd>\n		<dt>Academic tutor</dt>\n		<dd>"+(null!=(u=n.invokePartial(e.person,null!=(u=null!=(u=null!=l?l.Convention:l)?u.Tutor:u)?u.Person:u,{name:"person",data:t,helpers:a,partials:e,decorators:n.decorators}))?u:"")+"</dd>	\n	</dl>"},usePartial:!0,useData:!0})),Handlebars.registerPartial("student-dashboard-report",Handlebars.template({1:function(n,l,a,e,t){return'class="text-danger"'},3:function(n,l,a,e,t){return"disabled"},5:function(n,l,a,e,t){var u,o=null!=l?l:{},s=a.helperMissing,r="function",i=n.escapeExpression;return' href="api/v2/reports/'+i((u=null!=(u=a.Email||(null!=l?l.Email:l))?u:s,typeof u===r?u.call(o,{name:"Email",hash:{},data:t}):u))+"/"+i((u=null!=(u=a.Kind||(null!=l?l.Kind:l))?u:s,typeof u===r?u.call(o,{name:"Kind",hash:{},data:t}):u))+'/content"'},7:function(n,l,a,e,t){return" disabled"},compiler:[7,">= 4.0.0"],main:function(n,l,a,e,t){var u,o,s=null!=l?l:{},r=a.helperMissing,i="function",d=n.escapeExpression;return'<tr id="report-'+d((o=null!=(o=a.Kind||(null!=l?l.Kind:l))?o:r,typeof o===i?o.call(s,{name:"Kind",hash:{},data:t}):o))+'" '+(null!=(u=(a.ifLate||l&&l.ifLate||r).call(s,null!=l?l.Deadline:l,{name:"ifLate",hash:{},fn:n.program(1,t,0),inverse:n.noop,data:t}))?u:"")+">\n<td>"+d((o=null!=(o=a.Kind||(null!=l?l.Kind:l))?o:r,typeof o===i?o.call(s,{name:"Kind",hash:{},data:t}):o))+"</td>\n<td>"+d((a.dateFmt||l&&l.dateFmt||r).call(s,null!=l?l.Deadline:l,"D MMM YYYY HH:mm",{name:"dateFmt",hash:{},data:t}))+"</td>\n<td>"+d((a.dateFmt||l&&l.dateFmt||r).call(s,null!=l?l.Delivery:l,"D MMM YYYY HH:mm",{name:"dateFmt",hash:{},data:t}))+"</td>\n<td>"+d((a.grade||l&&l.grade||r).call(s,l,{name:"grade",hash:{},data:t}))+'</td>\n<td class="text-right">\n\n	<button type="button" class="btn btn-success btn-sm btn-file" title="upload" '+(null!=(u=a.unless.call(s,null!=l?l.Open:l,{name:"unless",hash:{},fn:n.program(3,t,0),inverse:n.noop,data:t}))?u:"")+'>\n    	<i class="glyphicon glyphicon-cloud-upload"></i> <input type="file" accept="application/pdf" onchange="loadReport(this, \''+d((o=null!=(o=a.Kind||(null!=l?l.Kind:l))?o:r,typeof o===i?o.call(s,{name:"Kind",hash:{},data:t}):o))+"')\" "+(null!=(u=a.unless.call(s,null!=l?l.Open:l,{name:"unless",hash:{},fn:n.program(3,t,0),inverse:n.noop,data:t}))?u:"")+'>\n	</button>\n	<a class="btn btn-primary btn-sm btn-file" title="download" \n	'+(null!=(u=a["if"].call(s,null!=l?l.Delivery:l,{name:"if",hash:{},fn:n.program(5,t,0),inverse:n.program(7,t,0),data:t}))?u:"")+'>	\n    	<i class="glyphicon glyphicon-cloud-download"></i>\n    	</a>	\n	<button onclick="showReportComment(\''+d((o=null!=(o=a.Kind||(null!=l?l.Kind:l))?o:r,typeof o===i?o.call(s,{name:"Kind",hash:{},data:t}):o))+'\')" type="button" class="btn btn-primary btn-sm" title="tutor review" '+(null!=(u=a.unless.call(s,null!=l?l.Comment:l,{name:"unless",hash:{},fn:n.program(3,t,0),inverse:n.noop,data:t}))?u:"")+'>\n		<i class="glyphicon glyphicon-comment"></i>\n	</button>\n</td>\n</tr>'},useData:!0})),Handlebars.registerPartial("tutored-student",Handlebars.template({1:function(n,l,a,e,t){return'            <span class="pull-right">\n            <i class="glyphicon glyphicon-warning-sign text-warning" title="never logged in"></i>\n'},3:function(n,l,a,e,t,u,o){var s;return"            "+n.escapeExpression((a.report||l&&l.report||a.helperMissing).call(null!=l?l:{},l,null!=(s=null!=(s=null!=(s=null!=(s=null!=o[1]?o[1].Convention:o[1])?s.Student:s)?s.User:s)?s.Person:s)?s.Email:s,{name:"report",hash:{},data:t}))+"\n"},5:function(n,l,a,e,t,u,o){var s;return"            "+n.escapeExpression((a.survey||l&&l.survey||a.helperMissing).call(null!=l?l:{},l,null!=(s=null!=(s=null!=(s=null!=(s=null!=o[1]?o[1].Convention:o[1])?s.Student:s)?s.User:s)?s.Person:s)?s.Email:s,{name:"survey",hash:{},data:t}))+"\n"},7:function(n,l,a,e,t){var u;return'            <td class="text-center" data-text="1">\n                <a href="#" onclick="showAlumni(\''+n.escapeExpression(n.lambda(null!=(u=null!=(u=null!=(u=null!=(u=null!=l?l.Convention:l)?u.Student:u)?u.User:u)?u.Person:u)?u.Email:u,l))+'\')">\n                    <i class="glyphicon glyphicon-star-empty"></i>\n                </a>\n            </td>\n'},9:function(n,l,a,e,t){return'            <td class="text-center" data-text="0"></td>           \n'},compiler:[7,">= 4.0.0"],main:function(n,l,a,e,t,u,o){var s,r=n.lambda,i=n.escapeExpression,d=null!=l?l:{},c=a.helperMissing;return"        <tr data-email='"+i(r(null!=(s=null!=(s=null!=(s=null!=(s=null!=l?l.Convention:l)?s.Student:s)?s.User:s)?s.Person:s)?s.Email:s,l))+"'>\n            <td>\n            <input class=\"shiftSelectable\" type='checkbox'\n data-stu='"+i(r(null!=(s=null!=(s=null!=(s=null!=(s=null!=l?l.Convention:l)?s.Student:s)?s.User:s)?s.Person:s)?s.Email:s,l))+"' data-stu-fn='"+i((a.fullname||l&&l.fullname||c).call(d,null!=(s=null!=(s=null!=(s=null!=l?l.Convention:l)?s.Student:s)?s.User:s)?s.Person:s,!0,{name:"fullname",hash:{},data:t}))+"'\n data-sup='"+i(r(null!=(s=null!=(s=null!=l?l.Convention:l)?s.Supervisor:s)?s.Email:s,l))+"' data-sup-fn='"+i((a.fullname||l&&l.fullname||c).call(d,null!=(s=null!=l?l.Convention:l)?s.Supervisor:s,!0,{name:"fullname",hash:{},data:t}))+"'/>  \n            </td>\n            <td>\n            <a class='click fn' onclick=\"showInternship('"+i(r(null!=(s=null!=(s=null!=(s=null!=(s=null!=l?l.Convention:l)?s.Student:s)?s.User:s)?s.Person:s)?s.Email:s,l))+"')\">\n            "+i((a.fullname||l&&l.fullname||c).call(d,null!=(s=null!=(s=null!=(s=null!=l?l.Convention:l)?s.Student:s)?s.User:s)?s.Person:s,{name:"fullname",hash:{},data:t}))+"            \n            </a>\n"+(null!=(s=a.unless.call(d,null!=(s=null!=(s=null!=(s=null!=l?l.Convention:l)?s.Student:s)?s.User:s)?s.LastVisit:s,{name:"unless",hash:{},fn:n.program(1,t,0,u,o),inverse:n.noop,data:t}))?s:"")+"            </span>\n            </td>\n            <td>"+i(r(null!=(s=null!=(s=null!=l?l.Convention:l)?s.Student:s)?s.Promotion:s,l))+"</td>\n            <td>"+i(r(null!=(s=null!=(s=null!=l?l.Convention:l)?s.Student:s)?s.Major:s,l))+'</td>\n            <td><a href="mailto:'+i(r(null!=(s=null!=(s=null!=l?l.Convention:l)?s.Supervisor:s)?s.Email:s,l))+'">'+i((a.fullname||l&&l.fullname||c).call(d,null!=(s=null!=l?l.Convention:l)?s.Supervisor:s,{name:"fullname",hash:{},data:t}))+'</a></td>\n            <td><a href="'+i(r(null!=(s=null!=(s=null!=l?l.Convention:l)?s.Company:s)?s.WWW:s,l))+'">'+i(r(null!=(s=null!=(s=null!=l?l.Convention:l)?s.Company:s)?s.Name:s,l))+"</a></td>\n"+(null!=(s=a.each.call(d,null!=l?l.Reports:l,{name:"each",hash:{},fn:n.program(3,t,0,u,o),inverse:n.noop,data:t}))?s:"")+"            \n"+(null!=(s=a.each.call(d,null!=l?l.Surveys:l,{name:"each",hash:{},fn:n.program(5,t,0,u,o),inverse:n.noop,data:t}))?s:"")+"\n"+(null!=(s=a["if"].call(d,null!=(s=null!=(s=null!=l?l.Convention:l)?s.Student:s)?s.Alumni:s,{name:"if",hash:{},fn:n.program(7,t,0,u,o),inverse:n.program(9,t,0,u,o),data:t}))?s:"")+"        </tr>"},useData:!0,useDepths:!0})),Handlebars.registerPartial("users-user",Handlebars.template({1:function(n,l,a,e,t){var u;return"    	"+n.escapeExpression((u=null!=(u=a.Role||(null!=l?l.Role:l))?u:a.helperMissing,"function"==typeof u?u.call(null!=l?l:{},{name:"Role",hash:{},data:t}):u))+"    		\n"},3:function(n,l,a,e,t){var u,o,s=n.escapeExpression;return"    	<a onclick=\"showRoleEditor('"+s(n.lambda(null!=(u=null!=l?l.Person:l)?u.Email:u,l))+"')\">"+s((o=null!=(o=a.Role||(null!=l?l.Role:l))?o:a.helperMissing,"function"==typeof o?o.call(null!=l?l:{},{name:"Role",hash:{},data:t}):o))+"</a>\n"},5:function(n,l,a,e,t){var u;return'data-toggle="confirmation" data-on-confirm="startPasswordReset(\''+n.escapeExpression(n.lambda(null!=(u=null!=l?l.Person:l)?u.Email:u,l))+"')\" "},7:function(n,l,a,e,t){return"disabled"},9:function(n,l,a,e,t){var u;return'data-toggle="confirmation" data-on-confirm=\'rmUser("'+n.escapeExpression(n.lambda(null!=(u=null!=l?l.Person:l)?u.Email:u,l))+"\")'"},compiler:[7,">= 4.0.0"],main:function(n,l,a,e,t){var u,o=n.lambda,s=n.escapeExpression,r=null!=l?l:{},i=a.helperMissing;return"<tr data-email='"+s(o(null!=(u=null!=l?l.Person:l)?u.Email:u,l))+"'>\n    <td><input type='checkbox' data-email='"+s(o(null!=(u=null!=l?l.Person:l)?u.Email:u,l))+"' data-user-fn='"+s((a.fullname||l&&l.fullname||i).call(r,null!=l?l.Person:l,!0,{name:"fullname",hash:{},data:t}))+'\' class="shiftSelectable"/></td>\n    <td class="fn click" onclick="showLongProfileEditor(\''+s(o(null!=(u=null!=l?l.Person:l)?u.Email:u,l))+"')\">"+s((a.fullname||l&&l.fullname||i).call(r,null!=l?l.Person:l,{name:"fullname",hash:{},data:t}))+'</td>    \n    <td><a href="mailto:'+s(o(null!=(u=null!=l?l.Person:l)?u.Email:u,l))+'">'+s(o(null!=(u=null!=l?l.Person:l)?u.Email:u,l))+'</a></td>\n    <td data-text="'+s((a.roleLevel||l&&l.roleLevel||i).call(r,null!=l?l.Role:l,{name:"roleLevel",hash:{},data:t}))+'">\n'+(null!=(u=(a.ifEq||l&&l.ifEq||i).call(r,null!=l?l.Role:l,"student",{name:"ifEq",hash:{},fn:n.program(1,t,0),inverse:n.program(3,t,0),data:t}))?u:"")+"    </td>\n    <td data-text='"+s((a.dateFmt||l&&l.dateFmt||i).call(r,null!=l?l.LastVisit:l,"X","0",{name:"dateFmt",hash:{},data:t}))+"'>"+s((a.dateFmt||l&&l.dateFmt||i).call(r,null!=l?l.LastVisit:l,"DD/MM/YY HH:mm",{name:"dateFmt",hash:{},data:t}))+'</td>\n    <td>\n        <button type="button" tabindex="0" data-trigger="focus" role="button" data-user="'+s(o(null!=(u=null!=l?l.Person:l)?u.Email:u,l))+'" class="pull-left btn btn-info btn-xs" '+(null!=(u=a["if"].call(r,null!=l?l.Resetable:l,{name:"if",hash:{},fn:n.program(5,t,0),inverse:n.program(7,t,0),data:t}))?u:"")+'>\n            <i class="glyphicon glyphicon-refresh" title="re-invite ?"></i>\n        </button>\n        <button type="button" tabindex="0" data-trigger="focus" role="button" data-user="'+s(o(null!=(u=null!=l?l.Person:l)?u.Email:u,l))+'" class="pull-right btn btn-xs btn-danger" '+(null!=(u=a["if"].call(r,null!=l?l.Blocked:l,{name:"if",hash:{},fn:n.program(7,t,0),inverse:n.program(9,t,0),data:t}))?u:"")+'>\n            <i class="glyphicon glyphicon-remove"></i>\n        </button>       \n    </td>\n</tr>'},useData:!0})),Handlebars.registerPartial("watchlist-student",Handlebars.template({1:function(n,l,a,e,t){return'        <span class="pull-right">\n        <i class="glyphicon glyphicon-warning-sign text-warning" title="never logged in"></i>\n'},3:function(n,l,a,e,t,u,o){var s;return"    "+n.escapeExpression((a.report||l&&l.report||a.helperMissing).call(null!=l?l:{},l,null!=(s=null!=(s=null!=(s=null!=(s=null!=o[1]?o[1].Convention:o[1])?s.Student:s)?s.User:s)?s.Person:s)?s.Email:s,{name:"report",hash:{},data:t}))+"\n"},5:function(n,l,a,e,t,u,o){var s;return"    "+n.escapeExpression((a.survey||l&&l.survey||a.helperMissing).call(null!=l?l:{},l,null!=(s=null!=(s=null!=(s=null!=(s=null!=o[1]?o[1].Convention:o[1])?s.Student:s)?s.User:s)?s.Person:s)?s.Email:s,{name:"survey",hash:{},data:t}))+"\n"},7:function(n,l,a,e,t){var u,o=null!=l?l:{},s=a.helperMissing,r=n.escapeExpression;return'    <td class="text-center '+r((a.defenseStatus||l&&l.defenseStatus||s).call(o,null!=l?l.Defense:l,{name:"defenseStatus",hash:{},data:t}))+'"><a href="#" data-value="'+r((a.defenseGrade||l&&l.defenseGrade||s).call(o,null!=l?l.Defense:l,{name:"defenseGrade",hash:{},data:t}))+'" data-type="text" data-email="'+r(n.lambda(null!=(u=null!=l?l.Student:l)?u.Email:u,l))+'" class="grade">'+r((a.defenseGrade||l&&l.defenseGrade||s).call(o,null!=l?l.Defense:l,{name:"defenseGrade",
hash:{},data:t}))+"</a></td>\n"},9:function(n,l,a,e,t){return'    <td class="text-center"><i>n/a</i></td>\n'},11:function(n,l,a,e,t){var u;return'    <td class="text-center" data-text="1">\n        <a href="#" onclick="showAlumni(\''+n.escapeExpression(n.lambda(null!=(u=null!=(u=null!=(u=null!=(u=null!=l?l.Convention:l)?u.Student:u)?u.User:u)?u.Person:u)?u.Email:u,l))+'\')">\n            <i class="glyphicon glyphicon-star-empty"></i>\n        </a>\n    </td>\n'},13:function(n,l,a,e,t){return'    <td class="text-center" data-text="0"></td>           \n'},compiler:[7,">= 4.0.0"],main:function(n,l,a,e,t,u,o){var s,r=n.lambda,i=n.escapeExpression,d=null!=l?l:{},c=a.helperMissing;return'<tr data-email="'+i(r(null!=(s=null!=(s=null!=(s=null!=(s=null!=l?l.Convention:l)?s.Student:s)?s.User:s)?s.Person:s)?s.Email:s,l))+"\">\n    <td>\n    <input class=\"shiftSelectable\" type='checkbox'\ndata-stu='"+i(r(null!=(s=null!=(s=null!=(s=null!=(s=null!=l?l.Convention:l)?s.Student:s)?s.User:s)?s.Person:s)?s.Email:s,l))+"' data-stu-fn='"+i((a.fullname||l&&l.fullname||c).call(d,null!=(s=null!=(s=null!=(s=null!=l?l.Convention:l)?s.Student:s)?s.User:s)?s.Person:s,!0,{name:"fullname",hash:{},data:t}))+"'\ndata-tut='"+i(r(null!=(s=null!=(s=null!=(s=null!=l?l.Convention:l)?s.Tutor:s)?s.Person:s)?s.Email:s,l))+"' data-tut-fn='"+i((a.fullname||l&&l.fullname||c).call(d,null!=(s=null!=(s=null!=l?l.Convention:l)?s.Tutor:s)?s.Person:s,!0,{name:"fullname",hash:{},data:t}))+"'\ndata-sup='"+i(r(null!=(s=null!=(s=null!=l?l.Convention:l)?s.Supervisor:s)?s.Email:s,l))+"' data-sup-fn='"+i((a.fullname||l&&l.fullname||c).call(d,null!=(s=null!=l?l.Convention:l)?s.Supervisor:s,!0,{name:"fullname",hash:{},data:t}))+"'/>  \n    </td>\n    <td>\n    <a class='click fn' onclick=\"showInternship('"+i(r(null!=(s=null!=(s=null!=(s=null!=(s=null!=l?l.Convention:l)?s.Student:s)?s.User:s)?s.Person:s)?s.Email:s,l))+"')\">\n    "+i((a.fullname||l&&l.fullname||c).call(d,null!=(s=null!=(s=null!=(s=null!=l?l.Convention:l)?s.Student:s)?s.User:s)?s.Person:s,{name:"fullname",hash:{},data:t}))+"\n    </a>\n\n"+(null!=(s=a.unless.call(d,null!=(s=null!=(s=null!=(s=null!=l?l.Convention:l)?s.Student:s)?s.User:s)?s.LastVisit:s,{name:"unless",hash:{},fn:n.program(1,t,0,u,o),inverse:n.noop,data:t}))?s:"")+"    </td>\n    <td>"+i(r(null!=(s=null!=(s=null!=l?l.Convention:l)?s.Student:s)?s.Promotion:s,l))+"</td>\n    <td>"+i(r(null!=(s=null!=(s=null!=l?l.Convention:l)?s.Student:s)?s.Major:s,l))+'</td>\n    <td class="fn tutor" data-value="'+i(r(null!=(s=null!=(s=null!=(s=null!=l?l.Convention:l)?s.Tutor:s)?s.Person:s)?s.Email:s,l))+'" data-email="'+i(r(null!=(s=null!=(s=null!=(s=null!=l?l.Convention:l)?s.Tutor:s)?s.Person:s)?s.Email:s,l))+"\" title='"+i((a.fullname||l&&l.fullname||c).call(d,null!=(s=null!=(s=null!=l?l.Convention:l)?s.Tutor:s)?s.Person:s,{name:"fullname",hash:{},data:t}))+"'>"+i((a.fullname||l&&l.fullname||c).call(d,null!=(s=null!=(s=null!=l?l.Convention:l)?s.Tutor:s)?s.Person:s,{name:"fullname",hash:{},data:t}))+"</td>            \n"+(null!=(s=a.each.call(d,null!=l?l.Reports:l,{name:"each",hash:{},fn:n.program(3,t,0,u,o),inverse:n.noop,data:t}))?s:"")+"    \n"+(null!=(s=a.each.call(d,null!=l?l.Surveys:l,{name:"each",hash:{},fn:n.program(5,t,0,u,o),inverse:n.noop,data:t}))?s:"")+"\n"+(null!=(s=a["if"].call(d,null!=(s=null!=l?l.Defense:l)?s.Defenses:s,{name:"if",hash:{},fn:n.program(7,t,0,u,o),inverse:n.program(9,t,0,u,o),data:t}))?s:"")+"                \n"+(null!=(s=a["if"].call(d,null!=(s=null!=(s=null!=l?l.Convention:l)?s.Student:s)?s.Alumni:s,{name:"if",hash:{},fn:n.program(11,t,0,u,o),inverse:n.program(13,t,0,u,o),data:t}))?s:"")+"</tr>    "},useData:!0,useDepths:!0}));
this.wints=this.wints||{},this.wints.templates=this.wints.templates||{},this.wints.templates["alumni-modal"]=Handlebars.template({1:function(n,l,a,e,t){return"Permanent (CDI)"},3:function(n,l,a,e,t){return"Fixed (CDD)"},5:function(n,l,a,e,t){return"internship company"},7:function(n,l,a,e,t){return"other company"},9:function(n,l,a,e,t){return"France"},11:function(n,l,a,e,t){return"foreign country"},compiler:[7,">= 4.0.0"],main:function(n,l,a,e,t){var o,s=null!=l?l:{},i=a.helperMissing,r=n.escapeExpression;return'<div class="modal-dialog">\n    <div class="modal-content">\n        <div class="modal-body">                    \n                <fieldset>\n                <legend>The future of '+r((a.fullname||l&&l.fullname||i).call(s,null!=(o=null!=l?l.User:l)?o.Person:o,{name:"fullname",hash:{},data:t}))+'</legend>\n                <div class="form-horizontal">\n                <div class="form-group">\n                    <label class="col-sm-3 control-label">Email</label>                    \n                    <div class="col-sm-9">\n                        <label class="form-control-static">'+r(n.lambda(null!=(o=null!=l?l.Alumni:l)?o.Contact:o,l))+'</label>\n                    </div>\n                </div>\n                 \n                <div class="form-group">\n                    <label class="col-sm-3 control-label">Position</label>\n                    <div class="col-sm-9">\n                        <label class="form-control-static">'+r((a.alumniPosition||l&&l.alumniPosition||i).call(s,null!=(o=null!=l?l.Alumni:l)?o.Position:o,{name:"alumniPosition",hash:{},data:t}))+'</label>\n                    </div>\n                </div>\n\n                <div class="form-group" id="contract">\n                    <label class="col-sm-3 control-label">Contract</label>\n                    <div class="col-sm-9">\n                        <label class="form-control-static">\n                        '+(null!=(o=a["if"].call(s,null!=(o=null!=l?l.Alumni:l)?o.Permanent:o,{name:"if",hash:{},fn:n.program(1,t,0),inverse:n.program(3,t,0),data:t}))?o:"")+'                        \n                        </label>\n                    </div>                    \n                </div>   \n\n                <div class="form-group" id="company">\n                    <label class="col-sm-3 control-label">Company</label>\n                    <div class="col-sm-9">\n                        <label class="form-control-static">\n                        '+(null!=(o=a["if"].call(s,null!=(o=null!=l?l.Alumni:l)?o.SameCompany:o,{name:"if",hash:{},fn:n.program(5,t,0),inverse:n.program(7,t,0),data:t}))?o:"")+'                                            \n                        </label>\n                    </div>\n                </div> \n\n                <div class="form-group" id="country">\n                    <label class="col-sm-3 control-label">Country</label>\n                    <div class="col-sm-9">\n                        <label class="form-control-static">\n                        '+(null!=(o=a["if"].call(s,null!=(o=null!=l?l.Alumni:l)?o.France:o,{name:"if",hash:{},fn:n.program(9,t,0),inverse:n.program(11,t,0),data:t}))?o:"")+'                                            \n                        </label>\n                    </div>\n                </div>          \n                </div>                                  \n                </fieldset>\n            <div class="text-right form-group">\n                <button type="button" class="btn btn-default" onclick="hideModal()">Close</button>            \n            </div>                            \n        </div>\n    </div>\n</div>   '},useData:!0}),this.wints.templates["company-editor"]=Handlebars.template({compiler:[7,">= 4.0.0"],main:function(n,l,a,e,t){var o,s=n.lambda,i=n.escapeExpression;return'<div class="modal-dialog">\n    <div class="modal-content">\n        <div class="modal-body">   \n        <button type="button" class="close" aria-hidden="true" onclick="hideModal()"></button>                 \n            <div class="form-horizontal">\n                <fieldset>\n                    <legend>Company</legend>\n                <div class="form-group">\n                    <label for="lbl-name" class="col-sm-3 control-label">Name</label>\n                        <div class="col-sm-9">\n                            <input type="text" class="form-control" id="lbl-name" value="'+i(s(null!=(o=null!=(o=null!=l?l.Convention:l)?o.Company:o)?o.Name:o,l))+'"/>\n                        </div>\n                </div>\n                <div class="form-group">\n                    <label for="lbl-www" class="col-sm-3 control-label">Website</label>\n                        <div class="col-sm-9">\n                            <input type="text" class="form-control" id="lbl-www" value="'+i(s(null!=(o=null!=(o=null!=l?l.Convention:l)?o.Company:o)?o.WWW:o,l))+'"/>\n                        </div>\n                </div>                \n                <div class="form-group">\n                    <label for="lbl-title" class="col-sm-3 control-label">Subject title</label>\n                        <div class="col-sm-9">\n                            <input type="text" class="form-control" id="lbl-title" value="'+i(s(null!=(o=null!=(o=null!=l?l.Convention:l)?o.Company:o)?o.Title:o,l))+'"/>\n                        </div>\n                </div>                                \n                </fieldset>\n            </div>\n            <div class="text-right form-group">\n            <button type="button" class="btn btn-default" onclick="hideModal()">Cancel</button>\n            <button type="button" class="btn btn-primary" onclick="updateCompany()">Update</button>\n            </div>\n        </div>\n    </div>\n</div>    '},useData:!0}),this.wints.templates["convention-detail"]=Handlebars.template({1:function(n,l,a,e,t){var o,s=n.lambda,i=n.escapeExpression,r=null!=l?l:{},d=a.helperMissing;return'        <div class="form-group">\n            <label class="col-lg-3 control-label">Promotion</label>\n            <div class="col-lg-3">                \n                <select class="form-control" id="promotion-selecter" onchange="updatePromotion(\''+i(s(null!=(o=null!=(o=null!=(o=null!=(o=null!=(o=null!=l?l.I:l)?o.Convention:o)?o.Student:o)?o.User:o)?o.Person:o)?o.Email:o,l))+"','"+i(s(null!=(o=null!=(o=null!=(o=null!=l?l.I:l)?o.Convention:o)?o.Student:o)?o.Promotion:o,l))+"', this)\">\n                "+i((a.optionPromotions||l&&l.optionPromotions||d).call(r,null!=(o=null!=(o=null!=(o=null!=l?l.I:l)?o.Convention:o)?o.Student:o)?o.Promotion:o,{name:"optionPromotions",hash:{},data:t}))+'\n                </select>\n            </div>\n        </div>\n        <div class="form-group">\n            <label class="col-lg-3 control-label">Major</label>\n            <div class="col-lg-3">                \n                <select class="form-control" id="major-selecter" onchange="updateMajor(\''+i(s(null!=(o=null!=(o=null!=(o=null!=(o=null!=(o=null!=l?l.I:l)?o.Convention:o)?o.Student:o)?o.User:o)?o.Person:o)?o.Email:o,l))+"','"+i(s(null!=(o=null!=(o=null!=(o=null!=l?l.I:l)?o.Convention:o)?o.Student:o)?o.Major:o,l))+"', this)\">\n                "+i((a.optionMajors||l&&l.optionMajors||d).call(r,null!=(o=null!=(o=null!=(o=null!=l?l.I:l)?o.Convention:o)?o.Student:o)?o.Major:o,{name:"optionMajors",hash:{},data:t}))+"\n                </select>\n            </div>\n        </div>                          \n"},3:function(n,l,a,e,t){var o,s=n.lambda,i=n.escapeExpression;return'     <div class="form-group">\n        <label class="col-lg-3 control-label">Major/Promotion</label>\n        <div class="col-lg-9">\n         <label class="form-control-static">'+i(s(null!=(o=null!=(o=null!=(o=null!=l?l.I:l)?o.Convention:o)?o.Student:o)?o.Major:o,l))+"/"+i(s(null!=(o=null!=(o=null!=(o=null!=l?l.I:l)?o.Convention:o)?o.Student:o)?o.Promotion:o,l))+"</label>\n        </div>             \n     </div>\n"},5:function(n,l,a,e,t){var o,s=n.lambda,i=n.escapeExpression,r=null!=l?l:{},d=a.helperMissing;return'		<div class="form-group">\n			<label class="col-lg-3 control-label">Company</label>\n                <div class="col-lg-9">\n                	<label class="form-control-static">\n                        <a href="'+i(s(null!=(o=null!=(o=null!=(o=null!=l?l.I:l)?o.Convention:o)?o.Company:o)?o.WWW:o,l))+'">'+i(s(null!=(o=null!=(o=null!=(o=null!=l?l.I:l)?o.Convention:o)?o.Company:o)?o.Name:o,l))+'</a>\n                    </label>\n                </div>\n		</div>	\n		<div class="form-group">\n			<label class="col-lg-3 control-label">Title</label>\n            <div class="col-lg-9">\n                <label class="form-control-static text-justify">'+i(s(null!=(o=null!=(o=null!=(o=null!=l?l.I:l)?o.Convention:o)?o.Company:o)?o.Title:o,l))+'</label>\n            </div>\n		</div>				\n		<div class="form-group">\n			<label class="col-lg-3 control-label">Period</label>\n                <div class="col-lg-9">\n                	<label class="form-control-static">\n                	'+i((a.dateFmt||l&&l.dateFmt||d).call(r,null!=(o=null!=(o=null!=l?l.I:l)?o.Convention:o)?o.Begin:o,"ddd DD MMM YY",{name:"dateFmt",hash:{},data:t}))+"\n                	- \n                	"+i((a.dateFmt||l&&l.dateFmt||d).call(r,null!=(o=null!=(o=null!=l?l.I:l)?o.Convention:o)?o.End:o,"ddd DD MMM YY",{name:"dateFmt",hash:{},data:t}))+'\n                	</label>\n                </div>\n		</div>\n		<div class="form-group">\n			<label class="col-lg-3 control-label">Gratification</label>\n                <div class="col-lg-9">\n                	<label class="form-control-static">'+i(s(null!=(o=null!=(o=null!=l?l.I:l)?o.Convention:o)?o.Gratification:o,l))+' </label>\n                </div>\n		</div>				\n\n        <div class="form-group" id="supervisor-group">\n            <label class="col-lg-3 control-label">Supervisor</label>\n                <div class="col-lg-9">\n                    <label class="form-control-static fn">\n'+(null!=(o=n.invokePartial(e.person,null!=(o=null!=(o=null!=l?l.I:l)?o.Convention:o)?o.Supervisor:o,{name:"person",data:t,indent:"                    ",helpers:a,partials:e,decorators:n.decorators}))?o:"")+"                    </label>\n                </div>\n        </div>  \n"},7:function(n,l,a,e,t){var o,s=n.escapeExpression,i=n.lambda;return'        <div class="form-group">\n        <label class="col-lg-3 control-label">Switch to</label>\n            <div class="col-lg-9">\n                <div class="input-group">\n                <select class="fn form-control" id="tutor-selecter">\n                    '+s((a.optionUsers||l&&l.optionUsers||a.helperMissing).call(null!=l?l:{},null!=l?l.Teachers:l,null!=(o=null!=(o=null!=l?l.I:l)?o.Convention:o)?o.Tutor:o,{name:"optionUsers",hash:{},data:t}))+'\n                </select>\n                <span class="input-group-btn">\n                <button type="button" class="btn btn-warning" data-placement=\'right\' data-toggle="confirmation" data-on-confirm="switchTutor(\''+s(i(null!=(o=null!=(o=null!=(o=null!=(o=null!=(o=null!=l?l.I:l)?o.Convention:o)?o.Student:o)?o.User:o)?o.Person:o)?o.Email:o,l))+"', '"+s(i(null!=(o=null!=(o=null!=(o=null!=(o=null!=l?l.I:l)?o.Convention:o)?o.Tutor:o)?o.Person:o)?o.Email:o,l))+'\')">\n                    <i class="glyphicon glyphicon-random"></i>\n                </button>                \n                </span>\n                </div>\n            </div>\n        </div>\n'},9:function(n,l,a,e,t,o,s){var i,r=null!=l?l:{};return'        <div class="form-group">\n        <label class="col-lg-3 control-label">Reset surveys</label>\n        <div class="col-lg-9">\n'+(null!=(i=a.each.call(r,null!=(i=null!=l?l.I:l)?i.Surveys:i,{name:"each",hash:{},fn:n.program(10,t,0,o,s),inverse:n.noop,data:t}))?i:"")+'        </div>\n        </div>\n\n        <div class="form-group">\n        <label class="col-lg-3 control-label">Request surveys</label>\n        <div class="col-lg-9">\n'+(null!=(i=a.each.call(r,null!=(i=null!=l?l.I:l)?i.Surveys:i,{name:"each",hash:{},fn:n.program(17,t,0,o,s),inverse:n.noop,data:t}))?i:"")+"        </div>\n        </div>\n"},10:function(n,l,a,e,t,o,s){var i,r,d=null!=l?l:{},c=n.escapeExpression,u=a.helperMissing,p="function";return'                    <button type="button" class="btn '+(null!=(i=a["if"].call(d,null!=l?l.Delivery:l,{name:"if",hash:{},fn:n.program(11,t,0,o,s),inverse:n.program(13,t,0,o,s),data:t}))?i:"")+' btn-sm" data-placement=\'bottom\' data-toggle="confirmation" data-on-confirm="resetSurvey(this,\''+c(n.lambda(null!=(i=null!=(i=null!=(i=null!=(i=null!=(i=null!=s[1]?s[1].I:s[1])?i.Convention:i)?i.Student:i)?i.User:i)?i.Person:i)?i.Email:i,l))+"','"+c((r=null!=(r=a.Kind||(null!=l?l.Kind:l))?r:u,typeof r===p?r.call(d,{name:"Kind",hash:{},data:t}):r))+"')\" "+(null!=(i=a.unless.call(d,null!=l?l.Delivery:l,{name:"unless",hash:{},fn:n.program(15,t,0,o,s),inverse:n.noop,data:t}))?i:"")+">\n                        "+c((r=null!=(r=a.Kind||(null!=l?l.Kind:l))?r:u,typeof r===p?r.call(d,{name:"Kind",hash:{},data:t}):r))+"\n                    </button>                    \n"},11:function(n,l,a,e,t){return"btn-danger"},13:function(n,l,a,e,t){return"btn-default"},15:function(n,l,a,e,t){return'disabled title="not uploaded"'},17:function(n,l,a,e,t,o,s){var i;return null!=(i=a["if"].call(null!=l?l:{},null!=l?l.Delivery:l,{name:"if",hash:{},fn:n.program(18,t,0,o,s),inverse:n.program(20,t,0,o,s),data:t}))?i:""},18:function(n,l,a,e,t){var o;return'                    <button type="button" class="btn btn-default btn-sm" disabled title="already uploaded">'+n.escapeExpression((o=null!=(o=a.Kind||(null!=l?l.Kind:l))?o:a.helperMissing,"function"==typeof o?o.call(null!=l?l:{},{name:"Kind",hash:{},data:t}):o))+"</button>\n"},20:function(n,l,a,e,t,o,s){var i,r,d=n.escapeExpression,c=null!=l?l:{},u=a.helperMissing,p="function";return'                    <button type="button" class="btn btn-danger btn-sm" data-placement=\'bottom\' data-toggle="confirmation" data-on-confirm="requestSurvey(this,\''+d(n.lambda(null!=(i=null!=(i=null!=(i=null!=(i=null!=(i=null!=s[2]?s[2].I:s[2])?i.Convention:i)?i.Student:i)?i.User:i)?i.Person:i)?i.Email:i,l))+"','"+d((r=null!=(r=a.Kind||(null!=l?l.Kind:l))?r:u,typeof r===p?r.call(c,{name:"Kind",hash:{},data:t}):r))+"')\">\n                        "+d((r=null!=(r=a.Kind||(null!=l?l.Kind:l))?r:u,typeof r===p?r.call(c,{name:"Kind",hash:{},data:t}):r))+'                        \n                        (<i class="glyphicon glyphicon-time"></i> '+d((a.daysSince||l&&l.daysSince||u).call(c,null!=l?l.LastInvitation:l,{name:"daysSince",hash:{},data:t}))+"  days.)\n                    </button>                    \n"},compiler:[7,">= 4.0.0"],main:function(n,l,a,e,t,o,s){var i,r=null!=l?l:{};return'<div class="modal-dialog">\n<div class="modal-content"> \n    <div class="modal-body">\n        <button type="button" class="close" aria-hidden="true" onclick="hideModal()"></button>\n        <fieldset>\n            <legend>\n'+(null!=(i=n.invokePartial(e.person,null!=(i=null!=(i=null!=(i=null!=(i=null!=l?l.I:l)?i.Convention:i)?i.Student:i)?i.User:i)?i.Person:i,{name:"person",data:t,indent:"            ",helpers:a,partials:e,decorators:n.decorators}))?i:"")+'            </legend>\n    <div class="form-horizontal">	        \n'+(null!=(i=a["if"].call(r,null!=l?l.Editable:l,{name:"if",hash:{},fn:n.program(1,t,0,o,s),inverse:n.program(3,t,0,o,s),data:t}))?i:"")+(null!=(i=a.unless.call(r,null!=l?l.Editable:l,{name:"unless",hash:{},fn:n.program(5,t,0,o,s),inverse:n.noop,data:t}))?i:"")+'		<div class="form-group" id="tutor-group">\n			<label class="col-lg-3 control-label">Academic tutor</label>\n                <div class="col-lg-9">\n                	<label class="form-control-static fn">\n'+(null!=(i=n.invokePartial(e.person,null!=(i=null!=(i=null!=(i=null!=l?l.I:l)?i.Convention:i)?i.Tutor:i)?i.Person:i,{name:"person",data:t,indent:"                    ",helpers:a,partials:e,decorators:n.decorators}))?i:"")+"                    </label>\n                </div>\n		</div>	    \n"+(null!=(i=a["if"].call(r,null!=l?l.Editable:l,{name:"if",hash:{},fn:n.program(7,t,0,o,s),inverse:n.noop,data:t}))?i:"")+"\n"+(null!=(i=(a.ifRole||l&&l.ifRole||a.helperMissing).call(r,4,{name:"ifRole",hash:{},fn:n.program(9,t,0,o,s),inverse:n.noop,data:t}))?i:"")+'</div>\n    </fieldset>\n    <div class="text-right">\n    <button type="button" class="btn btn-default" aria-hidden="true" onclick="hideModal()">Close</button></div>    \n        </div>\n        </div>\n        </div>'},usePartial:!0,useData:!0,useDepths:!0}),this.wints.templates["convention-validator"]=Handlebars.template({1:function(n,l,a,e,t){var o,s=n.lambda,i=n.escapeExpression;return'				<option value="'+i(s(null!=(o=null!=(o=null!=(o=null!=l?l.Student:l)?o.User:o)?o.Person:o)?o.Email:o,l))+'">'+i((a.fullname||l&&l.fullname||a.helperMissing).call(null!=l?l:{},null!=(o=null!=(o=null!=l?l.Student:l)?o.User:o)?o.Person:o,{name:"fullname",hash:{},data:t}))+" ("+i(s(null!=(o=null!=l?l.Student:l)?o.Promotion:o,l))+")</option>\n"},compiler:[7,">= 4.0.0"],main:function(n,l,a,e,t){var o,s=n.lambda,i=n.escapeExpression,r=null!=l?l:{};return'<div class="modal-dialog">\n<div class="modal-content"> \n    <div class="modal-body">\n        <button type="button" class="close" aria-hidden="true" onclick="hideModal()"></button>\n<fieldset>\n	<legend class="fn" data-email="'+i(s(null!=(o=null!=(o=null!=(o=null!=l?l.S:l)?o.User:o)?o.Person:o)?o.Email:o,l))+'">					\n		'+i((a.fullname||l&&l.fullname||a.helperMissing).call(r,null!=(o=null!=(o=null!=l?l.S:l)?o.User:o)?o.Person:o,{name:"fullname",hash:{},data:t}))+" - "+i(s(null!=(o=null!=l?l.S:l)?o.Promotion:o,l))+"/"+i(s(null!=(o=null!=l?l.S:l)?o.Major:o,l))+'\n	</legend>	\n	<div class="alert alert-dismissible alert-danger hidden text-center">\n               <button type="button" class="close" data-dismiss="alert"></button>\n               <p></p>\n	</div>\n\n	<div class="form-horizontal">	\n	<div class="form-group">\n		<label class="col-lg-3 control-label">Available conventions</label>\n		<div class="col-lg-9">\n		<select class="fn form-control" id="convention-selecter" onchange="showConvention(this)">\n'+(null!=(o=a.each.call(r,null!=l?l.Conventions:l,{name:"each",hash:{},fn:n.program(1,t,0),inverse:n.noop,data:t}))?o:"")+'		</select>\n		</div>\n	</div>		\n	</div>\n	<div id="convention-detail">\n'+(null!=(o=n.invokePartial(e["convention-editor"],l,{name:"convention-editor",data:t,indent:"		",helpers:a,partials:e,decorators:n.decorators}))?o:"")+"	</div>\n</fieldset>\n</div>\n</div>\n</div>"},usePartial:!0,useData:!0}),this.wints.templates["conventions-header"]=Handlebars.template({1:function(n,l,a,e,t){var o;return null!=(o=n.invokePartial(e["conventions-convention"],l,{name:"conventions-convention",data:t,indent:"    ",helpers:a,partials:e,decorators:n.decorators}))?o:""},compiler:[7,">= 4.0.0"],main:function(n,l,a,e,t){var o,s=null!=l?l:{};return'    <h3><span class="count">'+n.escapeExpression((a.len||l&&l.len||a.helperMissing).call(s,l,{name:"len",hash:{},data:t}))+'</span> convention(s)</h3>\n\n<table class="table table-hover tablesorter" id="table-conventions" data-sortlist="[[1,0]]">\n<thead>\n    <tr>\n        <th class="sorter-false"></th>\n        <th>Student</th>\n        <th>Promotion/Major</th>\n        <th>Period</th>        \n        <th>Tutor</th>\n        <th>Gratification</th>\n        <th>Creation</th>   \n        <th>Validated</th>\n        <th>Skip</th>             \n    </tr>\n</thead>\n<tbody>\n'+(null!=(o=a.each.call(s,l,{name:"each",hash:{},fn:n.program(1,t,0),inverse:n.noop,data:t}))?o:"")+"</tbody>\n</table>"},usePartial:!0,useData:!0}),this.wints.templates.error=Handlebars.template({compiler:[7,">= 4.0.0"],main:function(n,l,a,e,t){return'<div class="modal-dialog">\n<div class="modal-content bg-danger"> \n    <div class="modal-body">\n        <button type="button" class="close" aria-hidden="true" onclick="hideModal()"></button>        \n        <p class="text-center">'+n.escapeExpression(n.lambda(l,l))+'</p>\n        <div class="text-center">\n            <button type="button" class="btn btn-default" onclick="hideModal()">Ok</button>                \n        </div>\n    </div>    \n</div>    \n</div>\n        '},useData:!0}),this.wints.templates["import-error"]=Handlebars.template({1:function(n,l,a,e,t){var o,s,i=null!=l?l:{},r=a.helperMissing,d=n.escapeExpression,c=n.lambda;return"            <tr>\n                <td>"+d((a.fullname||l&&l.fullname||r).call(i,null!=(o=null!=(o=null!=l?l.Student:l)?o.User:o)?o.Person:o,{name:"fullname",hash:{},data:t}))+"</td>\n                <td>"+d(c(null!=(o=null!=(o=null!=(o=null!=l?l.Student:l)?o.User:o)?o.Person:o)?o.Email:o,l))+"</td>\n                <td>"+d(c(null!=(o=null!=l?l.Student:l)?o.Promotion:o,l))+" / "+d(c(null!=(o=null!=l?l.Student:l)?o.Major:o,l))+"</td>                \n                <td>"+d((s=null!=(s=a.Reason||(null!=l?l.Reason:l))?s:r,"function"==typeof s?s.call(i,{name:"Reason",hash:{},data:t}):s))+"</td>\n            </tr>\n"},3:function(n,l,a,e,t){var o,s,i=null!=l?l:{},r=a.helperMissing,d=n.escapeExpression,c=n.lambda;return'            <tr class="warning">\n                <td>'+d((a.fullname||l&&l.fullname||r).call(i,null!=(o=null!=(o=null!=l?l.Student:l)?o.User:o)?o.Person:o,{name:"fullname",hash:{},data:t}))+"</td>\n                <td>"+d(c(null!=(o=null!=(o=null!=(o=null!=l?l.Student:l)?o.User:o)?o.Person:o)?o.Email:o,l))+"</td>\n                <td>"+d(c(null!=(o=null!=l?l.Student:l)?o.Promotion:o,l))+" / "+d(c(null!=(o=null!=l?l.Student:l)?o.Major:o,l))+"</td>                                \n                <td>"+d((s=null!=(s=a.Reason||(null!=l?l.Reason:l))?s:r,"function"==typeof s?s.call(i,{name:"Reason",hash:{},data:t}):s))+"</td>\n            </tr>\n"},compiler:[7,">= 4.0.0"],main:function(n,l,a,e,t){var o,s,i=null!=l?l:{},r=a.helperMissing,d=n.escapeExpression;return'<div class="modal-dialog">\n<div class="modal-content"> \n    <div class="modal-body">\n        <button type="button" class="close" aria-hidden="true" onclick="hideModal()"></button>\n        <legend>Over '+d((s=null!=(s=a.Nb||(null!=l?l.Nb:l))?s:r,"function"==typeof s?s.call(i,{name:"Nb",hash:{},data:t}):s))+": "+d((a.len||l&&l.len||r).call(i,null!=l?l.Errors:l,{name:"len",hash:{},data:t}))+" failure(s); "+d((a.len||l&&l.len||r).call(i,null!=l?l.Ignored:l,{name:"len",hash:{},data:t}))+' ignored</legend>   \n        <table class="table table-hover">\n        <thead>\n            <tr>\n                <th>Student</th><th>Email</th><th>Promotion</th><th>Status</th>\n            </tr>\n        </thead>\n'+(null!=(o=a.each.call(i,null!=l?l.Errors:l,{name:"each",hash:{},fn:n.program(1,t,0),inverse:n.noop,data:t}))?o:"")+(null!=(o=a.each.call(i,null!=l?l.Ignored:l,{name:"each",hash:{},fn:n.program(3,t,0),inverse:n.noop,data:t}))?o:"")+'        </table>\n        <div class="text-right form-group">\n            <button type="button" class="btn btn-default" onclick="hideModal()">Close</button>            \n        </div>\n    </div>    \n</div>    \n</div>\n        '},useData:!0}),this.wints.templates.logs=Handlebars.template({1:function(n,l,a,e,t){var o=n.lambda,s=n.escapeExpression;return'                    <option name="'+s(o(l,l))+'">'+s(o(l,l))+"</option> \n"},compiler:[7,">= 4.0.0"],main:function(n,l,a,e,t){var o;return'<h1>Logs</h1>\n<div class="form-horizontal">\n<div class="form-group" >    \n        <div class="col-lg-8">\n            <select class="form-control" id="logs" onchange="showLog()">\n'+(null!=(o=a.each.call(null!=l?l:{},l,{name:"each",hash:{},fn:n.program(1,t,0),inverse:n.noop,data:t}))?o:"")+'            </select>                         \n        </div>                \n</div>\n</div>\n\n<div class="row">\n<div class="col-lg-11">\n    <pre id="log">Select a log</pre>\n</div>\n<div class="col-lg-1">\n<div class="pull-right affix text-left">    \n    <div><a class="btn btn-default" href="#top"><i class="glyphicon glyphicon-chevron-up"></i></a></div>\n    <div><a class="btn btn-default" href="#bottom"><i class="glyphicon glyphicon-chevron-down"></i></a></div>\n</div>\n</div>\n</div>\n'},useData:!0}),this.wints.templates["long-profile-editor"]=Handlebars.template({compiler:[7,">= 4.0.0"],main:function(n,l,a,e,t){var o,s=n.lambda,i=n.escapeExpression;return'<div class="modal-dialog">\n<div class="modal-content"> \n    <div class="modal-body">\n        <button type="button" class="close" aria-hidden="true" onclick="hideModal()"></button>\n        <div class="form-horizontal">\n            <fieldset>     \n            <legend>Profile</legend>   \n                <div class="form-group">\n                    <label for="profile-telephon" class="col-lg-2 control-label">Firstname</label>\n                    <div class="col-lg-10">\n                        <input data-placement="right" data-container="body" data-toggle="popover" type="text" class="form-control" id="profile-firstname" value="'+i(s(null!=(o=null!=l?l.Person:l)?o.Firstname:o,l))+'">\n                    </div>\n                </div>\n                <div class="form-group">\n                    <label for="profile-lastname" class="col-lg-2 control-label">Lastname</label>\n                    <div class="col-lg-10">\n                        <input data-placement="right" data-container="body" data-toggle="popover" type="text" class="form-control" id="profile-lastname" value="'+i(s(null!=(o=null!=l?l.Person:l)?o.Lastname:o,l))+'">\n                    </div>\n                </div>\n                <div class="form-group">\n                    <label for="profile-tel" class="col-lg-2 control-label">Telephon</label>\n                    <div class="col-lg-10">\n                        <input data-placement="right" data-container="body" data-toggle="popover" type="text" class="form-control" id="profile-tel" value="'+i(s(null!=(o=null!=l?l.Person:l)?o.Tel:o,l))+'">\n                    </div>\n                </div>\n            </fieldset>\n        </div>\n        <div class="text-right form-group">\n            <button type="button" class="btn btn-default" onclick="hideModal()">Cancel</button>\n            <button type="button" class="btn btn-primary" onclick="longUpdateProfile(\''+i(s(null!=(o=null!=l?l.Person:l)?o.Email:o,l))+"')\">Update</button>            \n        </div>\n    </div>    \n</div>    \n</div>\n        "},useData:!0}),this.wints.templates["new-user"]=Handlebars.template({compiler:[7,">= 4.0.0"],main:function(n,l,a,e,t){var o,s=n.lambda,i=n.escapeExpression;return'<div class="modal-dialog">\n<div class="modal-content"> \n    <div class="modal-body">\n        <button type="button" class="close" aria-hidden="true" onclick="hideModal()"></button>\n        <div class="form-horizontal">\n            <fieldset>     \n            <legend>New user</legend>   \n                <div class="alert alert-dismissible alert-danger hidden">\n                <button type="button" class="close" data-dismiss="alert"></button>\n                </div>\n\n                <div class="form-group">\n                    <label for="new-firstname" class="col-lg-2 control-label">Firstname</label>\n                    <div class="col-lg-10">\n                        <input data-placement="right" data-container="body" data-toggle="popover" type="text" class="form-control" id="new-firstname" value="'+i(s(null!=(o=null!=l?l.Person:l)?o.Firstname:o,l))+'">\n                    </div>\n                </div>\n                <div class="form-group">\n                    <label for="new-lastname" class="col-lg-2 control-label">Lastname</label>\n                    <div class="col-lg-10">\n                        <input data-placement="right" data-container="body" data-toggle="popover" type="text" class="form-control" id="new-lastname" value="'+i(s(null!=(o=null!=l?l.Person:l)?o.Lastname:o,l))+'">\n                    </div>\n                </div>\n                                <div class="form-group">\n                    <label for="new-lastname" class="col-lg-2 control-label">Email</label>\n                    <div class="col-lg-10">\n                        <input data-placement="right" data-container="body" data-toggle="popover" type="text" class="form-control" id="new-email" value="'+i(s(null!=(o=null!=l?l.Person:l)?o.Lastname:o,l))+'">\n                    </div>\n                </div>\n                <div class="form-group">\n                    <label for="new-tel" class="col-lg-2 control-label">Telephon</label>\n                    <div class="col-lg-10">\n                        <input data-placement="right" data-container="body" data-toggle="popover" type="text" class="form-control" id="new-tel" value="'+i(s(null!=(o=null!=l?l.Person:l)?o.Tel:o,l))+'">\n                    </div>\n                </div>\n                <div class="form-group">\n                    <label for="new-role" class="col-lg-2 control-label">Role</label>\n                    <div class="col-lg-10">\n                            <select id="new-role" class="form-control">\n                            '+i((a.optionRoles||l&&l.optionRoles||a.helperMissing).call(null!=l?l:{},"",{name:"optionRoles",hash:{},data:t}))+'\n                        </select>\n                    </div>\n                </div>\n\n            </fieldset>\n        </div>\n        <div class="text-right form-group">\n            <button type="button" class="btn btn-default" onclick="hideModal()">Cancel</button>\n            <button type="button" class="btn btn-primary" onclick="newUser()">Create</button>            \n        </div>\n    </div>    \n</div>    \n</div>\n        '},useData:!0}),this.wints.templates["password-editor"]=Handlebars.template({compiler:[7,">= 4.0.0"],main:function(n,l,a,e,t){return'<div class="modal-dialog">\n<div class="modal-content"> \n    <div class="modal-body">\n        <button type="button" class="close" aria-hidden="true" onclick="hideModal()"></button>\n        <fieldset>\n            <legend>New password</legend>        \n            <p> Click the \'Reset\' button to receive a mail describing the reset procedure.</p>            \n        </div>\n        <div class="alert text-center alert-success hidden">                \n                An email has been send.\n        </div>\n        <div class="text-center form-group">\n            <button type="button" class="btn btn-default" onclick="hideModal()">Cancel</button>\n            <button type="button" class="btn btn-primary" onclick="startResetPassword()">Reset</button>\n        </div>\n        </fieldset>\n    </div>    \n</div>    \n</div>\n        '},useData:!0}),this.wints.templates["password-reset"]=Handlebars.template({compiler:[7,">= 4.0.0"],main:function(n,l,a,e,t){return'<div class="modal-dialog">\n<div class="modal-content"> \n    <div class="modal-body">\n        <button type="button" class="close" aria-hidden="true" onclick="hideModal()"></button>\n        <div class="form-horizontal">\n            <fieldset>     \n            <legend>Password update</legend>   \n                <div class="form-group">\n                    <label for="password-current" class="col-lg-2 control-label">Current</label>\n                    <div class="col-lg-10">\n                        <input data-placement="right" data-container="body" data-toggle="popover" type="password" class="form-control" id="password-current">\n                    </div>\n                </div>\n                <p>Please enter your new password. It must be at least 8 characters long.</p>\n                <div class="form-group">\n                    <label for="password-new" class="col-lg-2 control-label">New</label>\n                    <div class="col-lg-10">\n                        <input data-placement="right" data-container="body" data-toggle="popover" type="password" class="form-control" id="password-new">\n                    </div>\n                </div>\n                <div class="form-group">\n                    <label for="password-confirm" class="col-lg-2 control-label">Confirm</label>\n                    <div class="col-lg-10">\n                        <input data-placement="right" data-container="body" data-toggle="popover" type="password" class="form-control" id="password-confirm">\n                    </div>\n                </div>\n            </fieldset>\n        </div>\n        <div class="text-right form-group">\n            <button type="button" class="btn btn-default" onclick="hideModal()">Cancel</button>\n            <button type="button" class="btn btn-primary" onclick="updatePassword()">Update</button            \n        </div>\n    </div>    \n</div>    \n</div>\n        ';
},useData:!0}),this.wints.templates["placement-header"]=Handlebars.template({1:function(n,l,a,e,t){var o;return'<div id="feeder-issue" class="alert alert-warning">\n <button type="button" class="close" data-dismiss="alert" aria-label="Close"><span aria-hidden="true">&times;</span></button>\n    <h5>Warning:</h5>\n    <ul>\n'+(null!=(o=a.each.call(null!=l?l:{},null!=(o=null!=l?l.Errors:l)?o.Warnings:o,{name:"each",hash:{},fn:n.program(2,t,0),inverse:n.noop,data:t}))?o:"")+"    </ul>        \n</div>\n"},2:function(n,l,a,e,t){return"        <li>"+n.escapeExpression(n.lambda(l,l))+"</li>\n"},4:function(n,l,a,e,t){var o;return null!=(o=n.invokePartial(e["placement-student"],l,{name:"placement-student",data:t,indent:"    ",helpers:a,partials:e,decorators:n.decorators}))?o:""},compiler:[7,">= 4.0.0"],main:function(n,l,a,e,t){var o,s,i=null!=l?l:{},r=a.helperMissing,d=n.escapeExpression,c="function";return(null!=(o=a["if"].call(i,null!=(o=null!=l?l.Errors:l)?o.Warnings:o,{name:"if",hash:{},fn:n.program(1,t,0),inverse:n.noop,data:t}))?o:"")+"\n<h3>"+d((a.len||l&&l.len||r).call(i,null!=l?l.Students:l,{name:"len",hash:{},data:t}))+' Student(s) - <small><span id="placed_cnt">'+d((s=null!=(s=a.Ints||(null!=l?l.Ints:l))?s:r,typeof s===c?s.call(i,{name:"Ints",hash:{},data:t}):s))+'</span> / <span id="managed_cnt">'+d((s=null!=(s=a.Managed||(null!=l?l.Managed:l))?s:r,typeof s===c?s.call(i,{name:"Managed",hash:{},data:t}):s))+'</span> placed</small></h3>\n\n<button type="button" class="btn btn-default btn-sm" onclick="userMailing(\'#table-placement\')">\n    <i class="glyphicon glyphicon-envelope"></i> mail selection\n</button>\n\n<button type="button" onclick="showRawFullname(\'tbody\',\'stu\')" data-toggle=\'modal\' class="btn btn-default btn-sm">\n    <i class="glyphicon glyphicon-list"></i> fullname from selection\n</button>    \n\n<table class="table table-hover tablesorter" id="table-placement" data-sortlist="[[1,0]]">\n<thead>\n    <tr>\n        <th class="sorter-false"><input type=\'checkbox\' class="globalSelect" data-context="table-placement"/></th>\n        <th>Lastname, Firstname</th>\n        <th>Managed</th>        \n        <th>Promotion</th>        \n        <th>Major</th>\n        <th class="col-md-2">Company</th>\n        <th>Period</th>\n        <th>Tutor</th>\n        <th>Gratif.</th>       \n    </tr>\n</thead>\n<tbody>\n'+(null!=(o=a.each.call(i,null!=l?l.Students:l,{name:"each",hash:{},fn:n.program(4,t,0),inverse:n.noop,data:t}))?o:"")+"</tbody>\n</table>"},usePartial:!0,useData:!0}),this.wints.templates["profile-editor"]=Handlebars.template({compiler:[7,">= 4.0.0"],main:function(n,l,a,e,t){var o,s=n.lambda,i=n.escapeExpression;return'<div class="modal-dialog">\n<div class="modal-content"> \n    <div class="modal-body">\n        <button type="button" class="close" aria-hidden="true" onclick="hideModal()"></button>\n        <div class="form-horizontal">\n            <fieldset>     \n            <legend>Profile</legend>   \n                <div class="form-group">\n                    <label for="profile-telephon" class="col-lg-2 control-label">Firstname</label>\n                    <div class="col-lg-10">\n                        <input data-placement="right" data-container="body" data-toggle="popover" type="text" class="form-control" id="profile-firstname" value="'+i(s(null!=(o=null!=l?l.Person:l)?o.Firstname:o,l))+'">\n                    </div>\n                </div>\n                <div class="form-group">\n                    <label for="profile-lastname" class="col-lg-2 control-label">Lastname</label>\n                    <div class="col-lg-10">\n                        <input data-placement="right" data-container="body" data-toggle="popover" type="text" class="form-control" id="profile-lastname" value="'+i(s(null!=(o=null!=l?l.Person:l)?o.Lastname:o,l))+'">\n                    </div>\n                </div>\n                <div class="form-group">\n                    <label for="profile-tel" class="col-lg-2 control-label">Telephon</label>\n                    <div class="col-lg-10">\n                        <input data-placement="right" data-container="body" data-toggle="popover" type="text" class="form-control" id="profile-tel" value="'+i(s(null!=(o=null!=l?l.Person:l)?o.Tel:o,l))+'">\n                    </div>\n                </div>\n            </fieldset>\n        </div>\n        <div class="text-right form-group">\n            <button type="button" class="btn btn-default" onclick="hideModal()">Cancel</button>\n            <button type="button" class="btn btn-primary" onclick="updateProfile(\''+i(s(null!=(o=null!=l?l.Person:l)?o.Email:o,l))+"')\">Update</button>            \n        </div>\n    </div>    \n</div>    \n</div>\n        "},useData:!0}),this.wints.templates.progress=Handlebars.template({compiler:[7,">= 4.0.0"],main:function(n,l,a,e,t){return'<div class="modal-dialog">\n    <div class="modal-content">\n        <div class="modal-header"></div>\n        <div class="modal-body">   \n            <label>Uploading ...</label>             \n            <div class="progress">\n                <div id="progress-value" class="progress-bar" role="progressbar" aria-valuenow="0" aria-valuemin="0" aria-valuemax="100" style="width: 0%">0%</div>\n            </div>            \n        </div>\n        <div class="modal-footer"></div>                            \n    </div>\n</div>'},useData:!0}),this.wints.templates.raw=Handlebars.template({compiler:[7,">= 4.0.0"],main:function(n,l,a,e,t){var o,s=null!=l?l:{},i=a.helperMissing,r="function",d=n.escapeExpression;return'<div class="modal-dialog">\n<div class="modal-content"> \n    <div class="modal-body">\n        <button type="button" class="close" aria-hidden="true" onclick="hideModal()"></button>        \n        <legend>'+d((o=null!=(o=a.Title||(null!=l?l.Title:l))?o:i,typeof o===r?o.call(s,{name:"Title",hash:{},data:t}):o))+'</legend>\n        <pre onclick="selectText(this)" class="raw">'+d((o=null!=(o=a.Cnt||(null!=l?l.Cnt:l))?o:i,typeof o===r?o.call(s,{name:"Cnt",hash:{},data:t}):o))+"</pre>       \n    </div>\n	</div>\n</div>\n"},useData:!0}),this.wints.templates["report-modal"]=Handlebars.template({1:function(n,l,a,e,t){return"checked"},3:function(n,l,a,e,t){var o,s=null!=l?l:{},i=a.helperMissing,r="function",d=n.escapeExpression;return'                            <a href="api/v2/reports/'+d((o=null!=(o=a.Email||(null!=l?l.Email:l))?o:i,typeof o===r?o.call(s,{name:"Email",hash:{},data:t}):o))+"/"+d((o=null!=(o=a.Kind||(null!=l?l.Kind:l))?o:i,typeof o===r?o.call(s,{name:"Kind",hash:{},data:t}):o))+'/content">\n                                <i class="glyphicon glyphicon-cloud-download"></i> download                    \n                            </a>\n'},5:function(n,l,a,e,t){return"                            n/a\n"},7:function(n,l,a,e,t){return"                                "+n.escapeExpression((a.dateFmt||l&&l.dateFmt||a.helperMissing).call(null!=l?l:{},null!=l?l.Delivery:l,"D MMM YYYY HH:mm",{name:"dateFmt",hash:{},data:t}))+"     \n"},9:function(n,l,a,e,t){return"                                n/a\n"},11:function(n,l,a,e,t){return'<span class="text-danger">Deadline missed !</span>'},13:function(n,l,a,e,t){var o,s,i=null!=l?l:{},r=a.helperMissing;return(null!=(o=a["if"].call(i,null!=l?l.ToGrade:l,{name:"if",hash:{},fn:n.program(14,t,0),inverse:n.noop,data:t}))?o:"")+'                    <div class="form-group">\n                        <label for="comments" class="control-label col-sm-offset-1">Comment <small><a href="/assets/consignes-rapports.pdf">(expectations)</a></small></label>                        \n                        <textarea placeholder="insert review here..." id="comment" rows="9" class="col-sm-10 col-sm-offset-1" '+(null!=(o=(a.ifManage||l&&l.ifManage||r).call(i,l,{name:"ifManage",hash:{},fn:n.program(17,t,0),inverse:n.program(21,t,0),data:t}))?o:"")+">"+n.escapeExpression((s=null!=(s=a.Comment||(null!=l?l.Comment:l))?s:r,"function"==typeof s?s.call(i,{name:"Comment",hash:{},data:t}):s))+"</textarea>\n                    </div>                        \n"},14:function(n,l,a,e,t){var o,s=null!=l?l:{};return'                        <div class="form-group">\n                            <label for="grade" class="col-sm-2 control-label">Grade</label>\n                            <div class="col-sm-9">\n                                <input type="number" class="form-control" id="grade" '+(null!=(o=a["if"].call(s,null!=l?l.Reviewed:l,{name:"if",hash:{},fn:n.program(15,t,0),inverse:n.noop,data:t}))?o:"")+" "+(null!=(o=(a.ifManage||l&&l.ifManage||a.helperMissing).call(s,l,{name:"ifManage",hash:{},fn:n.program(17,t,0),inverse:n.program(19,t,0),data:t}))?o:"")+"/>                                \n                            </div>\n                        </div>\n"},15:function(n,l,a,e,t){var o;return'value="'+n.escapeExpression((o=null!=(o=a.Grade||(null!=l?l.Grade:l))?o:a.helperMissing,"function"==typeof o?o.call(null!=l?l:{},{name:"Grade",hash:{},data:t}):o))+'"'},17:function(n,l,a,e,t){return""},19:function(n,l,a,e,t){return'disabled="disabled"'},21:function(n,l,a,e,t){return"readonly"},23:function(n,l,a,e,t){var o;return null!=(o=a["if"].call(null!=l?l:{},null!=l?l.ToGrade:l,{name:"if",hash:{},fn:n.program(24,t,0),inverse:n.noop,data:t}))?o:""},24:function(n,l,a,e,t){return'                    <div>                      \n                        <b>Notation</b>\n                        <small class="col-sm-offset-1">                            \n                        <ul>\n    <li><b>16 to 18: </b> Well written, crystal clear. It indicates the context, the problematic, the associated bibliography, the solution, the difficulties, the benefits and the planification. Everything is carefully justified.\n    The note might vary according to the subject difficulties.\n    </li>\n    <li><b>13 to 15: </b>\n    Well written, good explanations about the work done and the work to come but\n    editorial issues, un-rigourous justications.\n    </li>\n    <li><b>10 to 12: </b>\n    Readable but no enough details to really understand the work done. Lack of analysis. Some part are missings (bibliography, difficulties, planning, ...)    \n    </li>\n    <li><b>&lt; 10: </b>\n    Hard to read/understand, severe lacks in terms of contents or analysis capacities</li>\n                        </ul>\n                        <b class="text-center">Do not consider any late penalty. This is done automatically</b>\n                        </small>                            \n                    </div>\n'},26:function(n,l,a,e,t){var o,s=null!=l?l:{},i=a.helperMissing,r="function",d=n.escapeExpression;return'                        <button type="button" class="btn btn-danger" onclick="review(\''+d((o=null!=(o=a.Email||(null!=l?l.Email:l))?o:i,typeof o===r?o.call(s,{name:"Email",hash:{},data:t}):o))+"','"+d((o=null!=(o=a.Kind||(null!=l?l.Kind:l))?o:i,typeof o===r?o.call(s,{name:"Kind",hash:{},data:t}):o))+"',"+d((o=null!=(o=a.ToGrade||(null!=l?l.ToGrade:l))?o:i,typeof o===r?o.call(s,{name:"ToGrade",hash:{},data:t}):o))+')">\n                            <i class="glyphicon glyphicon-floppy-save"></i>\n                            Review\n                        </button>\n'},compiler:[7,">= 4.0.0"],main:function(n,l,a,e,t){var o,s,i=null!=l?l:{},r=a.helperMissing,d="function",c=n.escapeExpression;return'<div class="modal-dialog">\n    <div class="modal-content">\n            <div class="modal-body">\n            <button type="button" class="close" aria-hidden="true" onclick="hideModal()"></button>\n            <fieldset>\n                <legend>'+c((s=null!=(s=a.Kind||(null!=l?l.Kind:l))?s:r,typeof s===d?s.call(i,{name:"Kind",hash:{},data:t}):s))+' Report</legend>\n                <div class="form-horizontal">\n\n                    <div class="form-group">\n                        <div class="col-sm-3 control-label">Confidential</div>\n                        <div class="col-sm-9">\n                            <div class="checkbox">\n                                <label for="private">\n                                    <input onchange="toggleReportConfidential(\''+c((s=null!=(s=a.Kind||(null!=l?l.Kind:l))?s:r,typeof s===d?s.call(i,{name:"Kind",hash:{},data:t}):s))+"','"+c((s=null!=(s=a.Email||(null!=l?l.Email:l))?s:r,typeof s===d?s.call(i,{name:"Email",hash:{},data:t}):s))+'\',this)" type="checkbox" id="private" '+(null!=(o=a["if"].call(i,null!=l?l.Private:l,{name:"if",hash:{},fn:n.program(1,t,0),inverse:n.noop,data:t}))?o:"")+'>\n                                    <i>(access limited to the tutor and root)</i>\n                                </label>\n                            </div>\n                        </div>\n                    </div>\n\n                    <div class="form-group">\n                        <label for="deadline" class="col-sm-3 control-label">Deadline</label>                        \n                        <div class="col-sm-9">\n                            <div class="input-group date" id="deadline">\n                                <input id="report-deadline" type="text" data-old-date="'+c((s=null!=(s=a.Deadline||(null!=l?l.Deadline:l))?s:r,typeof s===d?s.call(i,{name:"Deadline",hash:{},data:t}):s))+'" class="form-control" data-date-format="D MMM YYYY" value="'+c((a.dateFmt||l&&l.dateFmt||r).call(i,null!=l?l.Deadline:l,"D MMM YYYY",{name:"dateFmt",hash:{},data:t}))+'" />\n                                <span class="input-group-btn">\n                                    <button onclick="updateReportDeadline(\''+c((s=null!=(s=a.Email||(null!=l?l.Email:l))?s:r,typeof s===d?s.call(i,{name:"Email",hash:{},data:t}):s))+"','"+c((s=null!=(s=a.Kind||(null!=l?l.Kind:l))?s:r,typeof s===d?s.call(i,{name:"Kind",hash:{},data:t}):s))+'\');" class="btn btn-info" type="button"><i class="glyphicon glyphicon-floppy-disk"></i></button>\n                                </span>\n                            </div>                \n                        </div>                    \n                    </div>                    \n                    <div class="form-group">\n                        <label for="down" class="col-sm-3 control-label">Document</label>                        \n                        <div class="col-sm-9">\n                            <label class="form-control-static">\n'+(null!=(o=a["if"].call(i,null!=l?l.Delivery:l,{name:"if",hash:{},fn:n.program(3,t,0),inverse:n.program(5,t,0),data:t}))?o:"")+'                            </label>\n                        </div>\n                    </div>             \n                                        \n                    <div class="form-group">\n                        <label for="delivery" class="col-sm-3 control-label">Delivery date</label>\n                        <div class="col-sm-9">\n                            <label class="form-control-static">\n'+(null!=(o=a["if"].call(i,null!=l?l.Delivery:l,{name:"if",hash:{},fn:n.program(7,t,0),inverse:n.program(9,t,0),data:t}))?o:"")+"                            "+(null!=(o=(a.ifAfter||l&&l.ifAfter||r).call(i,null!=l?l.Delivery:l,null!=l?l.Deadline:l,{name:"ifAfter",hash:{},fn:n.program(11,t,0),inverse:n.noop,data:t}))?o:"")+"\n                            </label>\n                        </div> \n                    </div>                     \n\n"+(null!=(o=(a.ifLate||l&&l.ifLate||r).call(i,null!=l?l.Deadline:l,{name:"ifLate",hash:{},fn:n.program(13,t,0),inverse:n.noop,data:t}))?o:"")+(null!=(o=(a.ifLate||l&&l.ifLate||r).call(i,null!=l?l.Deadline:l,{name:"ifLate",hash:{},fn:n.program(23,t,0),inverse:n.noop,data:t}))?o:"")+'\n                                        <div class="text-right form-group">\n                        <button type="button" class="btn btn-default" onclick="hideModal();">Cancel</button>\n'+(null!=(o=(a.ifLate||l&&l.ifLate||r).call(i,null!=l?l.Deadline:l,{name:"ifLate",hash:{},fn:n.program(26,t,0),inverse:n.noop,data:t}))?o:"")+"                        \n                    </div>                                                    \n\n                    </div>          \n            </div>\n        </fieldset>            \n    </div>    \n</div>"},useData:!0}),this.wints.templates["role-editor"]=Handlebars.template({compiler:[7,">= 4.0.0"],main:function(n,l,a,e,t){var o,s=n.lambda,i=n.escapeExpression;return'<div class="modal-dialog">\n<div class="modal-content"> \n    <div class="modal-body">\n        <button type="button" class="close" aria-hidden="true" onclick="hideModal()"></button>\n        <div class="form-horizontal">\n            <fieldset>     \n            <legend class="fn">'+i(s(null!=(o=null!=l?l.Person:l)?o.Lastname:o,l))+", "+i(s(null!=(o=null!=l?l.Person:l)?o.Firstname:o,l))+'</legend>   \n                <div class="alert text-center alert-danger hidden"></div>\n\n                <div class="form-group">\n                    <label for="profile-role" class="col-lg-2 control-label">Role</label>\n                    <div class="col-lg-10">\n                        <select class="form-control" id="profile-role">\n                            '+i((a.optionRoles||l&&l.optionRoles||a.helperMissing).call(null!=l?l:{},null!=l?l.Role:l,{name:"optionRoles",hash:{},data:t}))+'\n                        </select>\n                    </div>\n                </div>\n            </fieldset>\n        </div>\n        <div class="text-right form-group">\n            <button type="button" class="btn btn-default" onclick="hideModal()">Cancel</button>\n            <button type="button" class="btn btn-primary" onclick="updateRole(\''+i(s(null!=(o=null!=l?l.Person:l)?o.Email:o,l))+"')\">Update</button>\n        </div>\n    </div>    \n</div>    \n</div>\n        "},useData:!0}),this.wints.templates.service=Handlebars.template({1:function(n,l,a,e,t){var o,s,i=null!=l?l:{},r=a.helperMissing,d="function",c=n.escapeExpression;return'        <tr data-email="'+c((s=null!=(s=a.key||t&&t.key)?s:r,typeof s===d?s.call(i,{name:"key",hash:{},data:t}):s))+"\">\n            <td>\n                <input class=\"shiftSelectable\" type='checkbox' data-user-fn='"+c((a.fullname||l&&l.fullname||r).call(i,null!=(o=null!=l?l.U:l)?o.Person:o,!0,{name:"fullname",hash:{},data:t}))+'\'/>                                                  \n            </td>\n            <td class="text-left fn">\n'+(null!=(o=n.invokePartial(e.person,null!=(o=null!=l?l.U:l)?o.Person:o,{name:"person",data:t,indent:"                ",helpers:a,partials:e,decorators:n.decorators}))?o:"")+'            </td>\n            <td data-text="'+c((s=null!=(s=a.TotalInts||(null!=l?l.TotalInts:l))?s:r,typeof s===d?s.call(i,{name:"TotalInts",hash:{},data:t}):s))+'">\n'+(null!=(o=a.each.call(i,null!=l?l.Ints:l,{name:"each",hash:{},fn:n.program(2,t,0),inverse:n.noop,data:t}))?o:"")+"            </td>\n            <td>"+c((a.len||l&&l.len||r).call(i,null!=l?l.Defs:l,{name:"len",hash:{},data:t}))+"</td>\n        </tr>\n"},2:function(n,l,a,e,t){var o,s,i=null!=l?l:{},r=a.helperMissing,d=n.escapeExpression;return"                "+d((a.len||l&&l.len||r).call(i,l,{name:"len",hash:{},data:t}))+" "+d((s=null!=(s=a.key||t&&t.key)?s:r,"function"==typeof s?s.call(i,{name:"key",hash:{},data:t}):s))+(null!=(o=a.unless.call(i,t&&t.last,{name:"unless",hash:{},fn:n.program(3,t,0),inverse:n.noop,data:t}))?o:"")+"\n"},3:function(n,l,a,e,t){return" ; "},compiler:[7,">= 4.0.0"],main:function(n,l,a,e,t){var o;return'<h3>Service</h3>\n\n<button type="button" class="btn btn-default btn-sm" onclick="userMailing(\'#table-service\')">\n    <i class="glyphicon glyphicon-envelope"></i> mail selection\n</button>\n\n<button type="button" onclick="showRawFullname(\'tbody\',\'user\')" data-toggle=\'modal\' class="btn btn-default btn-sm">\n    <i class="glyphicon glyphicon-list"></i> fullname from selection\n</button>    \n\n<table class="table table-hover tablesorter" id="table-service">\n    <thead>\n    <tr>\n        <th class="sorter-false">\n        <input type=\'checkbox\' data-toggle=\'checkbox\' class=\'globalSelect\' data-context="table-service"/>\n        </th>\n        <th>Person</th>\n        <th>Tutored students</th>\n        <th>Defense committees</th>\n    </tr>\n    </thead>\n    <tbody>\n'+(null!=(o=a.each.call(null!=l?l:{},l,{name:"each",hash:{},fn:n.program(1,t,0),inverse:n.noop,data:t}))?o:"")+"    </tbody>\n</table>"},usePartial:!0,useData:!0}),this.wints.templates["student-dashboard-alumni-editor"]=Handlebars.template({1:function(n,l,a,e,t){return"selected"},compiler:[7,">= 4.0.0"],main:function(n,l,a,e,t){var o,s,i=null!=l?l:{},r=a.helperMissing;return'<div class="modal-dialog">\n    <div class="modal-content">\n        <div class="modal-body">\n        <button type="button" class="close" aria-hidden="true" onclick="hideModal()"></button>\n            <div class="form-horizontal">\n                <fieldset>\n                <legend>Alumni editor</legend>\n                <div class="form-group">\n                    <label for="lbl-fn" class="col-sm-3 control-label">Email</label>\n                        <div class="col-sm-9">\n                            <input type="email" class="form-control" id="lbl-email" value="'+n.escapeExpression((s=null!=(s=a.Email||(null!=l?l.Email:l))?s:r,"function"==typeof s?s.call(i,{name:"Email",hash:{},data:t}):s))+'"/>\n                        </div>\n                </div>\n                 \n                <div class="form-group">\n                    <label for="lbl-kind" class="col-sm-3 control-label">Kind</label>\n                        <div class="col-sm-9">\n                            <select class="form-control" id="position" onchange="syncAlumniEditor(this)">\n                                <option value="looking" '+(null!=(o=(a.ifEq||l&&l.ifEq||r).call(i,null!=l?l.Position:l,"looking",{name:"ifEq",hash:{},fn:n.program(1,t,0),inverse:n.noop,data:t}))?o:"")+'>Looking for a job</option>\n                                <option value="sabbatical" '+(null!=(o=(a.ifEq||l&&l.ifEq||r).call(i,null!=l?l.Position:l,"sabbatical",{name:"ifEq",hash:{},fn:n.program(1,t,0),inverse:n.noop,data:t}))?o:"")+'>Sabattical leave</option>\n                                <option value="company" '+(null!=(o=(a.ifEq||l&&l.ifEq||r).call(i,null!=l?l.Position:l,"company",{name:"ifEq",hash:{},fn:n.program(1,t,0),inverse:n.noop,data:t}))?o:"")+'>Working in a company</option>\n                                <option value="entrepreneurship" '+(null!=(o=(a.ifEq||l&&l.ifEq||r).call(i,null!=l?l.Position:l,"entrepreneurship",{name:"ifEq",hash:{},fn:n.program(1,t,0),inverse:n.noop,data:t}))?o:"")+'>Entrepreneurship</option>\n                                <option value="study" '+(null!=(o=(a.ifEq||l&&l.ifEq||r).call(i,null!=l?l.Position:l,"study",{name:"ifEq",hash:{},fn:n.program(1,t,0),inverse:n.noop,data:t}))?o:"")+'>Pursuit of higher education</option>\n                            </select>                            \n                        </div>\n                </div>\n\n                <div class="form-group hidden" id="contract">\n                    <label class="col-sm-3 control-label">Contract</label>\n                    <div class="col-sm-9">\n                        <label class="checkbox-inline">\n                            <input type="radio" name="permanent" value=\'false\' disabled> Fixed (CDD)\n                        </label>                        \n                        <label class="checkbox-inline">\n                            <input type="radio" name=\'permanent\' value=\'true\' disabled> Permanent (CDI)\n                        </label>                        \n                    </div>\n                </div>   \n\n                <div class="form-group hidden" id="company">\n                    <label class="col-sm-3 control-label">Company</label>\n                    <div class="col-sm-9">\n                        <label class="checkbox-inline">\n                            <input type="radio" name=\'sameCompany\' value=\'true\' disabled> internship company\n                        </label>                        \n                        <label class="checkbox-inline">\n                            <input type="radio" name=\'sameCompany\' value=\'false\' disabled> other\n                        </label>                        \n                    </div>\n                </div> \n\n                <div class="form-group hidden" id="country">\n                    <label class="col-sm-3 control-label">Country</label>\n                    <div class="col-sm-9">\n                        <label class="checkbox-inline">\n                            <input type="radio" name=\'france\' value=\'true\' disabled> France\n                        </label>                        \n                        <label class="checkbox-inline">\n                            <input type="radio" name=\'france\' value=\'false\' disabled> Foreign country\n                        </label>                        \n                    </div>\n                </div>                            \n                </div>\n                </fieldset>\n            <div class="text-right form-group">\n            <button type="button" class="btn btn-default" onclick="hideModal()">Cancel</button>\n            <button type="button" class="btn btn-primary" onclick="sendAlumni()">Update</button>\n            </div>                \n            </div>\n        </div>\n    </div>\n</div>   '},useData:!0}),this.wints.templates["student-dashboard-supervisor-editor"]=Handlebars.template({compiler:[7,">= 4.0.0"],main:function(n,l,a,e,t){var o,s=null!=l?l:{},i=a.helperMissing,r="function",d=n.escapeExpression;return'<div class="modal-dialog">\n    <div class="modal-content">\n        <div class="modal-body">\n        <button type="button" class="close" aria-hidden="true" onclick="hideModal()"></button>\n            <div class="form-horizontal">\n                <fieldset>\n                <legend>Supervisor contact details</legend>\n                <div class="form-group">\n                    <label for="sup-fn" class="col-sm-3 control-label">Firstname</label>\n                        <div class="col-sm-9">\n                            <input type="text" class="form-control" id="sup-fn" value="'+d((o=null!=(o=a.Firstname||(null!=l?l.Firstname:l))?o:i,typeof o===r?o.call(s,{name:"Firstname",hash:{},data:t}):o))+'"/>\n                        </div>\n                </div>\n                <div class="form-group">\n                    <label for="sup-ln" class="col-sm-3 control-label">Lastname</label>\n                        <div class="col-sm-9">\n                            <input type="text" class="form-control" id="sup-ln" value="'+d((o=null!=(o=a.Lastname||(null!=l?l.Lastname:l))?o:i,typeof o===r?o.call(s,{name:"Lastname",hash:{},data:t}):o))+'"/>\n                        </div>\n                </div>\n                <div class="form-group">\n                    <label for="sup-email" class="col-sm-3 control-label">Email</label>\n                        <div class="col-sm-9">\n                            <input type="text" class="form-control" id="sup-email" value="'+d((o=null!=(o=a.Email||(null!=l?l.Email:l))?o:i,typeof o===r?o.call(s,{name:"Email",hash:{},data:t}):o))+'"/>\n                        </div>\n                </div>                \n                <div class="form-group">\n                    <label for="sup-tel" class="col-sm-3 control-label">Telephon</label>\n                        <div class="col-sm-9">\n                            <input type="text" class="form-control" id="sup-tel" value="'+d((o=null!=(o=a.Tel||(null!=l?l.Tel:l))?o:i,typeof o===r?o.call(s,{name:"Tel",hash:{},data:t}):o))+'"/>\n                        </div>\n                </div>                            \n                </div>\n                </fieldset>\n            <div class="text-right form-group">\n            <button type="button" class="btn btn-default" onclick="hideModal()">Cancel</button>\n            <button type="button" class="btn btn-primary" onclick="sendSupervisor()">Update</button>\n            </div>                \n            </div>\n        </div>\n    </div>\n</div> '},useData:!0}),this.wints.templates["student-dashboard"]=Handlebars.template({1:function(n,l,a,e,t){var o;return null!=(o=n.invokePartial(e["student-dashboard-report"],l,{name:"student-dashboard-report",data:t,helpers:a,partials:e,decorators:n.decorators}))?o:""},compiler:[7,">= 4.0.0"],main:function(n,l,a,e,t){var o;return'<div class="row">\n<div class="col-md-6" id="dashboard-company">	\n'+(null!=(o=n.invokePartial(e["student-dashboard-company"],l,{name:"student-dashboard-company",data:t,indent:"	",helpers:a,partials:e,decorators:n.decorators}))?o:"")+'</div>\n\n<div class="col-md-6" id="student-dashboard-contacts">	\n'+(null!=(o=n.invokePartial(e["student-dashboard-contacts"],l,{name:"student-dashboard-contacts",data:t,indent:"	",helpers:a,partials:e,decorators:n.decorators}))?o:"")+'</div>\n</div>\n\n<div class="row">\n<div class="col-md-6">	\n<h3 class="page-header">Reports</h3>\n<p class="text-justify">\nPDF files, 10 MB max.\nSee <a href="/assets/consignes-rapports.pdf">the expectations</a>.\nThe upload may take time. Once completed, download the report to check for errors.\n</p>\n<p class="text-justify">\nYour <a href="mailto:'+n.escapeExpression(n.lambda(null!=(o=null!=(o=null!=(o=null!=l?l.Convention:l)?o.Tutor:o)?o.Person:o)?o.Email:o,l))+'">academic supervisor</a> can reconsider the deadlines upon strong justifications.\nYou can re-upload until the deadline.\nOnce late, you will have <b>one</b> upload opportunity.\nThere will be a 1 point penalty per day late.\n</p>\n<table class="table table-hover table-condensed">\n<thead>\n<tr>\n	<td>Kind</td><td>Deadline</td><td>Delivery date</td><td>Grade</td><td></td>\n</tr>\n</thead>\n<tbody>\n'+(null!=(o=a.each.call(null!=l?l:{},null!=l?l.Reports:l,{name:"each",hash:{},fn:n.program(1,t,0),inverse:n.noop,data:t}))?o:"")+'</tbody>\n</table>\n</div>\n<div class="col-md-6" id="dashboard-alumni">\n'+(null!=(o=n.invokePartial(e["student-dashboard-alumni"],null!=(o=null!=(o=null!=l?l.Convention:l)?o.Student:o)?o.Alumni:o,{name:"student-dashboard-alumni",data:t,helpers:a,partials:e,decorators:n.decorators}))?o:"")+"</div>\n</div>\n"},usePartial:!0,useData:!0}),this.wints.templates.tutored=Handlebars.template({1:function(n,l,a,e,t){return'        <th class="text-center"><small>'+n.escapeExpression(n.lambda(null!=l?l.Kind:l,l))+"</small></th>\n"},3:function(n,l,a,e,t){var o;return null!=(o=n.invokePartial(e["tutored-student"],l,{name:"tutored-student",data:t,indent:"        ",helpers:a,partials:e,decorators:n.decorators}))?o:""},compiler:[7,">= 4.0.0"],main:function(n,l,a,e,t){var o,s=null!=l?l:{},i=a.helperMissing,r=n.escapeExpression;return'<h3><span class="count">'+r((a.len||l&&l.len||i).call(s,null!=l?l.Internships:l,{name:"len",hash:{},data:t}))+'</span> tutored student(s)</h3>\n\n<div class="btn-group">\n  <button type="button" class="btn btn-default dropdown-toggle btn-sm" data-toggle="dropdown" aria-expanded="false"><i class="glyphicon glyphicon-envelope"></i> mail selection <span class="caret"></span>\n  </button>\n  <ul class="dropdown-menu" role="menu">\n    <li><a onclick="conventionMailing(\'tbody\',\'stu\')">students</a></li>\n    <li><a onclick="conventionMailing(\'tbody\',\'stu\',\'sup\')">students (cc supervisors)</a></li>        \n    <li><a onclick="conventionMailing(\'tbody\',\'sup\',\'stu\')">supervisors (cc students)</a></li>        \n  </ul>\n</div>\n\n<div class="btn-group">\n  <button type="button" class="btn btn-default btn-sm dropdown-toggle" data-toggle="dropdown" aria-expanded="false"><i class="glyphicon glyphicon-list"></i> fullnames from selection <span class="caret"></span>\n  </button>\n  <ul class="dropdown-menu" role="menu">\n    <li><a onclick="showRawFullname(\'tbody\',\'stu\')">Students</a></li>    \n    <li><a onclick="showRawFullname(\'tbody\',\'sup\')">Supervisors</a></li>    \n  </ul>\n</div>\n\n<p>\nThis is the students you are following as an academic tutor. Your role is to:\n</p>\n<ul>\n<li>Maintain contacts with the students and the supervisors. Use the checkboxes to select internships and the top buttons for mailing purposes.</li>\n<li>Click on a report cell to access a report and grade it (see the <a href="/assets/consignes-rapports.pdf"> expectations</a>). If needed, you can also revise the deadline (e.g. if the student is late for a viable reason) or the report visibility.</li>\n</ul>\n<!--<div class="legend">\n<span class="title">Reports color legend: </span>\n<ul class="legend">\n<li><span class="color bg-warning"></span>Deadline passed, no report</li>\n<li><span class="color bg-info"></span>Waiting for being reviewed</li>\n<li><span class="color bg-success"></span>Grade &gt; 10</li>\n<li><span class="color bg-danger"></span>Grade &lt; 10</li>\n</ul>\n</div>-->\n<table class="table table-hover tablesorter" id="table-tutoring" data-partial="tutored-student">\n    <thead>\n    <tr>\n        <th class="sorter-false" rowspan="2">\n        <input type=\'checkbox\' data-toggle=\'checkbox\' class=\'globalSelect\' data-context="table-tutoring"/>\n        </th>\n        <th rowspan="2">Student</th>\n        <th rowspan="2">Promotion</th>\n        <th rowspan="2">Major</th>\n        <th rowspan="2" class="sorter-false">Supervisor</th>\n        <th rowspan="2" class="sorter-false">Company</th>\n        <th class="sorter-false text-center" colspan="'+r((a.len||l&&l.len||i).call(s,null!=(o=null!=l?l.Org:l)?o.Reports:o,{
name:"len",hash:{},data:t}))+'">Reports</th>\n        <th class="sorter-false text-center" colspan="'+r((a.len||l&&l.len||i).call(s,null!=(o=null!=l?l.Org:l)?o.Surveys:o,{name:"len",hash:{},data:t}))+'">Surveys</th>        \n        <th class="text-center" rowspan="2">Alumni</th>\n    </tr>\n    <tr>        \n'+(null!=(o=a.each.call(s,null!=(o=null!=l?l.Org:l)?o.Reports:o,{name:"each",hash:{},fn:n.program(1,t,0),inverse:n.noop,data:t}))?o:"")+(null!=(o=a.each.call(s,null!=(o=null!=l?l.Org:l)?o.Surveys:o,{name:"each",hash:{},fn:n.program(1,t,0),inverse:n.noop,data:t}))?o:"")+"    </tr>    \n    </thead>\n    <tbody>\n"+(null!=(o=a.each.call(s,null!=l?l.Internships:l,{name:"each",hash:{},fn:n.program(3,t,0),inverse:n.noop,data:t}))?o:"")+"    </tbody>\n</table>"},usePartial:!0,useData:!0}),this.wints.templates["users-header"]=Handlebars.template({1:function(n,l,a,e,t){var o;return null!=(o=n.invokePartial(e["users-user"],l,{name:"users-user",data:t,indent:"    ",helpers:a,partials:e,decorators:n.decorators}))?o:""},compiler:[7,">= 4.0.0"],main:function(n,l,a,e,t){var o,s=null!=l?l:{};return'	<h3><span class="count">'+n.escapeExpression((a.len||l&&l.len||a.helperMissing).call(s,l,{name:"len",hash:{},data:t}))+'</span> registered user(s)</h3>\n\n<button type="button" class="btn btn-default btn-sm" onclick="userMailing(\'#table-users\')">\n    <i class="glyphicon glyphicon-envelope"></i> mail selection\n</button>\n\n<button type="button" onclick="showRawFullname(\'tbody\',\'user\')" data-toggle=\'modal\' class="btn btn-default btn-sm">\n    <i class="glyphicon glyphicon-list"></i> fullname from selection\n</button>    \n\n\n<button type="button" onclick="showNewUser()" data-toggle=\'modal\' class="btn btn-info btn-sm">\n    <i class="glyphicon glyphicon-plus"></i> add user\n</button>    \n\n<button type="button" class="btn btn-info btn-sm btn-file">\n    <i class="glyphicon glyphicon-plus"></i> import students <input id="csv-import" type="file">\n</button>\n\n<a id="import-status" class="btn btn-danger btn-sm hidden" onclick="showImportError()">Show import errors</a>\n\n\n<table class="table table-hover tablesorter" id="table-users" data-sortlist="[[1,0]]">\n<thead>\n    <tr>\n        <th class="sorter-false"><input type=\'checkbox\' class="globalSelect" data-context="table-users"/></th>\n        <th>Lastname, Firstname</th><th>Email</th>\n        <th>Role</th><th>Last visit</th><th class="sorter-false">Actions</th>\n    </tr>\n</thead>\n<tbody>\n'+(null!=(o=a.each.call(s,l,{name:"each",hash:{},fn:n.program(1,t,0),inverse:n.noop,data:t}))?o:"")+"</tbody>\n</table>"},usePartial:!0,useData:!0}),this.wints.templates.watchlist=Handlebars.template({1:function(n,l,a,e,t){return'        <th class="text-center"><small>'+n.escapeExpression(n.lambda(null!=l?l.Kind:l,l))+"</small></th>\n"},3:function(n,l,a,e,t){var o;return null!=(o=n.invokePartial(e["watchlist-student"],l,{name:"watchlist-student",data:t,indent:"        ",helpers:a,partials:e,decorators:n.decorators}))?o:""},compiler:[7,">= 4.0.0"],main:function(n,l,a,e,t){var o,s=null!=l?l:{},i=a.helperMissing,r=n.escapeExpression;return'<h3>Watchlist</h3>\n\n<div class="btn-group">\n  <button type="button" class="btn btn-default dropdown-toggle btn-sm" data-toggle="dropdown" aria-expanded="false"><i class="glyphicon glyphicon-envelope"></i> mail selection <span class="caret"></span>\n  </button>\n  <ul class="dropdown-menu" role="menu">\n    <li><a onclick="conventionMailing(\'tbody\', \'stu\')">students</a></li>\n    <li><a onclick="conventionMailing(\'tbody\', \'stu\',\'tut\')">students (cc tutors)</a></li>        \n    <li><a onclick="conventionMailing(\'tbody\', \'sup\')">supervisors</a></li>\n    <li><a onclick="conventionMailing(\'tbody\', \'tut\')">tutors</a></li>\n  </ul>\n</div>\n\n<div class="btn-group">\n  <button type="button" class="btn btn-default btn-sm dropdown-toggle" data-toggle="dropdown" aria-expanded="false"><i class="glyphicon glyphicon-list"></i> fullnames from selection <span class="caret"></span>\n  </button>\n  <ul class="dropdown-menu" role="menu">\n    <li><a onclick="showRawFullname(\'tbody\', \'stu\')">Students</a></li>    \n    <li><a onclick="showRawFullname(\'tbody\',\'sup\')">Supervisors</a></li>\n    <li><a onclick="showRawFullname(\'tbody\',\'tut\')">Tutors</a></li>    \n  </ul>\n</div>\n\n<!--\n<p>\nAs a major leader or an administrator, you can follow the progress of every student:\n<ul>\n<li>click a student name to get more details about the internship.\n<li>click on a survey to get a read-only version once fullfiled,</li>\n<li>click on a report cell to get details (content, comments).</li>\n</ul>\n</p>-->\n<!--<p>Use the checkboxes to select internships and the top buttons for mailing purposes.</p>\n<br/>\n<div class="legend">\n<span class="title">Reports color legend: </span>\n<ul class="legend">\n<li><span class="color bg-warning"></span>Deadline passed, no report</li>\n<li><span class="color bg-info"></span>Waiting for being reviewed</li>\n<li><span class="color bg-success"></span>grade &gt; 10</li>\n<li><span class="color bg-danger"></span>grade &lt; 10</li>\n</ul>\n</div>-->\n<table class="table table-hover tablesorter" id="table-conventions" data-partial="watchlist-student">\n    <thead>\n    <tr>\n        <th class="sorter-false" rowspan="2">\n        <input type=\'checkbox\' data-toggle=\'checkbox\' class=\'globalSelect\' data-context="table-conventions"/>\n        </th>\n        <th rowspan="2">Student</th>\n        <th rowspan="2">Promotion</th>\n        <th rowspan="2">Major</th>\n        <th rowspan="2" >Tutor</th>\n        <th class="sorter-false text-center" colspan="'+r((a.len||l&&l.len||i).call(s,null!=(o=null!=l?l.Org:l)?o.Reports:o,{name:"len",hash:{},data:t}))+'">Reports</th>\n        <th class="sorter-false text-center" colspan="'+r((a.len||l&&l.len||i).call(s,null!=(o=null!=l?l.Org:l)?o.Surveys:o,{name:"len",hash:{},data:t}))+'">Surveys</th>\n        <th class="text-center" rowspan="2" >Def</th>\n        <th class="text-center" rowspan="2">Alumni</th>\n    </tr>\n    <tr>        \n'+(null!=(o=a.each.call(s,null!=(o=null!=l?l.Org:l)?o.Reports:o,{name:"each",hash:{},fn:n.program(1,t,0),inverse:n.noop,data:t}))?o:"")+(null!=(o=a.each.call(s,null!=(o=null!=l?l.Org:l)?o.Surveys:o,{name:"each",hash:{},fn:n.program(1,t,0),inverse:n.noop,data:t}))?o:"")+"    </tr>    \n    </thead>\n    <tbody>\n"+(null!=(o=a.each.call(s,null!=l?l.Internships:l,{name:"each",hash:{},fn:n.program(3,t,0),inverse:n.noop,data:t}))?o:"")+"    </tbody>\n</table>"},usePartial:!0,useData:!0});
function showWait(){$("#cnt").html(waitingBlock)}function loadSuccess(e){for(myself=e,$("#fullname").html(myself.Person.Lastname+", "+myself.Person.Firstname),i=0;i<=level(myself.Role);i++)$(".role-"+i).removeClass("hidden");level(myself.Role)==STUDENT_LEVEL?showStudent():level(myself.Role)>=MAJOR_LEVEL?showWatchlist():showTutored()}function level(e){return"student"==e?STUDENT_LEVEL:"tutor"==e?TUTOR_LEVEL:0==e.indexOf("major")?MAJOR_LEVEL:"head"==e?HEAD_LEVEL:"admin"==e?ADMIN_LEVEL:"root"==e?ROOT_LEVEL:-1}function showModal(e){$("#modal").modal("show"),$("#modal").find('[data-toggle="popover"]').popover(),$("#modal").unbind("shown.bs.modal"),e&&$("#modal").on("shown.bs.modal",function(n){e()}),$("#modal").find(".date").datetimepicker(),$("#modal").find('[data-toggle="confirmation"]').confirmation()}function tableCount(){count=$("tbody").find("tr").length,$(".count").html(count)}function ui(){$("#cnt").find(".tablesorter").tablesorter(),$("#cnt").find('[data-toggle="popover"]').popover(),$("#cnt").find('[data-toggle="confirmation"]').confirmation(),$("#cnt").find(".shiftSelectable").shiftSelectable(),$("#cnt").find("table").bind("sortEnd",function(){$("#cnt").find(".shiftSelectable").shiftSelectable()}),$(".date").datetimepicker({format:"DD MMM YYYY"}),tableCount(),$(".globalSelect").change(function(){var e=$(this).data("context");$("#"+e).find("input:checkbox").prop("checked",this.checked)})}function showAlumni(e){internship(e).done(function(e){$("#modal").render("alumni-modal",e.Convention.Student,function(){var n=e.Convention.Student.Alumni.Position;"sabbatical"==n?($("#country").addClass("hidden"),$("#contract").addClass("hidden"),$("#company").addClass("hidden")):"entrepreneurship"==n?($("#country").removeClass("hidden"),$("#contract").addClass("hidden"),$("#company").addClass("hidden")):"study"==n?($("#country").removeClass("hidden"),$("#contract").addClass("hidden"),$("#company").addClass("hidden")):"company"==n?($("#country").removeClass("hidden"),$("#contract").removeClass("hidden"),$("#company").removeClass("hidden")):"looking"==n&&($("#country").addClass("hidden"),$("#contract").addClass("hidden"),$("#company").addClass("hidden")),showModal()})})}function hideModal(){$("#modal").find('[data-toggle="popover"]').popover("destroy"),$("#modal").modal("hide"),$("#modal").html("")}function updateInternshipRow(e){var n=$("table").data("partial"),t=$("table").find("tr[data-email='"+e+"']");internship(e).done(function(e){var o=Handlebars.partials[n](e);t.replaceWith(o),$("table").trigger("update").trigger("updateCache")})}function showInternship(e,n){!n||level(myself.Role)<ADMIN_LEVEL?internship(e).done(function(e){internshipModal(e,[],n&&level(myself.Role)>=ADMIN_LEVEL)}).fail(logFail):$.when(internship(e),users()).done(function(e,t){e=e[0],t=t[0].filter(function(n){return level(n.Role)!=STUDENT_LEVEL&&n.Person.Email!=e.Convention.Tutor.Person.Email}),internshipModal(e,t,n)}).fail(logFail)}function resetSurvey(e,n,t){postResetSurvey(n,t).done(function(n,t,o){$(e).attr("disabled","disabled"),defaultSuccess(n,t,o)}).fail(notifyError)}function requestSurvey(e,n,t){postRequestSurvey(n,t).done(function(n,o,a){defaultSuccess(n,o,a),$(e).html(t)}).fail(notifyError)}function internshipModal(e,n,t){var o={I:e,Editable:t,Teachers:n};$("#modal").render("convention-detail",o,showModal)}var config,STUDENT_LEVEL=0,TUTOR_LEVEL=1,MAJOR_LEVEL=2,HEAD_LEVEL=3,ADMIN_LEVEL=4,ROOT_LEVEL=5;String.prototype.capitalize=function(){return this.charAt(0).toUpperCase()+this.substring(1)};
!function(t){t.fn.datepicker.dates.ar={days:["","","","","","","",""],daysShort:["","","","","","","",""],daysMin:["","","","","","","",""],months:["","","","","","","","","","","",""],monthsShort:["","","","","","","","","","","",""],today:" ",rtl:!0}}(jQuery);
!function(a){a.fn.datepicker.dates.az={days:["Bazar","Bazar ertsi","rnb axam","rnb","Cm axam","Cm","nb","Bazar"],daysShort:["B.","B.e",".a",".","C.a","C.",".","B."],daysMin:["B.","B.e",".a",".","C.a","C.",".","B."],months:["Yanvar","Fevral","Mart","Aprel","May","yun","yul","Avqust","Sentyabr","Oktyabr","Noyabr","Dekabr"],monthsShort:["Yan","Fev","Mar","Apr","May","yun","yul","Avq","Sen","Okt","Noy","Dek"],today:"Bu gn",weekStart:1}}(jQuery);
!function(t){t.fn.datepicker.dates.bg={days:["","","","","","","",""],daysShort:["","","","","","","",""],daysMin:["","","","","","","",""],months:["","","","","","","","","","","",""],monthsShort:["","","","","","","","","","","",""],today:""}}(jQuery);
!function(a){a.fn.datepicker.dates.bs={days:["Nedjelja","Ponedjeljak","Utorak","Srijeda","etvrtak","Petak","Subota","Nedjelja"],daysShort:["Ned","Pon","Uto","Sri","et","Pet","Sub","Ned"],daysMin:["N","Po","U","Sr","","Pe","Su","N"],months:["Januar","Februar","Mart","April","Maj","Juni","Juli","August","Septembar","Oktobar","Novembar","Decembar"],monthsShort:["Jan","Feb","Mar","Apr","Maj","Jun","Jul","Aug","Sep","Okt","Nov","Dec"],today:"Danas",weekStart:1,format:"dd.mm.yyyy"}}(jQuery);
!function(e){e.fn.datepicker.dates.ca={days:["Diumenge","Dilluns","Dimarts","Dimecres","Dijous","Divendres","Dissabte","Diumenge"],daysShort:["Diu","Dil","Dmt","Dmc","Dij","Div","Dis","Diu"],daysMin:["dg","dl","dt","dc","dj","dv","ds","dg"],months:["Gener","Febrer","Mar","Abril","Maig","Juny","Juliol","Agost","Setembre","Octubre","Novembre","Desembre"],monthsShort:["Gen","Feb","Mar","Abr","Mai","Jun","Jul","Ago","Set","Oct","Nov","Des"],today:"Avui",clear:"Esborrar",weekStart:1,format:"dd/mm/yyyy"}}(jQuery);
!function(e){e.fn.datepicker.dates.cs={days:["Nedle","Pondl","ter","Steda","tvrtek","Ptek","Sobota","Nedle"],daysShort:["Ned","Pon","te","St","tv","Pt","Sob","Ned"],daysMin:["Ne","Po","t","St","t","P","So","Ne"],months:["Leden","nor","Bezen","Duben","Kvten","erven","ervenec","Srpen","Z","jen","Listopad","Prosinec"],monthsShort:["Led","no","Be","Dub","Kv","er","nc","Srp","Z","j","Lis","Pro"],today:"Dnes",clear:"Vymazat",weekStart:1,format:"d.m.yyyy"}}(jQuery);
!function(a){a.fn.datepicker.dates.cy={days:["Sul","Llun","Mawrth","Mercher","Iau","Gwener","Sadwrn","Sul"],daysShort:["Sul","Llu","Maw","Mer","Iau","Gwe","Sad","Sul"],daysMin:["Su","Ll","Ma","Me","Ia","Gwe","Sa","Su"],months:["Ionawr","Chewfror","Mawrth","Ebrill","Mai","Mehefin","Gorfennaf","Awst","Medi","Hydref","Tachwedd","Rhagfyr"],monthsShort:["Ion","Chw","Maw","Ebr","Mai","Meh","Gor","Aws","Med","Hyd","Tach","Rha"],today:"Heddiw"}}(jQuery);
!function(a){a.fn.datepicker.dates.da={days:["Sndag","Mandag","Tirsdag","Onsdag","Torsdag","Fredag","Lrdag","Sndag"],daysShort:["Sn","Man","Tir","Ons","Tor","Fre","Lr","Sn"],daysMin:["S","Ma","Ti","On","To","Fr","L","S"],months:["Januar","Februar","Marts","April","Maj","Juni","Juli","August","September","Oktober","November","December"],monthsShort:["Jan","Feb","Mar","Apr","Maj","Jun","Jul","Aug","Sep","Okt","Nov","Dec"],today:"I Dag",clear:"Nulstil"}}(jQuery);
!function(e){e.fn.datepicker.dates.de={days:["Sonntag","Montag","Dienstag","Mittwoch","Donnerstag","Freitag","Samstag","Sonntag"],daysShort:["Son","Mon","Die","Mit","Don","Fre","Sam","Son"],daysMin:["So","Mo","Di","Mi","Do","Fr","Sa","So"],months:["Januar","Februar","Mrz","April","Mai","Juni","Juli","August","September","Oktober","November","Dezember"],monthsShort:["Jan","Feb","Mr","Apr","Mai","Jun","Jul","Aug","Sep","Okt","Nov","Dez"],today:"Heute",clear:"Lschen",weekStart:1,format:"dd.mm.yyyy"}}(jQuery);
!function(t){t.fn.datepicker.dates.el={days:["","","","","","","",""],daysShort:["","","","","","","",""],daysMin:["","","","","","","",""],months:["","","","","","","","","","","",""],monthsShort:["","","","","","","","","","","",""],today:"",clear:"",weekStart:1,format:"d/m/yyyy"}}(jQuery);
!function(a){a.fn.datepicker.dates["en-GB"]={days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],daysShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat","Sun"],daysMin:["Su","Mo","Tu","We","Th","Fr","Sa","Su"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],monthsShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],today:"Today",clear:"Clear",weekStart:1,format:"dd/mm/yyyy"}}(jQuery);
!function(e){e.fn.datepicker.dates.es={days:["Domingo","Lunes","Martes","Mircoles","Jueves","Viernes","Sbado","Domingo"],daysShort:["Dom","Lun","Mar","Mi","Jue","Vie","Sb","Dom"],daysMin:["Do","Lu","Ma","Mi","Ju","Vi","Sa","Do"],months:["Enero","Febrero","Marzo","Abril","Mayo","Junio","Julio","Agosto","Septiembre","Octubre","Noviembre","Diciembre"],monthsShort:["Ene","Feb","Mar","Abr","May","Jun","Jul","Ago","Sep","Oct","Nov","Dic"],today:"Hoy",clear:"Borrar",weekStart:1,format:"dd/mm/yyyy"}}(jQuery);
!function(e){e.fn.datepicker.dates.et={days:["Phapev","Esmaspev","Teisipev","Kolmapev","Neljapev","Reede","Laupev","Phapev"],daysShort:["Phap","Esmasp","Teisip","Kolmap","Neljap","Reede","Laup","Phap"],daysMin:["P","E","T","K","N","R","L","P"],months:["Jaanuar","Veebruar","Mrts","Aprill","Mai","Juuni","Juuli","August","September","Oktoober","November","Detsember"],monthsShort:["Jaan","Veebr","Mrts","Apr","Mai","Juuni","Juuli","Aug","Sept","Okt","Nov","Dets"],today:"Tna",clear:"Thjenda",weekStart:1,format:"dd.mm.yyyy"}}(jQuery);
!function(a){a.fn.datepicker.dates.eu={days:["Igandea","Astelehena","Asteartea","Asteazkena","Osteguna","Ostirala","Larunbata","Igandea"],daysShort:["Ig","Al","Ar","Az","Og","Ol","Lr","Ig"],daysMin:["Ig","Al","Ar","Az","Og","Ol","Lr","Ig"],months:["Urtarrila","Otsaila","Martxoa","Apirila","Maiatza","Ekaina","Uztaila","Abuztua","Iraila","Urria","Azaroa","Abendua"],monthsShort:["Urt","Ots","Mar","Api","Mai","Eka","Uzt","Abu","Ira","Urr","Aza","Abe"],today:"Gaur"}}(jQuery);
!function(t){t.fn.datepicker.dates.fa={days:["","","","","","","",""],daysShort:["","","","","","","",""],daysMin:["","","","","","","",""],months:["","","","","","","","","","","",""],monthsShort:["","","","","","","","","","","",""],today:"",clear:" ",weekStart:1,format:"yyyy/mm/dd"}}(jQuery);
!function(u){u.fn.datepicker.dates.fi={days:["sunnuntai","maanantai","tiistai","keskiviikko","torstai","perjantai","lauantai","sunnuntai"],daysShort:["sun","maa","tii","kes","tor","per","lau","sun"],daysMin:["su","ma","ti","ke","to","pe","la","su"],months:["tammikuu","helmikuu","maaliskuu","huhtikuu","toukokuu","keskuu","heinkuu","elokuu","syyskuu","lokakuu","marraskuu","joulukuu"],monthsShort:["tam","hel","maa","huh","tou","kes","hei","elo","syy","lok","mar","jou"],today:"tnn",weekStart:1,format:"d.m.yyyy"}}(jQuery);
!function(u){u.fn.datepicker.dates.fo={days:["Sunnudagur","Mnadagur","Tsdagur","Mikudagur","Hsdagur","Frggjadagur","Leygardagur","Sunnudagur"],daysShort:["Sun","Mn","Ts","Mik","Hs","Fr","Ley","Sun"],daysMin:["Su","M","T","Mi","H","Fr","Le","Su"],months:["Januar","Februar","Marts","Aprl","Mei","Juni","Juli","August","Septembur","Oktobur","Novembur","Desembur"],monthsShort:["Jan","Feb","Mar","Apr","Mei","Jun","Jul","Aug","Sep","Okt","Nov","Des"],today:" Dag",clear:"Reinsa"}}(jQuery);
!function(e){e.fn.datepicker.dates.fr={days:["Dimanche","Lundi","Mardi","Mercredi","Jeudi","Vendredi","Samedi","Dimanche"],daysShort:["Dim","Lun","Mar","Mer","Jeu","Ven","Sam","Dim"],daysMin:["D","L","Ma","Me","J","V","S","D"],months:["Janvier","Fvrier","Mars","Avril","Mai","Juin","Juillet","Aot","Septembre","Octobre","Novembre","Dcembre"],monthsShort:["Jan","Fv","Mar","Avr","Mai","Jui","Jul","Aou","Sep","Oct","Nov","Dc"],today:"Aujourd'hui",clear:"Effacer",weekStart:1,format:"dd.mm.yyyy"}}(jQuery);
!function(e){e.fn.datepicker.dates.fr={days:["Dimanche","Lundi","Mardi","Mercredi","Jeudi","Vendredi","Samedi","Dimanche"],daysShort:["Dim","Lun","Mar","Mer","Jeu","Ven","Sam","Dim"],daysMin:["D","L","Ma","Me","J","V","S","D"],months:["Janvier","Fvrier","Mars","Avril","Mai","Juin","Juillet","Aot","Septembre","Octobre","Novembre","Dcembre"],monthsShort:["Jan","Fv","Mar","Avr","Mai","Jui","Jul","Aou","Sep","Oct","Nov","Dc"],today:"Aujourd'hui",clear:"Effacer",weekStart:1,format:"dd/mm/yyyy"}}(jQuery);
!function(o){o.fn.datepicker.dates.gl={days:["Domingo","Luns","Martes","Mrcores","Xoves","Venres","Sbado","Domingo"],daysShort:["Dom","Lun","Mar","Mr","Xov","Ven","Sb","Dom"],daysMin:["Do","Lu","Ma","Me","Xo","Ve","Sa","Do"],months:["Xaneiro","Febreiro","Marzo","Abril","Maio","Xuo","Xullo","Agosto","Setembro","Outubro","Novembro","Decembro"],monthsShort:["Xan","Feb","Mar","Abr","Mai","Xun","Xul","Ago","Sep","Out","Nov","Dec"],today:"Hoxe",clear:"Limpar",weekStart:1,format:"dd/mm/yyyy"}}(jQuery);
!function(t){t.fn.datepicker.dates.he={days:["","","","","","","",""],daysShort:["","","","","","","",""],daysMin:["","","","","","","",""],months:["","","","","","","","","","","",""],monthsShort:["","","","","","","","","","","",""],today:"",rtl:!0}}(jQuery);
!function(a){a.fn.datepicker.dates.hr={days:["Nedjelja","Ponedjeljak","Utorak","Srijeda","etvrtak","Petak","Subota","Nedjelja"],daysShort:["Ned","Pon","Uto","Sri","et","Pet","Sub","Ned"],daysMin:["Ne","Po","Ut","Sr","e","Pe","Su","Ne"],months:["Sijeanj","Veljaa","Oujak","Travanj","Svibanj","Lipanj","Srpanj","Kolovoz","Rujan","Listopad","Studeni","Prosinac"],monthsShort:["Sij","Velj","Ou","Tra","Svi","Lip","Srp","Kol","Ruj","Lis","Stu","Pro"],today:"Danas"}}(jQuery);
!function(e){e.fn.datepicker.dates.hu={days:["Vasrnap","Htf","Kedd","Szerda","Cstrtk","Pntek","Szombat","Vasrnap"],daysShort:["Vas","Ht","Ked","Sze","Cs","Pn","Szo","Vas"],daysMin:["Va","H","Ke","Sz","Cs","P","Sz","Va"],months:["Janur","Februr","Mrcius","prilis","Mjus","Jnius","Jlius","Augusztus","Szeptember","Oktber","November","December"],monthsShort:["Jan","Feb","Mr","pr","Mj","Jn","Jl","Aug","Sze","Okt","Nov","Dec"],today:"Ma",weekStart:1,format:"yyyy.mm.dd"}}(jQuery);
!function(t){t.fn.datepicker.dates.hy={days:["","","","","","","",""],daysShort:["","","","","","","",""],daysMin:["","","","","","","",""],months:["","","","","","","","","","","",""],monthsShort:["","","","","","","","","","","",""],today:"",clear:"",format:"dd.mm.yyyy",weekStart:1}}(jQuery);
!function(a){a.fn.datepicker.dates.id={days:["Minggu","Senin","Selasa","Rabu","Kamis","Jumat","Sabtu","Minggu"],daysShort:["Mgu","Sen","Sel","Rab","Kam","Jum","Sab","Mgu"],daysMin:["Mg","Sn","Sl","Ra","Ka","Ju","Sa","Mg"],months:["Januari","Februari","Maret","April","Mei","Juni","Juli","Agustus","September","Oktober","November","Desember"],monthsShort:["Jan","Feb","Mar","Apr","Mei","Jun","Jul","Ags","Sep","Okt","Nov","Des"],today:"Hari Ini",clear:"Kosongkan"}}(jQuery);
!function(a){a.fn.datepicker.dates.is={days:["Sunnudagur","Mnudagur","rijudagur","Mivikudagur","Fimmtudagur","Fstudagur","Laugardagur","Sunnudagur"],daysShort:["Sun","Mn","ri","Mi","Fim","Fs","Lau","Sun"],daysMin:["Su","M","r","Mi","Fi","F","La","Su"],months:["Janar","Febrar","Mars","Aprl","Ma","Jn","Jl","gst","September","Oktber","Nvember","Desember"],monthsShort:["Jan","Feb","Mar","Apr","Ma","Jn","Jl","g","Sep","Okt","Nv","Des"],today:" Dag"}}(jQuery);
!function(e){e.fn.datepicker.dates.it={days:["Domenica","Luned","Marted","Mercoled","Gioved","Venerd","Sabato","Domenica"],daysShort:["Dom","Lun","Mar","Mer","Gio","Ven","Sab","Dom"],daysMin:["Do","Lu","Ma","Me","Gi","Ve","Sa","Do"],months:["Gennaio","Febbraio","Marzo","Aprile","Maggio","Giugno","Luglio","Agosto","Settembre","Ottobre","Novembre","Dicembre"],monthsShort:["Gen","Feb","Mar","Apr","Mag","Giu","Lug","Ago","Set","Ott","Nov","Dic"],today:"Oggi",clear:"Cancella",weekStart:1,format:"dd.mm.yyyy"}}(jQuery);
!function(e){e.fn.datepicker.dates.it={days:["Domenica","Luned","Marted","Mercoled","Gioved","Venerd","Sabato","Domenica"],daysShort:["Dom","Lun","Mar","Mer","Gio","Ven","Sab","Dom"],daysMin:["Do","Lu","Ma","Me","Gi","Ve","Sa","Do"],months:["Gennaio","Febbraio","Marzo","Aprile","Maggio","Giugno","Luglio","Agosto","Settembre","Ottobre","Novembre","Dicembre"],monthsShort:["Gen","Feb","Mar","Apr","Mag","Giu","Lug","Ago","Set","Ott","Nov","Dic"],today:"Oggi",clear:"Cancella",weekStart:1,format:"dd/mm/yyyy"}}(jQuery);
!function(a){a.fn.datepicker.dates.ja={days:["","","","","","","",""],daysShort:["","","","","","","",""],daysMin:["","","","","","","",""],months:["1","2","3","4","5","6","7","8","9","10","11","12"],monthsShort:["1","2","3","4","5","6","7","8","9","10","11","12"],today:"",format:"yyyy/mm/dd",clear:""}}(jQuery);
!function(t){t.fn.datepicker.dates.ka={days:["","","","","","","",""],daysShort:["","","","","","","",""],daysMin:["","","","","","","",""],months:["","","","","","","","","","","",""],monthsShort:["","","","","","","","","","","",""],today:"",clear:"",weekStart:1,format:"dd.mm.yyyy"}}(jQuery);
!function(t){t.fn.datepicker.dates.kh={days:["","","","","","","",""],daysShort:[".","","","",".","","","."],daysMin:[".","","","",".","","","."],months:["","","","","","","","","","","",""],monthsShort:["","","","","","","","","","","",""],today:"",clear:""}}(jQuery);
!function(t){t.fn.datepicker.dates.kk={days:["","","","","","","",""],daysShort:["","","","","","","",""],daysMin:["","","","","","","",""],months:["","","","","","","","","","","",""],monthsShort:["","","","","","","","","","","",""],today:"",weekStart:1}}(jQuery);
!function(t){t.fn.datepicker.dates.kr={days:["","","","","","","",""],daysShort:["","","","","","","",""],daysMin:["","","","","","","",""],months:["1","2","3","4","5","6","7","8","9","10","11","12"],monthsShort:["1","2","3","4","5","6","7","8","9","10","11","12"]}}(jQuery);
!function(i){i.fn.datepicker.dates.lt={days:["Sekmadienis","Pirmadienis","Antradienis","Treiadienis","Ketvirtadienis","Penktadienis","etadienis","Sekmadienis"],daysShort:["S","Pr","A","T","K","Pn","","S"],daysMin:["Sk","Pr","An","Tr","Ke","Pn","t","Sk"],months:["Sausis","Vasaris","Kovas","Balandis","Gegu","Birelis","Liepa","Rugpjtis","Rugsjis","Spalis","Lapkritis","Gruodis"],monthsShort:["Sau","Vas","Kov","Bal","Geg","Bir","Lie","Rugp","Rugs","Spa","Lap","Gru"],today:"iandien",weekStart:1}}(jQuery);
!function(e){e.fn.datepicker.dates.lv={days:["Svtdiena","Pirmdiena","Otrdiena","Trediena","Ceturtdiena","Piektdiena","Sestdiena","Svtdiena"],daysShort:["Sv","P","O","T","C","Pk","S","Sv"],daysMin:["Sv","Pr","Ot","Tr","Ce","Pk","Se","Sv"],months:["Janvris","Februris","Marts","Aprlis","Maijs","Jnijs","Jlijs","Augusts","Septembris","Oktobris","Novembris","Decembris"],monthsShort:["Jan","Feb","Mar","Apr","Mai","Jn","Jl","Aug","Sep","Okt","Nov","Dec"],today:"odien",weekStart:1}}(jQuery);
!function(t){t.fn.datepicker.dates.mk={days:["","","","","","","",""],daysShort:["","","","","","","",""],daysMin:["","","","","","","",""],months:["","","","","","","","","","","",""],monthsShort:["","","","","","","","","","","",""],today:"",format:"dd.mm.yyyy"}}(jQuery);
!function(a){a.fn.datepicker.dates.ms={days:["Ahad","Isnin","Selasa","Rabu","Khamis","Jumaat","Sabtu","Ahad"],daysShort:["Aha","Isn","Sel","Rab","Kha","Jum","Sab","Aha"],daysMin:["Ah","Is","Se","Ra","Kh","Ju","Sa","Ah"],months:["Januari","Februari","Mac","April","Mei","Jun","Julai","Ogos","September","Oktober","November","Disember"],monthsShort:["Jan","Feb","Mar","Apr","Mei","Jun","Jul","Ogo","Sep","Okt","Nov","Dis"],today:"Hari Ini"}}(jQuery);
!function(a){a.fn.datepicker.dates.nb={days:["Sndag","Mandag","Tirsdag","Onsdag","Torsdag","Fredag","Lrdag","Sndag"],daysShort:["Sn","Man","Tir","Ons","Tor","Fre","Lr","Sn"],daysMin:["S","Ma","Ti","On","To","Fr","L","S"],months:["Januar","Februar","Mars","April","Mai","Juni","Juli","August","September","Oktober","November","Desember"],monthsShort:["Jan","Feb","Mar","Apr","Mai","Jun","Jul","Aug","Sep","Okt","Nov","Des"],today:"I Dag"}}(jQuery);
!function(a){a.fn.datepicker.dates["nl-BE"]={days:["Zondag","Maandag","Dinsdag","Woensdag","Donderdag","Vrijdag","Zaterdag","Zondag"],daysShort:["Zo","Ma","Di","Wo","Do","Vr","Za","Zo"],daysMin:["Zo","Ma","Di","Wo","Do","Vr","Za","Zo"],months:["Januari","Februari","Maart","April","Mei","Juni","Juli","Augustus","September","Oktober","November","December"],monthsShort:["Jan","Feb","Mrt","Apr","Mei","Jun","Jul","Aug","Sep","Okt","Nov","Dec"],today:"Vandaag",clear:"Leegmaken",weekStart:1,format:"dd/mm/yyyy"}}(jQuery);
!function(a){a.fn.datepicker.dates.nl={days:["Zondag","Maandag","Dinsdag","Woensdag","Donderdag","Vrijdag","Zaterdag","Zondag"],daysShort:["Zo","Ma","Di","Wo","Do","Vr","Za","Zo"],daysMin:["Zo","Ma","Di","Wo","Do","Vr","Za","Zo"],months:["Januari","Februari","Maart","April","Mei","Juni","Juli","Augustus","September","Oktober","November","December"],monthsShort:["Jan","Feb","Mrt","Apr","Mei","Jun","Jul","Aug","Sep","Okt","Nov","Dec"],today:"Vandaag",clear:"Wissen",weekStart:1,format:"dd-mm-yyyy"}}(jQuery);
!function(a){a.fn.datepicker.dates.no={days:["Sndag","Mandag","Tirsdag","Onsdag","Torsdag","Fredag","Lrdag"],daysShort:["Sn","Man","Tir","Ons","Tor","Fre","Lr"],daysMin:["S","Ma","Ti","On","To","Fr","L"],months:["Januar","Februar","Mars","April","Mai","Juni","Juli","August","September","Oktober","November","Desember"],monthsShort:["Jan","Feb","Mar","Apr","Mai","Jun","Jul","Aug","Sep","Okt","Nov","Des"],today:"I dag",clear:"Nullstill",weekStart:1,format:"dd.mm.yyyy"}}(jQuery);
!function(e){e.fn.datepicker.dates.pl={days:["Niedziela","Poniedziaek","Wtorek","roda","Czwartek","Pitek","Sobota","Niedziela"],daysShort:["Nie","Pn","Wt","r","Czw","Pt","So","Nie"],daysMin:["N","Pn","Wt","r","Cz","Pt","So","N"],months:["Stycze","Luty","Marzec","Kwiecie","Maj","Czerwiec","Lipiec","Sierpie","Wrzesie","Padziernik","Listopad","Grudzie"],monthsShort:["Sty","Lu","Mar","Kw","Maj","Cze","Lip","Sie","Wrz","Pa","Lis","Gru"],today:"Dzisiaj",weekStart:1,clear:"Wyczy"}}(jQuery);
!function(o){o.fn.datepicker.dates["pt-BR"]={days:["Domingo","Segunda","Tera","Quarta","Quinta","Sexta","Sbado","Domingo"],daysShort:["Dom","Seg","Ter","Qua","Qui","Sex","Sb","Dom"],daysMin:["Do","Se","Te","Qu","Qu","Se","Sa","Do"],months:["Janeiro","Fevereiro","Maro","Abril","Maio","Junho","Julho","Agosto","Setembro","Outubro","Novembro","Dezembro"],monthsShort:["Jan","Fev","Mar","Abr","Mai","Jun","Jul","Ago","Set","Out","Nov","Dez"],today:"Hoje",clear:"Limpar"}}(jQuery);
!function(o){o.fn.datepicker.dates.pt={days:["Domingo","Segunda","Tera","Quarta","Quinta","Sexta","Sbado","Domingo"],daysShort:["Dom","Seg","Ter","Qua","Qui","Sex","Sb","Dom"],daysMin:["Do","Se","Te","Qu","Qu","Se","Sa","Do"],months:["Janeiro","Fevereiro","Maro","Abril","Maio","Junho","Julho","Agosto","Setembro","Outubro","Novembro","Dezembro"],monthsShort:["Jan","Fev","Mar","Abr","Mai","Jun","Jul","Ago","Set","Out","Nov","Dez"],today:"Hoje",clear:"Limpar"}}(jQuery);
!function(i){i.fn.datepicker.dates.ro={days:["Duminic","Luni","Mari","Miercuri","Joi","Vineri","Smbt","Duminic"],daysShort:["Dum","Lun","Mar","Mie","Joi","Vin","Sm","Dum"],daysMin:["Du","Lu","Ma","Mi","Jo","Vi","S","Du"],months:["Ianuarie","Februarie","Martie","Aprilie","Mai","Iunie","Iulie","August","Septembrie","Octombrie","Noiembrie","Decembrie"],monthsShort:["Ian","Feb","Mar","Apr","Mai","Iun","Iul","Aug","Sep","Oct","Nov","Dec"],today:"Astzi",clear:"terge",weekStart:1}}(jQuery);
!function(a){a.fn.datepicker.dates["rs-latin"]={days:["Nedelja","Ponedeljak","Utorak","Sreda","etvrtak","Petak","Subota","Nedelja"],daysShort:["Ned","Pon","Uto","Sre","et","Pet","Sub","Ned"],daysMin:["N","Po","U","Sr","","Pe","Su","N"],months:["Januar","Februar","Mart","April","Maj","Jun","Jul","Avgust","Septembar","Oktobar","Novembar","Decembar"],monthsShort:["Jan","Feb","Mar","Apr","Maj","Jun","Jul","Avg","Sep","Okt","Nov","Dec"],today:"Danas",weekStart:1,format:"dd.mm.yyyy"}}(jQuery);
!function(t){t.fn.datepicker.dates.rs={days:["","","","","","","",""],daysShort:["","","","","","","",""],daysMin:["","","","","","","",""],months:["","","","","","","","","","","",""],monthsShort:["","","","","","","","","","","",""],today:"",weekStart:1,format:"dd.mm.yyyy"}}(jQuery);
!function(t){t.fn.datepicker.dates.ru={days:["","","","","","","",""],daysShort:["","","","","","","",""],daysMin:["","","","","","","",""],months:["","","","","","","","","","","",""],monthsShort:["","","","","","","","","","","",""],today:"",clear:"",format:"dd.mm.yyyy",weekStart:1}}(jQuery);
!function(e){e.fn.datepicker.dates.sk={days:["Nedea","Pondelok","Utorok","Streda","tvrtok","Piatok","Sobota","Nedea"],daysShort:["Ned","Pon","Uto","Str","tv","Pia","Sob","Ned"],daysMin:["Ne","Po","Ut","St","t","Pia","So","Ne"],months:["Janur","Februr","Marec","Aprl","Mj","Jn","Jl","August","September","Oktber","November","December"],monthsShort:["Jan","Feb","Mar","Apr","Mj","Jn","Jl","Aug","Sep","Okt","Nov","Dec"],today:"Dnes"}}(jQuery);
!function(e){e.fn.datepicker.dates.sl={days:["Nedelja","Ponedeljek","Torek","Sreda","etrtek","Petek","Sobota","Nedelja"],daysShort:["Ned","Pon","Tor","Sre","et","Pet","Sob","Ned"],daysMin:["Ne","Po","To","Sr","e","Pe","So","Ne"],months:["Januar","Februar","Marec","April","Maj","Junij","Julij","Avgust","September","Oktober","November","December"],monthsShort:["Jan","Feb","Mar","Apr","Maj","Jun","Jul","Avg","Sep","Okt","Nov","Dec"],today:"Danes"}}(jQuery);
!function(r){r.fn.datepicker.dates.sq={days:["E Diel","E Hn","E Mart","E Mrkur","E Enjte","E Premte","E Shtun","E Diel"],daysShort:["Die","Hn","Mar","Mr","Enj","Pre","Shtu","Die"],daysMin:["Di","H","Ma","M","En","Pr","Sht","Di"],months:["Janar","Shkurt","Mars","Prill","Maj","Qershor","Korrik","Gusht","Shtator","Tetor","Nntor","Dhjetor"],monthsShort:["Jan","Shk","Mar","Pri","Maj","Qer","Korr","Gu","Sht","Tet","Nn","Dhjet"],today:"Sot"}}(jQuery);
!function(a){a.fn.datepicker.dates["sr-latin"]={days:["Nedelja","Ponedeljak","Utorak","Sreda","etvrtak","Petak","Subota","Nedelja"],daysShort:["Ned","Pon","Uto","Sre","et","Pet","Sub","Ned"],daysMin:["N","Po","U","Sr","","Pe","Su","N"],months:["Januar","Februar","Mart","April","Maj","Jun","Jul","Avgust","Septembar","Oktobar","Novembar","Decembar"],monthsShort:["Jan","Feb","Mar","Apr","Maj","Jun","Jul","Avg","Sep","Okt","Nov","Dec"],today:"Danas",weekStart:1,format:"dd.mm.yyyy"}}(jQuery);
!function(t){t.fn.datepicker.dates.sr={days:["","","","","","","",""],daysShort:["","","","","","","",""],daysMin:["","","","","","","",""],months:["","","","","","","","","","","",""],monthsShort:["","","","","","","","","","","",""],today:"",weekStart:1,format:"dd.mm.yyyy"}}(jQuery);
!function(a){a.fn.datepicker.dates.sv={days:["Sndag","Mndag","Tisdag","Onsdag","Torsdag","Fredag","Lrdag","Sndag"],daysShort:["Sn","Mn","Tis","Ons","Tor","Fre","Lr","Sn"],daysMin:["S","M","Ti","On","To","Fr","L","S"],months:["Januari","Februari","Mars","April","Maj","Juni","Juli","Augusti","September","Oktober","November","December"],monthsShort:["Jan","Feb","Mar","Apr","Maj","Jun","Jul","Aug","Sep","Okt","Nov","Dec"],today:"Idag",format:"yyyy-mm-dd",weekStart:1,clear:"Rensa"}}(jQuery);
!function(a){a.fn.datepicker.dates.sw={days:["Jumapili","Jumatatu","Jumanne","Jumatano","Alhamisi","Ijumaa","Jumamosi","Jumapili"],daysShort:["J2","J3","J4","J5","Alh","Ij","J1","J2"],daysMin:["2","3","4","5","A","I","1","2"],months:["Januari","Februari","Machi","Aprili","Mei","Juni","Julai","Agosti","Septemba","Oktoba","Novemba","Desemba"],monthsShort:["Jan","Feb","Mac","Apr","Mei","Jun","Jul","Ago","Sep","Okt","Nov","Des"],today:"Leo"}}(jQuery);
!function(t){t.fn.datepicker.dates.th={days:["","","","","","","",""],daysShort:["","","","","","","",""],daysMin:["","","","","","","",""],months:["","","","","","","","","","","",""],monthsShort:["..","..","..","..","..","..","..","..","..","..","..",".."],today:""}}(jQuery);
!function(a){a.fn.datepicker.dates.tr={days:["Pazar","Pazartesi","Sal","aramba","Perembe","Cuma","Cumartesi","Pazar"],daysShort:["Pz","Pzt","Sal","r","Pr","Cu","Cts","Pz"],daysMin:["Pz","Pzt","Sa","r","Pr","Cu","Ct","Pz"],months:["Ocak","ubat","Mart","Nisan","Mays","Haziran","Temmuz","Austos","Eyll","Ekim","Kasm","Aralk"],monthsShort:["Oca","ub","Mar","Nis","May","Haz","Tem","Au","Eyl","Eki","Kas","Ara"],today:"Bugn",format:"dd.mm.yyyy"}}(jQuery);
!function(t){t.fn.datepicker.dates.uk={days:["","","","","","'","",""],daysShort:["","","","","","","",""],daysMin:["","","","","","","",""],months:["C","","","","","","","","","","",""],monthsShort:["","","","","","","","","","","",""],today:"",weekStart:1}}(jQuery);
!function(h){h.fn.datepicker.dates.vi={days:["Ch nht","Th hai","Th ba","Th t","Th nm","Th su","Th by","Ch nht"],daysShort:["CN","Th 2","Th 3","Th 4","Th 5","Th 6","Th 7","CN"],daysMin:["CN","T2","T3","T4","T5","T6","T7","CN"],months:["Thng 1","Thng 2","Thng 3","Thng 4","Thng 5","Thng 6","Thng 7","Thng 8","Thng 9","Thng 10","Thng 11","Thng 12"],monthsShort:["Th1","Th2","Th3","Th4","Th5","Th6","Th7","Th8","Th9","Th10","Th11","Th12"],today:"Hm nay",clear:"Xa",format:"dd/mm/yyyy"}}(jQuery);
!function(t){t.fn.datepicker.dates["zh-CN"]={days:["","","","","","","",""],daysShort:["","","","","","","",""],daysMin:["","","","","","","",""],months:["","","","","","","","","","","",""],monthsShort:["","","","","","","","","","","",""],today:"",format:"yyyymmdd",weekStart:1,clear:""}}(jQuery);
!function(t){t.fn.datepicker.dates["zh-TW"]={days:["","","","","","","",""],daysShort:["","","","","","","",""],daysMin:["","","","","","","",""],months:["","","","","","","","","","","",""],monthsShort:["","","","","","","","","","","",""],today:"",format:"yyyymmdd",weekStart:1}}(jQuery);
function flipForm(o,l){$('[data-toggle="popover"]').popover("hide").closest(".form-group").removeClass("has-error");var s="login-diag"==o?$("#loginEmail").val():$("#lostEmail").val();"login-diag"==l?$("#loginEmail").val(s):$("#lostEmail").val(s),$("#"+o).slideToggle(400,function(){$("#"+l).slideToggle()})}function login(){cleanError("#loginEmail","#loginPassword"),invalidEmail("#loginEmail")||empty("#loginEmail","#loginPassword")||(console.log("here"),signin($("#loginEmail").val().trim().toLowerCase(),$("#loginPassword").val()).done(loginSuccess).fail(loginFail))}function loginSuccess(o){localStorage.setItem("token",o.Token),window.location.href="/"}function loginFail(o){404==o.status?reportError("#loginEmail",o.responseText):401==o.status&&reportError("#loginPassword",o.responseText)}function passwordLost(){invalidEmail("#lostEmail")||($("#reset-button").attr("disabled","disabled"),resetPassword($("#lostEmail").val().trim().toLowerCase()).fail(passwordLostFail).done(passwordLostOk))}function passwordLostOk(o){$(".alert-success").removeClass("hidden"),$(".btn").attr("disabled","disabled"),cleanError("#lostEmail")}function passwordLostFail(o){$("#reset-button").removeAttr("disabled"),reportError("#lostEmail",o.responseText)}
function showLogs(){logs().success(function(o){$("#cnt").render("logs",o,function(){$("a[href='#top']").click(function(){return $("html, body").animate({scrollTop:0},500),!1}),$("a[href='#bottom']").click(function(){return showLog(),!1}),events=o.filter(function(o){return o.indexOf("event")>=0}),toShow=events[events.length-1],$("#logs").val(toShow),showLog(toShow)})})}function showLog(o){o||(o=$("#logs").val()),getLog(o).success(function(o){o=o.split("\n").map(function(o){return o.substring(o.indexOf(" ")+1)}).join("\n"),$("#log").html(o),$("html, body").animate({scrollTop:$(document).height()-$(window).height()},500)})}
function conventionMailing(n,i,a){var c=[],e=[];$(n).find("input:checked").each(function(n,t){var o=$(t);c.push(o.data(i)),a&&e.push(o.data(a))}),sendMail(c,e)}function sendMail(n,i){n.length>0&&(window.location.href="mailto:"+n.join(",")+(i.length>0?"?cc="+i.join(","):""))}function userMailing(n){var i=[];$(n).find("input:checked").each(function(n,a){var c=$(a).data("email");i.push(c)}),sendMail(i,[])}
function equals(s,a){var d=$(s).val(),e=$(a).val();return d!=e?(reportError(a,"Passwords do not match"),!1):!0}function setPassword(){$(".alert-danger").addClass("hidden"),empty("#passwd1","#passwd2")||equals("#passwd1","#passwd2")&&newPassword($.urlParam("token"),$("#passwd1").val()).fail(failSetPassword).done(doneSetPassword)}function doneSetPassword(s){$(".btn").attr("disabled","disabled"),window.location="/login?email="+s}function failSetPassword(s){cleanError("#passwd1","#passwd2"),$(".alert-danger").html(s.responseText).removeClass("hidden")}
function showProfileEditor(){$("#modal").render("profile-editor",myself,showModal)}function makeEditable(e){$(e).find(".editable-role").each(function(e,o){$(o).editable({source:editableRoles(),url:function(e){return postUserRole($(o).data("user"),parseInt(e.value))}})})}function showPasswordEditor(){$("#modal").render("password-editor",{},showModal)}function startResetPassword(){resetPassword(myself.Person.Email).fail(resetFail).done(passwordLostOk)}function passwordLostOk(e){$(".alert-success").removeClass("hidden"),$("#modal").find(".btn").attr("disabled","disabled")}function resetFail(e){$("#modal").find(".alert-danger").removeClass("hidden")}function updateProfile(e){empty("#profile-firstname","#profile-lastname")||user(e).done(function(e){p=e.Person,p.Firstname=$("#profile-firstname").val(),p.Lastname=$("#profile-lastname").val(),p.Tel=$("#profile-tel").val(),sendProfile(p).done(successUpdateProfile)})}function logout(){delSession().done(function(){window.location.href="/"}).fail(logFail)}function successUpdateProfile(e){e.Person.Email==myself.Person.Email&&(myself=e,$("#fullname").html(p.Lastname+", "+p.Firstname)),hideModal()}
function showRawFullname(e,n){var t=n?n+"-fn":"email",a=[];$(e).find("input:checked").each(function(e,n){var o=$(n);a.push(o.data(t).capitalize())}),a.length>0&&$("#modal").render("raw",{Title:a.length+" person(s)",Cnt:a.join("\n")},showModal)}function selectText(e){if(document.body.createTextRange){var n=document.body.createTextRange();n.moveToElementText(e),n.select()}else if(window.getSelection){var t=window.getSelection(),n=document.createRange();n.selectNodeContents(e),t.removeAllRanges(),t.addRange(n)}}
$(document).ready(function(){if($('[data-toggle="popover"]').popover(),getConfig().done(function(e){config=e,$(".release").html(config.Version)}),"/login"==window.location.pathname){var e=$.urlParam("email");e&&$("#loginEmail").val(e),$(function(){$("#login-diag").find("input").keypress(function(e){return e.which&&13==e.which||e.keyCode&&13==e.keyCode?($("#login").click(),!1):!0})})}else if("/home"==window.location.pathname)waitingBlock=$("#cnt").clone().html(),$(document).ajaxError(function(e,o){o.responseText.indexOf("expired")>0&&(window.location="/#sessionExpired")}),$.tablesorter.defaults.widgets=["uitheme"],$.tablesorter.defaults.theme="bootstrap",$.tablesorter.defaults.headerTemplate="{content} {icon}",cookie=getCookie("login"),cookie&&user(cookie).done(loadSuccess).fail(logFail);else if("/survey"==window.location.pathname)setLang(".fr",".en"),loadSurvey();else if("/password"==window.location.pathname){var o=$.urlParam("token");o||($(".alert-danger").html("<strong>There is no token in the request</strong>. Initiate a reset request <a href='login'>here</a>.").removeClass("hidden"),$(".btn").attr("disabled","disabled"))}else"/statistics"==window.location.pathname&&loadStatistics()});
function showReport(e,n){internship(e).done(function(e){showReportModal(e,n)})}function toggleReportConfidential(e,n,t){var o=$(t).prop("checked");postReportConfidential(n,e,o).fail(function(e){$(t).prop("checked",!o),notifyError(e)}).done(function(e,n,t){defaultSuccess({},n,t)})}function updateReportDeadline(e,n){var t=$("#report-deadline").data("DateTimePicker").date();postReportDeadline(e,n,t.toJSON()).done(function(n,t,o){updateInternshipRow(e),defaultSuccess({},t,o)}).fail(function(e){input.val($("#report-deadline").data("old-date")),notifyError(e)})}function showReportModal(e,n){var t;e.Reports.forEach(function(e){return e.Kind==n?(t=e,!1):void 0}),t.Email=e.Convention.Student.User.Person.Email,t.Tutor=e.Convention.Tutor.Person.Email,$("#modal").render("report-modal",t,function(){$("#report-deadline").datetimepicker(),showModal()})}function reviewDelay(e){return Math.floor(moment.duration(moment().diff(moment(e.Delivery))).asDays())}function deadlineDelay(e){return Math.floor(moment.duration(moment().diff(moment(e.Deadline))).asDays())}function netGrade(e){var n=moment.duration(moment(e.Delivery).diff(moment(e.Deadline))),t=Math.floor(n.asDays());return Math.max(0,e.Grade-config.LatePenalty*t)}function review(e,n,t){if(!(empty("#comment")||t&&empty("#grade"))){var o=$("#comment").val(),a=$("#grade").val();postReview(e,n,o,parseInt(a)).done(function(n,t,o){updateInternshipRow(e),defaultSuccess({},t,o),hideModal()})}}function penalty(e,n){var t=(moment(e),n?moment(n):moment(),n.unix()-e.unix());return 0>t?0:Math.floor(t/60/60/24)*config.LatePenalty}
function empty(){for(var t=0,r=0;r<arguments.length;r++)""==$(arguments[r]).val()?(reportError(arguments[r],"required"),t++):($(arguments[r]).closest(".form-group").removeClass("has-error"),$(arguments[r]).popover("hide"));return 0!=t}function invalidEmail(){for(var t=0,r=/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/,e=0;e<arguments.length;e++){var n=$(arguments[e]).val();n.indexOf(" ")>=0?(reportError(arguments[e],"invalid email. Check for space characters"),t++):r.test(n)?($(arguments[e]).closest(".form-group").removeClass("has-error"),$(arguments[e]).popover("hide")):(reportError(arguments[e],"invalid email"),t++)}return 0!=t}function reportError(t,r){var e=$(t).data("bs.popover");e?e.options.content=r:$(t).popover({template:'<div class="popover popover-error" role="tooltip"><div class="arrow"></div><h3 class="popover-title"></h3><div class="popover-content"></div></div>',content:r}),$(t).popover("show").closest(".form-group").addClass("has-error")}function defaultSuccess(t,r,e){var n=r;e&&e.responseText&&(n=e.responseText),$.notify({message:n},{type:"success",delay:1,placement:{from:"bottom",align:"right"}})}function cleanError(){for(var t=0;t<arguments.length;t++)$(arguments[t]).closest(".form-group").removeClass("has-error"),$(arguments[t]).popover("destroy")}function getCookie(t){var r="; "+document.cookie,e=r.split("; "+t+"=");return 2==e.length?e.pop().split(";").shift():void 0}function equals(t,r){return $(t).val()!=$(r).val()?(reportError(r,"Password do not match"),!1):!0}function post(t,r,e){return $.ajax({method:"POST",data:JSON.stringify(r),url:ROOT_API+t,async:!e})}function get(t){return $.ajax({method:"GET",url:ROOT_API+t}).fail(notifyError)}function del(t,r,e){return $.ajax({method:"DELETE",url:ROOT_API+t}).fail(notifyError)}function signin(t,r){return post("/signin",{Login:t,Password:r})}function delSession(){return del("/users/"+myself.Person.Email+"/session")}function resetPassword(t){return post("/resetPassword",t)}function newPassword(t,r){return post("/newPassword",{Token:t,Password:r})}function sendPassword(t,r){return post("/users/"+myself.Person.Email+"/password",{Current:t,Now:r})}function user(t){return get("/users/"+t)}function sendProfile(t){return post("/users/"+t.Email+"/person",t)}function internships(){return get("/internships/")}function internship(t){return get("/internships/"+t)}function getConfig(){return get("/config")}function users(){return get("/users/")}function postNewUser(t){return post("/users/",t)}function delUser(t){return del("/users/"+t)}function postUserRole(t,r){return post("/users/"+t+"/role",r)}function postStudentMajor(t,r){return post("/students/"+t+"/major",r)}function postStudentPromotion(t,r){return post("/students/"+t+"/promotion",r)}function students(){return get("/students/")}function conventions(){return get("/conventions/")}function pendingConventions(){return get("/conventions/")}function postStudent(t,r){return post("/students/",t,r)}function postStudentSkippable(t,r){return post("/students/"+t+"/skip",r)}function postUserEmail(t,r){return post("/users/"+t+"/email",r)}function internship(t){return get("/internships/"+t)}function convention(t){return get("/conventions/"+t)}function newInternship(t){return post("/internships/",t)}function resetPassword(t){return post("/resetPassword",t)}function surveyFromToken(t){return get("/surveys/"+t)}function postSurvey(t,r){return post("/surveys/"+t,r)}function postResetSurvey(t,r){return del("/surveys/"+t+"/"+r)}function postRequestSurvey(t,r){return post("/surveys/"+t+"/"+r)}function logFail(t){403!=t.status&&401!=t.status||$("#modal").render("error",t.responseText,showModal),console.log(t.status+" "+t.responseText)}function notifyError(t){var r=t;"string"!=typeof t&&(r=t.responseText?t.responseText:t.status),$.notify({message:r},{type:"danger",delay:1e3,placement:{from:"bottom",align:"right"}})}function postCompany(t,r){return post("/internships/"+t+"/company",r)}function postTitle(t,r){return post("/internships/"+t+"/title",r)}function postSupervisor(t,r){return post("/internships/"+t+"/supervisor",r)}function postAlumni(t,r){return post("/students/"+t+"/alumni",r)}function getReport(t,r){return get("/reports/"+t+"/"+r)}function postReportConfidential(t,r,e){return post("/reports/"+t+"/"+r+"/private",e)}function postReportDeadline(t,r,e){return post("/reports/"+t+"/"+r+"/deadline",e)}function getLog(t){return get("/logs/"+t)}function logs(){return get("/logs/")}function postReport(t,r,e,n){return $.ajax({method:"POST",url:ROOT_API+"/reports/"+t+"/"+r+"/content",data:e,processData:!1,contentType:"application/pdf",xhr:function(){return myXhr=$.ajaxSettings.xhr(),myXhr.upload&&myXhr.upload.addEventListener("progress",n,!1),myXhr}})}function postNewTutor(t,r){return post("/internships/"+t+"/tutor",r)}function postReview(t,r,e,n){return buf={Comment:e},n&&(buf.Grade=n),post("/reports/"+t+"/"+r+"/grade",buf)}$.urlParam=function(t){var r=new RegExp("[?&]"+t+"=([^&#]*)").exec(window.location.href);return null==r?null:r[1]||0};var ROOT_API="/api/v2";
function showService(){showWait(),internships().done(function(n){n||(n=[]);var t={};n.forEach(function(n){var o=n.Convention.Tutor.Person.Email,e=n.Convention.Student.Promotion;t[o]||(t[o]={U:n.Convention.Tutor,Ints:{},Defs:[],TotalInts:0}),t[o].Ints[e]||(t[o].Ints[e]=[]),t[o].Ints[e].push(n),t[o].TotalInts++}),$("#cnt").render("service",t,ui)})}
function loadStatistics(){"function"!=typeof Array.prototype.forEach&&(Array.prototype.forEach=function(t){for(var a=0;a<this.length;a++)t.apply(this,[this[a],a,this])}),waitingBlock=$("#cnt").clone().html(),internships().done(function(t){ints=t,Chart.defaults.global.responsive=!0,Chart.defaults.global.pointDot=!1,Chart.defaults.global.pointDotRadius=2;for(var a=0;a<ints.length;a++)ints[a].Convention.Gratification>1e4&&(ints[a].Convention.Gratification/=100),ints[a].Convention.Begin=moment(ints[a].Begin),ints[a].Convention.End=moment(ints[a].Begin);employers(ints),gratifications(),country(),sector()})}function delays(t,a){$("li.delays").removeClass("active"),t?delayKind=t:t=delayKind,a?delayType=a:a=delayType,$("li.delays."+t).addClass("active"),$("li.delays."+a).addClass("active");var n=[],e=new Date,i=0;stats.forEach(function(o){o.Reports.forEach(function(o){if(o.Kind==t){var r=new Date(o.Deadline);if("Delivery"==a){if(moment(r).isAfter(moment(e)))return;if(new Date(o.Delivery).getTime()>0){var s=nbDays(r,new Date(o.Delivery));0>s&&(s=0),s>14&&(s=14),n[s]=n[s]?n[s]+1:1}else i++}else{var l=new Date(o.Delivery),c=new Date(o.Reviewed);l.getTime()>0&&(c.getTime()<=0?o.Grade<0&&i++:(s=Math.round(nbDays(l,c)/7),n[s]=n[s]?n[s]+1:1))}}})}),$("#delays").closest(".hidden").removeClass("hidden");var o=Object.keys(n).map(function(t){return"Delivery"==a?t+" d.":t+" w."});"Delivery"==a&&(o[o.length-1]="14 d. +"),o.push("missing");var r=Object.keys(n).map(function(t){return n[t]});r.push(i);var s=$("#delays").html("").append("<canvas></canvas>").find("canvas").get(0).getContext("2d"),l={labels:o,datasets:[line(r)]};cMidtermDelay=new Chart(s).Bar(l,{showTooltip:!1})}function nbDays(t,a){return moment(a).dayOfYear()-moment(t).dayOfYear()}function ddply(t){for(var a=[t[0]],n=1;n<t.length;n++)t[n]==t[n-1]?a[n]="":a[n]=t[n];return a}function gratifications(t){$("li.gratification").removeClass("active"),t?$("li.gratification."+t).addClass("active"):$("li.gratification.all").addClass("active");var a=[],n=0;ints.forEach(function(e){g=e.Convention.Gratification,n+=g;var i=index(e,t);a[i]||(a[i]=[]),a[i].push(g)});for(var e=0;e<a.length;e++)a[e]=Math.round(avg(a[e]));t?"country"==t||"sector"==t?$("#how-much").html("<h1>"+Math.round(a[0])+" / "+Math.round(a[1])+"</h1>"):(c=$("<canvas>"),data=dataset("promotion"==t?config.Promotions:config.Majors,"gratifications",a),c=$("#how-much").html(c).find("canvas"),ctx=c.get(0).getContext("2d"),new Chart(ctx).Bar(data)):$("#how-much").html(Math.round(a[0])+"")}function grades(t,a){$("li.grades-"+t).removeClass("active"),a?$("li.grades-"+t+"."+a).addClass("active"):$("li.grades-"+t+".all").addClass("active");for(var n=[],e=[[],[]],i=0;i<allMajors.length;i++)n.push([]);var o=0,r=0;if(stats.forEach(function(i){i.Reports.forEach(function(s){s.Kind==t&&s.Grade>0&&new Date(s.Delivery).getTime()>0&&(g=s.Grade,r++,o+=g,"promotion"==a?e["SI"==i.Promotion?0:1].push(g):"major"==a&&n[allMajors.indexOf(i.Major)].push(g))})}),r&&$("#grades-"+t).closest(".hidden").removeClass("hidden"),a)if("major"==a){for(var s=[],i=0;i<n.length;i++)s.push(avg(n[i]).toFixed(2));c=$("<canvas>"),data={labels:allMajors,datasets:[{label:"Gratification",fillColor:"#F7464A",highlightFill:"#FF5A5E",data:s}]},c=$("#grades-"+t).html("").append(c).find("canvas"),ctx=c.get(0).getContext("2d"),grat=new Chart(ctx).Bar(data)}else s=[avg(e[0]).toFixed(2),avg(e[1]).toFixed(2)],c=$("<canvas>"),data={labels:["SI","master"],datasets:[{label:"Gratification",fillColor:"#F7464A",highlightFill:"#FF5A5E",data:s}]},c=$("#grades-"+t).html("").append(c).find("canvas"),ctx=c.get(0).getContext("2d"),grat=new Chart(ctx).Bar(data);else num=o/r,$("#grades-"+t).html(num.toFixed(2)+" / 20")}function surveys(t){$("li.surveys").removeClass("active"),$("li.surveys-"+t).addClass("active");var a=0,n=0,e=0;if(stats.forEach(function(i){i.Surveys.forEach(function(i){if(i.Kind==t){var o=i.Answers;o&&Object.keys(o).length>0&&(n++,"midterm"==t&&"true"==o[19]?a++:"final"==t&&(e+=parseInt(o.q17)))}})}),n){var i=Math.round(a/n*100);if("midterm"==t)$("#surveys").html(i+"%");else if("final"==t){var o=e/n;$("#surveys").html(o.toFixed(2)+" / 20")}$("#surveys").closest(".hidden ").removeClass("hidden")}}function employers(t){var a={};t.forEach(function(t){www=t.Convention.Company.WWW,www?a[www]="<a href='"+www+"'>"+t.Convention.Company.Name+"</a>":a[t.Convention.Company.Name]=t.Convention.Company.Name});var n=[];Object.keys(a).forEach(function(t){n.push(a[t])}),$("#employers").html(n.join("; "))}function country(t){$("li.country").removeClass("active"),t?$("li.country."+t).addClass("active"):$("li.country.all").addClass("active");var a=[],n=[];ints.forEach(function(e){var i=index(e,t);a[i]||(a[i]=0,n[i]=0),e.Convention.ForeignCountry&&a[i]++,n[i]++});for(var e=0;e<a.length;e++)a[e]=pct(a[e],n[e]);t?(c=$("<canvas>"),data=dataset("promotion"==t?config.Promotions:config.Majors,"foreign country",a),c=$("#country").html(c).find("canvas"),ctx=c.get(0).getContext("2d"),new Chart(ctx).Bar(data)):$("#country").html("<h1>"+a[0]+"%</h1>")}function showAlumni(t){t||(t="all"),$("li.alumni.filter").removeClass("active"),$("li.alumni.filter."+t).addClass("active"),qty=zeroes(possiblePositions.length),stats.forEach(function(a){a.Reports.length>0&&("all"==t||a.Promotion==t)&&(qty[a.Future.Position]+=1)});var a="";for(i=0;i<colors.length;i++)a+="<li><i class='box' style='background-color: "+colors[i]+";'></i> "+possiblePositions[i]+"</li>";if($("#alumni-legend").html(a),calumni){for(i=0;i<colors.length;i++)calumni.segments[i].value=qty[i];calumni.update()}else{var n=[];for(i=0;i<possiblePositions.length;i++)d={value:qty[i],color:colors[i],label:possiblePositions[i]},n.push(d);calumni=new Chart($("#alumni").find("canvas").get(0).getContext("2d")).Pie(n,{segmentStrokeWidth:1,maintainAspectRatio:!0})}}function sector(t){$("li.sector").removeClass("active"),t?$("li.sector."+t).addClass("active"):$("li.sector.all").addClass("active");var a=[],n=[];ints.forEach(function(e){var i=index(e,t);a[i]||(a[i]=0,n[i]=0),e.Convention.Lab||a[i]++,n[i]++});for(var e=0;e<a.length;e++)a[e]=pct(a[e],n[e]);t?(c=$("<canvas>"),data=dataset("promotion"==t?config.Promotions:config.Majors,"in company",a),c=$("#sector").html(c).find("canvas"),ctx=c.get(0).getContext("2d"),new Chart(ctx).Bar(data)):$("#sector").html("<h1>"+a[0]+"%</h1>")}function index(t,a){return"promotion"==a?config.Promotions.indexOf(t.Convention.Student.Promotion):"sector"==a?t.Convention.Lab?0:1:"country"==a?t.Convention.ForeignCountry?0:1:"major"==a?config.Majors.indexOf(t.Convention.Student.Major):0}function avg(t){var a=0,n=0;return t&&0!=t.length?(t.forEach(function(t){a+=t,n++}),a/n):void 0}function pct(t,a){return void 0===t?t:Math.round(t/a*100)}function zeroes(t){for(var a=[],n=0;t>n;n++)a.push(0);return a}function dataset(t,a,n){for(var e=n.length;e--;)isNaN(n[e])&&(n.splice(e,1),t.splice(e,1));return{labels:t,datasets:[{label:a,fillColor:"rgba(220,220,220,0.5)",strokeColor:"rgba(220,220,220,0.8)",highlightFill:"rgba(220,220,220,0.75)",highlightStroke:"rgba(220,220,220,1)",data:n}]}}function line(t){return{label:"Pick up date",fillColor:"rgba(220,220,220,0.2)",strokeColor:"rgba(220,220,220,1)",pointColor:"rgba(220,220,220,1)",pointStrokeColor:"#fff",pointHighlightFill:"#fff",pointHighlightStroke:"rgba(220,220,220,1)",data:t}}var ints,ccountry=void 0,csector=void 0,calumni=void 0,cMidtermDelay=void 0,barGratification;String.prototype.endsWith=function(t){return-1!==this.indexOf(t,this.length-t.length)};var possiblePositions=["not available","sabbatical leave","looking for a job","pursuit of higher education","fixed term contract in the internship company","fixed term contract in another company","permanent contract in the internship company","permanent contract in another company","entrepreneurship","repeat the year"],colors=["#4D4D4D","#5DA5DA","#FAA43A","#60BD68","#F17CB0","#B2912F","#B276B2","#DECF3F","#F15854","#DDDDDD"];
function showStudent(){showWait(),internship(myself.Person.Email).done(showStudentDashboard)}function showStudentDashboard(e){mine=e,Object.keys(mine.Reports).forEach(function(e){var n=(moment(mine.Reports[e].Deadline).isBefore(moment()),mine.Reports[e]);mine.Reports[e].Open=isReportUpdloadeable(n),mine.Reports[e].Email=myself.Person.Email}),$("#cnt").render("student-dashboard",e,function(){syncAlumniEditor($("#position")),ui()})}function showCompanyEditor(){$("#modal").render("company-editor",mine,showModal)}function showSupervisorEditor(){$("#modal").render("student-dashboard-supervisor-editor",mine.Convention.Supervisor,showModal)}function showAlumniEditor(){$("#modal").render("student-dashboard-alumni-editor",mine.Convention.Student.Alumni,showModal)}function updateCompany(){if(!(empty("lbl-name")||empty("lbl-title")||empty("lbl-www"))){var e={Name:$("#lbl-name").val(),WWW:$("#lbl-www").val(),Title:$("#lbl-title").val()};postCompany(myself.Person.Email,e).done(refreshCompany).fail(notifyError)}}function sendSupervisor(){if(!(empty("sup-fn")||empty("sup-ln")||empty("sup-tel")||empty("sup-email")||invalidEmail("sup-email"))){var e={Firstname:$("#sup-fn").val(),Lastname:$("#sup-ln").val(),Email:$("#sup-email").val(),Tel:$("#sup-tel").val()};postSupervisor(myself.Person.Email,e).done(refreshContacts)}}function refreshContacts(e){mine.Convention.Supervisor=e;var n=Handlebars.partials["student-dashboard-contacts"](mine);$("#student-dashboard-contacts").html(n),hideModal()}function refreshCompany(e){mine.Convention.Company=e;var n=Handlebars.partials["student-dashboard-company"](mine);$("#dashboard-company").html(n),hideModal()}function sendAlumni(){empty("#lbl-email")||(a={Contact:$("#lbl-email").val(),Position:$("#position").val(),France:"true"==$("input[name=france]:checked").val(),Permanent:"true"==$("input[name=permanent]:checked").val(),SameCompany:"true"==$("input[name=sameCompany]:checked").val()},postAlumni(myself.Person.Email,a).done(function(){defaultSuccess({},"Done")}).fail(notifyError))}function syncAlumniEditor(e){var n=$(e).val();"sabbatical"==n?($("#country").addClass("hidden"),$("#contract").addClass("hidden"),$("#company").addClass("hidden")):"entrepreneurship"==n?($("#country").removeClass("hidden"),$("#contract").addClass("hidden"),$("#company").addClass("hidden")):"study"==n?($("#country").removeClass("hidden"),$("#contract").addClass("hidden"),$("#company").addClass("hidden")):"company"==n?($("#country").removeClass("hidden"),$("#contract").removeClass("hidden"),$("#company").removeClass("hidden")):"looking"==n&&($("#country").addClass("hidden"),$("#contract").addClass("hidden"),$("#company").addClass("hidden"))}function loadReport(e,n){var o=e.files[0],a=(o.name,o.size),r=o.type;if("application/pdf"!=r)return void reportError("The report must be in PDF format. Currently: "+r);if(a>1e7)return void reportError("The report cannot exceed 10MB");var t=new FileReader;t.onload=function(e){return reportLoaded(n,t.result)},t.readAsArrayBuffer(o)}function reportLoaded(e,n){$("#modal").render("progress",{},function(){showModal(function(){postReport(myself.Person.Email,e,n,progress).done(refreshReports)})})}function isReportUpdloadeable(e){var n=moment(e.Deadline).isBefore(moment());return!(e.Reviewed||n&&e.Delivery)}function isReportReviewable(e){var n=moment(e.Deadline).isBefore(moment());return n}function refreshReports(e){hideModal(),e.Open=isReportUpdloadeable(e),e.Email=myself.Person.Email;var n=Handlebars.partials["student-dashboard-report"](e);$("#report-"+e.Kind).replaceWith(n)}function progress(e){var n=e.loaded/e.total*100;$("#progress-value").attr("aria-valuenow",Math.round(n)).width(n+"%").html(n+"%")}function showReportComment(e){mine.Reports.forEach(function(n){return n.Kind==e&&$("#modal").render("raw",{Title:"Comments for report '"+e+"'",Cnt:n.Comment},showModal),!1})}var mine;
function setLang(e,n){lang=e,$(e).removeClass("hidden"),$(n).addClass("hidden")}function submit(){var e={},n=!1;return $(".form-group").each(function(a,t){var r=$(t),i=r.attr("id"),d=void 0;switch(r.data("type")){case"yesno":d=$("[name='"+i+"']:checked").val();break;case"comment":case"rank":case"number":d=$("[name='"+i+"']").val()}r.data("ismark")&&(e.__MARK__=d),r.data("required")&&!d?(empty("#"+i),n=!0):(cleanError("#"+i),d&&(e[i]=d))}),n?void $("#missingRequired").removeClass("hidden"):($("#missingRequired").addClass("hidden"),void postSurvey($.urlParam("token"),e).done(commitPost))}function commitPost(e){$(".delivery").html(e.Delivery),$.urlParam("token")&&$(".commit").removeClass("hidden"),readOnly()}function readOnly(){$("#submit").addClass("hidden"),$("textarea").attr("readonly","readonly"),$("input[type=number]").attr("readonly","readonly"),$("input:radio").attr("disabled","disabled"),$("select").attr("disabled","disabled")}function loadSurvey(e){var n=$.urlParam("kind"),a=$.urlParam("token");if(a)surveyFromToken(a).done(function(e){$("#submit").removeClass("hidden"),fill(e.Student,e.Tutor,e.Survey)});else{var t=$.urlParam("student");internship(t).done(function(e){stu=e.Convention.Student.User.Person,tut=e.Convention.Tutor.Person,survey=e.Surveys.filter(function(e){return e.Kind==n})[0],fill(stu,tut,survey)})}}function fill(e,n,a){$(".student").html(fn(e)),$(".tutor").html(fn(n)),a.Delivery&&(commitPost(a),Object.keys(a.Cnt).forEach(function(e){if("__MARK__"==e)return!0;var n=a.Cnt[e],t=$("#"+e);switch(t.data("type")){case"yesno":$("[name='"+e+"'][value='"+n+"']").attr("checked","checked");break;case"comment":case"number":case"rank":$("[name='"+e+"']").val(n)}}),$("#submit").addClass("hidden")),$.urlParam("token")||readOnly()}function fn(e){return"<a class='fn' href='mailto:"+e.Email+"'>"+e.Lastname+", "+e.Firstname+"</a>"}var lang;
function editableRoles(){var e=[];for(i=2;i<roles.length;i++)e.push({value:i,text:roles[i]});return e}function editablePromotions(){var e=[];return config.Promotions.forEach(function(n){e.push({value:n,text:n})}),e}function editableMajors(){var e=[];return config.Majors.forEach(function(n){e.push({value:n,text:n})}),e}Handlebars.logger.level=0,$.handlebars({templatePath:"/assets/hbs",templateExtension:"hbs",partialPath:"/assets/hbs",partials:[]}),Handlebars.registerHelper("len",function(e){return e.constructor===Array?e.length:Object.keys(e).length}),Handlebars.registerHelper("dateFmt",function(e,n,r,t){return e?moment(e).format(n):"string"==typeof r?r:"-"});var positions={looking:"Looking for a job",sabbatical:"Sabattical leave",company:"Working in a company",entrepreneurship:"Entrepreneurship",study:"Pursuit of higher education"};Handlebars.registerHelper("alumniPosition",function(e){return positions[e]});var roles=["student","tutor","major","head","admin","root"];Handlebars.registerHelper("roleLevel",function(e){return level(e)}),Handlebars.registerHelper("optionRoles",function(e){var n="";return roles.forEach(function(r){if("major"==r)config.Majors.forEach(function(t){var a=r+"-"+t,i=a==e?"selected":"";n+="<option value='"+a+"' "+i+">"+a+"</option>"});else{var t=r==e?"selected":"";n+="<option value='"+r+"' "+t+">"+r+"</option>"}}),new Handlebars.SafeString(n)}),Handlebars.registerHelper("optionMajors",function(e){var n="";return e||(n+="<option selected>?</option>"),config.Majors.forEach(function(r){var t=e==r?" selected ":"";n+="<option value='"+r+"' "+t+" >"+r+"</option>"}),new Handlebars.SafeString(n)}),Handlebars.registerHelper("optionPromotions",function(e){var n="";return e||(n+="<option selected>?</option>"),config.Promotions.forEach(function(r){var t=e==r?" selected ":"";n+="<option value='"+r+"' "+t+" >"+r+"</option>"}),new Handlebars.SafeString(n)}),Handlebars.registerHelper("daysSince",function(e,n){n=n?moment(n):moment();var r=moment.duration(moment(e).diff(n));return-Math.floor(r.asDays())}),Handlebars.registerHelper("optionUsers",function(e,n){var r="";return e.forEach(function(e){r+="<option value='"+e.Person.Email+"'"+(e.Person.Email==n.Person.Email?"selected":"")+">"+e.Person.Lastname+", "+e.Person.Firstname+"</option>"}),new Handlebars.SafeString(r)}),Handlebars.registerHelper("student",function(e,n){return 1>=e?n.fn(this):n.inverse(this)}),Handlebars.registerHelper("ifEq",function(e,n,r){return e==n?r.fn(this):r.inverse(this)}),Handlebars.registerHelper("ifLate",function(e,n){return!e||moment(e).isBefore(moment())?n.fn(this):n.inverse(this)}),Handlebars.registerHelper("ifAfter",function(e,n,r){return!e&&moment().isAfter(n)||moment(e).isAfter(n)?(console.log(e),console.log(n),r.fn(this)):r.inverse(this)}),Handlebars.registerHelper("ifRole",function(e,n){return level(myself.Role)>=e?n.fn(this):n.inverse(this)}),Handlebars.registerHelper("ifManage",function(e,n){return myself.Person.Email==e.Tutor||level(myself.Role)>=ADMIN_LEVEL?n.fn(this):n.inverse(this)}),Handlebars.registerHelper("fullname",function(e,n){return n?e.Lastname.capitalize()+", "+e.Firstname.capitalize():e.Lastname+", "+e.Firstname}),Handlebars.registerHelper("grade",function(e){var n;if(e.Reviewed)if(e.ToGrade){var r=moment.duration(moment(e.Delivery).diff(moment(e.Deadline))),t=Math.floor(r.asDays());n=0>=t?""+e.Grade:"<span title='Tutor: "+e.Grade+"; Late penalty: -"+config.LatePenalty*t+"'>"+netGrade(e)+"</span>"}else n="&#10003;";else n="-";return new Handlebars.SafeString(n)}),Handlebars.registerHelper("survey",function(e,n){var r=-10,t="-",a="";if(e.Delivery){var i=e.Cnt.__MARK__;"false"==i?(a="bg-danger",r=-1,t="x"):"true"==i?(r=1,t="&#10003;"):(r=i,t=i,10>i&&(a="bg-danger"));var o='<td class="'+a+' text-center" data-text="'+r+'">';return o+="<a target='_blank' href='/survey?kind="+e.Kind+"&student="+n+"'>",o+=t,o+="</a></td>",new Handlebars.SafeString(o)}var s;moment(e.Deadline).isBefore(new Date)?(a="bg-danger",s=Math.floor(moment.duration(moment().diff(moment(e.Deadline))).asDays()),r=-1e3+s,t="<i class='glyphicon glyphicon-time'></i> "+s+" d."):moment(e.Invitation).isBefore(new Date)&&(a="bg-warning",s=Math.floor(moment.duration(moment().diff(moment(e.Invitation))).asDays()),r=-100+s,t="<i class='glyphicon glyphicon-time'></i> "+s+" d.");var o='<td class="'+a+' text-center" data-text="'+r+'">';return o+=t,o+="</td>",new Handlebars.SafeString(o)}),Handlebars.registerHelper("report",function(e,n,r){var t,a,i="",o="-";if(e.Delivery&&moment(e.Deadline).isBefore(moment())&&!e.Reviewed){i="info";var s=reviewDelay(e);t=-100+s,0==s&&(s="< 1"),o="<i class='glyphicon glyphicon-time'></i> "+s+" d."}if(!e.Delivery&&moment(e.Deadline).isBefore(new Date)){i="danger";var s=deadlineDelay(e);t=-50+s,0==s&&(s="< 1"),o="<i class='glyphicon glyphicon-time'></i> "+s+" d."}e.Reviewed&&(a=netGrade(e),o=Handlebars.helpers.grade(e).string,t=e.ToGrade?a:-1),e.Reviewed&&e.ToGrade&&10>a&&(i="danger");var l="<td data-text="+t+" onclick=\"showReport('"+n+"', '"+e.Kind+'\')" class="click '+i+' text-center">',l=l+o+"</td>";return new Handlebars.SafeString(l)});
function showTutored(){showWait(),internships().done(loadTutored)}function loadTutored(n){n||(n=[]),managed=n.filter(function(n){return!n.Convention.Student.Skip});var t=managed.filter(function(n){return n.Convention.Tutor.Person.Email==myself.Person.Email});$("#cnt").render("tutored",{Internships:t,Org:config},function(){ui(),$(".report").each(function(n,t){var o=$(t).closest("tr").data("email"),e=$(t).data("report-kind");$(t).on("click",function(){showReport(o,e)})})})}
function showUsers(){showWait(),$.when(users(),internships()).done(loadUsers)}function showNewUser(){$("#modal").render("new-user",{},showModal)}function showLongProfileEditor(e){user(e).done(function(e){$("#modal").render("long-profile-editor",e,function(){showModal(function(){makeEditable("#modal")})})})}function showRoleEditor(e){user(e).done(function(e){$("#modal").render("role-editor",e,showModal)})}function updateRole(e){postUserRole(e,$("#profile-role").val()).done(successLongUpdateProfile).fail(function(e){return $("#modal").find(".alert-danger").html(e.responseText).removeClass("hidden"),!1})}function longUpdateProfile(e){empty("#profile-firstname","#profile-lastname")||user(e).done(function(e){p=e.Person,p.Firstname=$("#profile-firstname").val(),p.Lastname=$("#profile-lastname").val(),p.Tel=$("#profile-tel").val(),sendProfile(p).done(successLongUpdateProfile)})}function successLongUpdateProfile(e){defaultSuccess({},"OK"),e.Resetable=!0;var s=$("#table-users").find("tr[data-email='"+e.Person.Email+"']"),t=Handlebars.partials["users-user"](e);s.replaceWith(t),$("#table-users").trigger("update").trigger("updateCache"),hideModal()}function newUser(){empty("#new-firstname","#new-lastname","#new-email")||(u={Person:{Firstname:$("#new-firstname").val().toLowerCase(),Lastname:$("#new-lastname").val().toLowerCase(),Email:$("#new-email").val().toLowerCase(),Tel:$("#new-tel").val().toLowerCase()},Role:$("#new-role").val()},$("#modal").find(".alert-danger").addClass("hidden"),postNewUser(u).done(successNewUser).fail(failNewUser))}function usersUI(){$(".btn-file :file").on("fileselect",csvLoaded),ui()}function loadUsers(e,s){s[0]||(s[0]=[]);var t={},r={};s[0].forEach(function(e){t[e.Convention.Student.User.Person.Email]=!0,r[e.Convention.Student.User.Person.Email]=!0,r[e.Convention.Tutor.Person.Email]=!0});var o=e[0];o.forEach(function(e,s){o[s].Resetable=level(e.Role)!=STUDENT_LEVEL||t[e.Person.Email],o[s].Blocked=r[e.Person.Email]}),$("#cnt").render("users-header",o,usersUI)}function doneStudentImport(e){stats.Success.push(e);var s=Handlebars.partials["users-user"](e.User),t=$("#table-users")[0].config;$.tablesorter.addRows(t,s,!0,hideModal),usersUI(),updateImportStatus()}function successNewUser(e){e.Resetable=!0;var s=Handlebars.partials["users-user"](e),t=$("#table-users")[0].config;$.tablesorter.addRows(t,s,!0,hideModal),defaultSuccess({},"OK"),usersUI()}function failNewUser(e){409==e.status||400==e.status?reportError("#new-email",e.responseText):$("#modal").find(".alert-danger").html(e.responseText).removeClass("hidden")}function rmUser(e){delUser(e).done(function(){successDelUser(e),tableCount()}).fail(function(e){notifyError(e)})}function successDelUser(e){var s=$("#table-users")[0].config;$("#table-users").find('[data-user="'+e+'"]').closest("tr").remove(),$.tablesorter.update(s,!1)}function csvLoaded(e,s,t){$("#import-status").addClass("hidden");for(var r,o=e.target.files,n=0;r=o[n];n++){var a=new FileReader;a.onload=parseCSV,a.onerror=function(){console.log(arguments)},a.readAsText(r)}}function startPasswordReset(e){resetPassword(e).done(defaultSuccess)}function parseCSV(e){stats={Nb:0,Ignored:[],Errors:[],Success:[]};var s=e.target.result.split(/\r\n|\n|\r/),t=!0;s.forEach(function(e){if(t)return t=!1,!0;if(0==e.length)return!0;stats.Nb++,fields=e.split(";");var s={User:{Person:{Lastname:fields[0].toLowerCase(),Firstname:fields[1].toLowerCase(),Email:fields[2].toLowerCase()}},Promotion:among(fields[3].toLowerCase(),config.Promotions),Major:among(fields[4].toLowerCase(),config.Majors)};postStudent(s).done(doneStudentImport,!0).fail(function(e){failStudentImport(s,e)})}),$("#csv-import").val("")}function updateImportStatus(){stats.Errors.length+stats.Ignored.length!=0&&$("#import-status").removeClass("hidden")}function showImportError(){$("#modal").render("import-error",stats,showModal)}function failStudentImport(e,s){400==s.status?stats.Errors.push({Student:e,Reason:s.responseText}):409==s.status?stats.Ignored.push({Student:e,Reason:s.responseText}):notifyError(s),updateImportStatus()}function among(e,s){var t=e;return s.forEach(function(s){return e.indexOf(" "+s)>=0||0==e.indexOf(s)?(t=s,!1):void 0}),t}$(document).on("change",".btn-file :file",function(){var e=$(this),s=e.get(0).files?e.get(0).files.length:1,t=e.val().replace(/\\/g,"/").replace(/.*\//,"");e.trigger("fileselect",[s,t])});
function showWatchlist(){showWait(),internships().done(loadWatchlist)}function loadWatchlist(t){t||(t=[]),managed=t.filter(function(t){return!t.Convention.Student.Skip}),$("#cnt").render("watchlist",{Internships:managed,Org:config},function(){ui(),$(".report").each(function(t,n){var i=$(n).closest("tr").data("email"),o=$(n).data("report-kind");$(n).on("click",function(){showReport(i,o,updateInternshipRow)})})})}