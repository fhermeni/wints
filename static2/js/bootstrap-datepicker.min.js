(function(c,u){function h(){return new Date(Date.UTC.apply(Date,arguments))}function x(){var a=new Date;return h(a.getFullYear(),a.getMonth(),a.getDate())}function f(a){return function(){return this[a].apply(this,arguments)}}function e(a,b){function d(a,b){return b.toLowerCase()}var m=c(a).data(),q={},f,g=new RegExp("^"+b.toLowerCase()+"([A-Z])");b=new RegExp("^"+b.toLowerCase());for(var e in m)b.test(e)&&(f=e.replace(g,d),q[f]=m[e]);return q}function w(a){var b={};if(!t[a]&&(a=a.split("-")[0],!t[a]))return;
var d=t[a];c.each(C,function(a,c){c in d&&(b[c]=d[c])});return b}var p=c(window),v=function(){var a={get:function(a){return this.slice(a)[0]},contains:function(a){a=a&&a.valueOf();for(var d=0,c=this.length;d<c;d++)if(this[d].valueOf()===a)return d;return-1},remove:function(a){this.splice(a,1)},replace:function(a){a&&(c.isArray(a)||(a=[a]),this.clear(),this.push.apply(this,a))},clear:function(){this.length=0},copy:function(){var a=new v;a.replace(this);return a}};return function(){var b=[];b.push.apply(b,
arguments);c.extend(b,a);return b}}(),y=function(a,b){this.dates=new v;this.viewDate=x();this.focusDate=null;this._process_options(b);this.element=c(a);this.isInline=!1;this.isInput=this.element.is("input");this.hasInput=(this.component=this.element.is(".date")?this.element.find(".add-on, .input-group-addon, .btn"):!1)&&this.element.find("input").length;this.component&&0===this.component.length&&(this.component=!1);this.picker=c(k.template);this._buildEvents();this._attachEvents();this.isInline?this.picker.addClass("datepicker-inline").appendTo(this.element):
this.picker.addClass("datepicker-dropdown dropdown-menu");this.o.rtl&&this.picker.addClass("datepicker-rtl");this.viewMode=this.o.startView;this.o.calendarWeeks&&this.picker.find("tfoot th.today, tfoot th.clear").attr("colspan",function(a,b){return parseInt(b)+1});this._allow_update=!1;this.setStartDate(this._o.startDate);this.setEndDate(this._o.endDate);this.setDaysOfWeekDisabled(this.o.daysOfWeekDisabled);this.setDatesDisabled(this.o.datesDisabled);this.fillDow();this.fillMonths();this._allow_update=
!0;this.update();this.showMode();this.isInline&&this.show()};y.prototype={constructor:y,_process_options:function(a){this._o=c.extend({},this._o,a);var b=this.o=c.extend({},this._o);a=b.language;t[a]||(a=a.split("-")[0],t[a]||(a=A.language));b.language=a;switch(b.startView){case 2:case "decade":b.startView=2;break;case 1:case "year":b.startView=1;break;default:b.startView=0}switch(b.minViewMode){case 1:case "months":b.minViewMode=1;break;case 2:case "years":b.minViewMode=2;break;default:b.minViewMode=
0}b.startView=Math.max(b.startView,b.minViewMode);!0!==b.multidate&&(b.multidate=Number(b.multidate)||!1,!1!==b.multidate&&(b.multidate=Math.max(0,b.multidate)));b.multidateSeparator=String(b.multidateSeparator);b.weekStart%=7;b.weekEnd=(b.weekStart+6)%7;var d=k.parseFormat(b.format);-Infinity!==b.startDate&&(b.startDate=b.startDate?b.startDate instanceof Date?this._local_to_utc(this._zero_time(b.startDate)):k.parseDate(b.startDate,d,b.language):-Infinity);Infinity!==b.endDate&&(b.endDate=b.endDate?
b.endDate instanceof Date?this._local_to_utc(this._zero_time(b.endDate)):k.parseDate(b.endDate,d,b.language):Infinity);b.daysOfWeekDisabled=b.daysOfWeekDisabled||[];c.isArray(b.daysOfWeekDisabled)||(b.daysOfWeekDisabled=b.daysOfWeekDisabled.split(/[,\s]*/));b.daysOfWeekDisabled=c.map(b.daysOfWeekDisabled,function(a){return parseInt(a,10)});b.datesDisabled=b.datesDisabled||[];c.isArray(b.datesDisabled)||(a=[],a.push(k.parseDate(b.datesDisabled,d,b.language)),b.datesDisabled=a);b.datesDisabled=c.map(b.datesDisabled,
function(a){return k.parseDate(a,d,b.language)});a=String(b.orientation).toLowerCase().split(/\s+/g);var m=b.orientation.toLowerCase();a=c.grep(a,function(a){return/^auto|left|right|top|bottom$/.test(a)});b.orientation={x:"auto",y:"auto"};if(m&&"auto"!==m)if(1===a.length)switch(a[0]){case "top":case "bottom":b.orientation.y=a[0];break;case "left":case "right":b.orientation.x=a[0]}else m=c.grep(a,function(a){return/^left|right$/.test(a)}),b.orientation.x=m[0]||"auto",m=c.grep(a,function(a){return/^top|bottom$/.test(a)}),
b.orientation.y=m[0]||"auto";b.showOnFocus=b.showOnFocus!==u?b.showOnFocus:!0},_events:[],_secondaryEvents:[],_applyEvents:function(a){for(var b=0,d,c,q;b<a.length;b++)d=a[b][0],2===a[b].length?(c=u,q=a[b][1]):3===a[b].length&&(c=a[b][1],q=a[b][2]),d.on(q,c)},_unapplyEvents:function(a){for(var b=0,d,c,q;b<a.length;b++)d=a[b][0],2===a[b].length?(q=u,c=a[b][1]):3===a[b].length&&(q=a[b][1],c=a[b][2]),d.off(c,q)},_buildEvents:function(){var a={keyup:c.proxy(function(a){-1===c.inArray(a.keyCode,[27,37,
39,38,40,32,13,9])&&this.update()},this),keydown:c.proxy(this.keydown,this)};!0===this.o.showOnFocus&&(a.focus=c.proxy(this.show,this));this.isInput?this._events=[[this.element,a]]:this.component&&this.hasInput?this._events=[[this.element.find("input"),a],[this.component,{click:c.proxy(this.show,this)}]]:this.element.is("div")?this.isInline=!0:this._events=[[this.element,{click:c.proxy(this.show,this)}]];this._events.push([this.element,"*",{blur:c.proxy(function(a){this._focused_from=a.target},this)}],
[this.element,{blur:c.proxy(function(a){this._focused_from=a.target},this)}]);this._secondaryEvents=[[this.picker,{click:c.proxy(this.click,this)}],[c(window),{resize:c.proxy(this.place,this)}],[c(document),{"mousedown touchstart":c.proxy(function(a){this.element.is(a.target)||this.element.find(a.target).length||this.picker.is(a.target)||this.picker.find(a.target).length||this.hide()},this)}]]},_attachEvents:function(){this._detachEvents();this._applyEvents(this._events)},_detachEvents:function(){this._unapplyEvents(this._events)},
_attachSecondaryEvents:function(){this._detachSecondaryEvents();this._applyEvents(this._secondaryEvents)},_detachSecondaryEvents:function(){this._unapplyEvents(this._secondaryEvents)},_trigger:function(a,b){var d=b||this.dates.get(-1),d=this._utc_to_local(d);this.element.trigger({type:a,date:d,dates:c.map(this.dates,this._utc_to_local),format:c.proxy(function(a,b){0===arguments.length?(a=this.dates.length-1,b=this.o.format):"string"===typeof a&&(b=a,a=this.dates.length-1);b=b||this.o.format;var d=
this.dates.get(a);return k.formatDate(d,b,this.o.language)},this)})},show:function(){if(!this.element.attr("readonly"))return this.isInline||this.picker.appendTo("body"),this.place(),this.picker.show(),this._attachSecondaryEvents(),this._trigger("show"),(window.navigator.msMaxTouchPoints||"ontouchstart"in document)&&this.o.disableTouchKeyboard&&c(this.element).blur(),this},hide:function(){if(this.isInline||!this.picker.is(":visible"))return this;this.focusDate=null;this.picker.hide().detach();this._detachSecondaryEvents();
this.viewMode=this.o.startView;this.showMode();this.o.forceParse&&(this.isInput&&this.element.val()||this.hasInput&&this.element.find("input").val())&&this.setValue();this._trigger("hide");return this},remove:function(){this.hide();this._detachEvents();this._detachSecondaryEvents();this.picker.remove();delete this.element.data().datepicker;this.isInput||delete this.element.data().date;return this},_utc_to_local:function(a){return a&&new Date(a.getTime()+6E4*a.getTimezoneOffset())},_local_to_utc:function(a){return a&&
new Date(a.getTime()-6E4*a.getTimezoneOffset())},_zero_time:function(a){return a&&new Date(a.getFullYear(),a.getMonth(),a.getDate())},_zero_utc_time:function(a){return a&&new Date(Date.UTC(a.getUTCFullYear(),a.getUTCMonth(),a.getUTCDate()))},getDates:function(){return c.map(this.dates,this._utc_to_local)},getUTCDates:function(){return c.map(this.dates,function(a){return new Date(a)})},getDate:function(){return this._utc_to_local(this.getUTCDate())},getUTCDate:function(){var a=this.dates.get(-1);return"undefined"!==
typeof a?new Date(a):null},setDates:function(){var a=c.isArray(arguments[0])?arguments[0]:arguments;this.update.apply(this,a);this._trigger("changeDate");this.setValue();return this},setUTCDates:function(){var a=c.isArray(arguments[0])?arguments[0]:arguments;this.update.apply(this,c.map(a,this._utc_to_local));this._trigger("changeDate");this.setValue();return this},setDate:f("setDates"),setUTCDate:f("setUTCDates"),setValue:function(){var a=this.getFormattedDate();this.isInput?this.element.val(a).change():
this.component&&this.element.find("input").val(a).change();return this},getFormattedDate:function(a){a===u&&(a=this.o.format);var b=this.o.language;return c.map(this.dates,function(d){return k.formatDate(d,a,b)}).join(this.o.multidateSeparator)},setStartDate:function(a){this._process_options({startDate:a});this.update();this.updateNavArrows();return this},setEndDate:function(a){this._process_options({endDate:a});this.update();this.updateNavArrows();return this},setDaysOfWeekDisabled:function(a){this._process_options({daysOfWeekDisabled:a});
this.update();this.updateNavArrows();return this},setDatesDisabled:function(a){this._process_options({datesDisabled:a});this.update();this.updateNavArrows()},place:function(){if(this.isInline)return this;var a=this.picker.outerWidth(),b=this.picker.outerHeight(),d=p.width(),m=p.height(),q=p.scrollTop(),f=[];this.element.parents().each(function(){var a=c(this).css("z-index");"auto"!==a&&0!==a&&f.push(parseInt(a))});var e=Math.max.apply(Math,f)+10,l=this.component?this.component.parent().offset():this.element.offset(),
h=this.component?this.component.outerHeight(!0):this.element.outerHeight(!1),n=this.component?this.component.outerWidth(!0):this.element.outerWidth(!1),k=l.left,r=l.top;this.picker.removeClass("datepicker-orient-top datepicker-orient-bottom datepicker-orient-right datepicker-orient-left");"auto"!==this.o.orientation.x?(this.picker.addClass("datepicker-orient-"+this.o.orientation.x),"right"===this.o.orientation.x&&(k-=a-n)):0>l.left?(this.picker.addClass("datepicker-orient-left"),k-=l.left-10):l.left+
a>d?(this.picker.addClass("datepicker-orient-right"),k=l.left+n-a):this.picker.addClass("datepicker-orient-left");a=this.o.orientation.y;"auto"===a&&(a=-q+l.top-b,m=q+m-(l.top+h+b),a=Math.max(a,m)===m?"top":"bottom");this.picker.addClass("datepicker-orient-"+a);r="top"===a?r+h:r-(b+parseInt(this.picker.css("padding-top")));this.o.rtl?this.picker.css({top:r,right:d-(k+n),zIndex:e}):this.picker.css({top:r,left:k,zIndex:e});return this},_allow_update:!0,update:function(){if(!this._allow_update)return this;
var a=this.dates.copy(),b=[],d=!1;arguments.length?(c.each(arguments,c.proxy(function(a,d){d instanceof Date&&(d=this._local_to_utc(d));b.push(d)},this)),d=!0):(b=(b=this.isInput?this.element.val():this.element.data("date")||this.element.find("input").val())&&this.o.multidate?b.split(this.o.multidateSeparator):[b],delete this.element.data().date);b=c.map(b,c.proxy(function(a){return k.parseDate(a,this.o.format,this.o.language)},this));b=c.grep(b,c.proxy(function(a){return a<this.o.startDate||a>this.o.endDate||
!a},this),!0);this.dates.replace(b);this.dates.length?this.viewDate=new Date(this.dates.get(-1)):this.viewDate<this.o.startDate?this.viewDate=new Date(this.o.startDate):this.viewDate>this.o.endDate&&(this.viewDate=new Date(this.o.endDate));d?this.setValue():b.length&&String(a)!==String(this.dates)&&this._trigger("changeDate");!this.dates.length&&a.length&&this._trigger("clearDate");this.fill();return this},fillDow:function(){var a=this.o.weekStart,b="<tr>";this.o.calendarWeeks&&(this.picker.find(".datepicker-days thead tr:first-child th.datepicker-switch").attr("colspan",
function(a,b){return parseInt(b)+1}),b+='<th class="cw">&#160;</th>');for(;a<this.o.weekStart+7;)b+='<th class="dow">'+t[this.o.language].daysMin[a++%7]+"</th>";b+="</tr>";this.picker.find(".datepicker-days thead").append(b)},fillMonths:function(){for(var a="",b=0;12>b;)a+='<span class="month">'+t[this.o.language].monthsShort[b++]+"</span>";this.picker.find(".datepicker-months td").html(a)},setRange:function(a){a&&a.length?this.range=c.map(a,function(a){return a.valueOf()}):delete this.range;this.fill()},
getClassNames:function(a){var b=[],d=this.viewDate.getUTCFullYear(),m=this.viewDate.getUTCMonth(),f=new Date;a.getUTCFullYear()<d||a.getUTCFullYear()===d&&a.getUTCMonth()<m?b.push("old"):(a.getUTCFullYear()>d||a.getUTCFullYear()===d&&a.getUTCMonth()>m)&&b.push("new");this.focusDate&&a.valueOf()===this.focusDate.valueOf()&&b.push("focused");this.o.todayHighlight&&a.getUTCFullYear()===f.getFullYear()&&a.getUTCMonth()===f.getMonth()&&a.getUTCDate()===f.getDate()&&b.push("today");-1!==this.dates.contains(a)&&
b.push("active");(a.valueOf()<this.o.startDate||a.valueOf()>this.o.endDate||-1!==c.inArray(a.getUTCDay(),this.o.daysOfWeekDisabled))&&b.push("disabled");0<this.o.datesDisabled.length&&0<c.grep(this.o.datesDisabled,function(b){return a.getUTCFullYear()===b.getUTCFullYear()&&a.getUTCMonth()===b.getUTCMonth()&&a.getUTCDate()===b.getUTCDate()}).length&&b.push("disabled","disabled-date");this.range&&(a>this.range[0]&&a<this.range[this.range.length-1]&&b.push("range"),-1!==c.inArray(a.valueOf(),this.range)&&
b.push("selected"));return b},fill:function(){var a=new Date(this.viewDate),b=a.getUTCFullYear(),d=a.getUTCMonth(),a=-Infinity!==this.o.startDate?this.o.startDate.getUTCFullYear():-Infinity,m=-Infinity!==this.o.startDate?this.o.startDate.getUTCMonth():-Infinity,f=Infinity!==this.o.endDate?this.o.endDate.getUTCFullYear():Infinity,e=Infinity!==this.o.endDate?this.o.endDate.getUTCMonth():Infinity,g=t[this.o.language].today||t.en.today||"",l=t[this.o.language].clear||t.en.clear||"",p;if(!isNaN(b)&&!isNaN(d)){this.picker.find(".datepicker-days thead th.datepicker-switch").text(t[this.o.language].months[d]+
" "+b);this.picker.find("tfoot th.today").text(g).toggle(!1!==this.o.todayBtn);this.picker.find("tfoot th.clear").text(l).toggle(!1!==this.o.clearBtn);this.updateNavArrows();this.fillMonths();g=h(b,d-1,28);d=k.getDaysInMonth(g.getUTCFullYear(),g.getUTCMonth());g.setUTCDate(d);g.setUTCDate(d-(g.getUTCDay()-this.o.weekStart+7)%7);l=new Date(g);l.setUTCDate(l.getUTCDate()+42);for(var l=l.valueOf(),d=[],n;g.valueOf()<l;){if(g.getUTCDay()===this.o.weekStart&&(d.push("<tr>"),this.o.calendarWeeks)){n=new Date(+g+
(this.o.weekStart-g.getUTCDay()-7)%7*864E5);n=new Date(Number(n)+(11-n.getUTCDay())%7*864E5);var w=new Date(Number(w=h(n.getUTCFullYear(),0,1))+(11-w.getUTCDay())%7*864E5);d.push('<td class="cw">'+((n-w)/864E5/7+1)+"</td>")}n=this.getClassNames(g);n.push("day");if(this.o.beforeShowDay!==c.noop){var r=this.o.beforeShowDay(this._utc_to_local(g));r===u?r={}:"boolean"===typeof r?r={enabled:r}:"string"===typeof r&&(r={classes:r});!1===r.enabled&&n.push("disabled");r.classes&&(n=n.concat(r.classes.split(/\s+/)));
r.tooltip&&(p=r.tooltip)}n=c.unique(n);d.push('<td class="'+n.join(" ")+'"'+(p?' title="'+p+'"':"")+">"+g.getUTCDate()+"</td>");p=null;g.getUTCDay()===this.o.weekEnd&&d.push("</tr>");g.setUTCDate(g.getUTCDate()+1)}this.picker.find(".datepicker-days tbody").empty().append(d.join(""));var z=this.picker.find(".datepicker-months").find("th:eq(1)").text(b).end().find("span").removeClass("active");c.each(this.dates,function(a,d){d.getUTCFullYear()===b&&z.eq(d.getUTCMonth()).addClass("active")});(b<a||b>
f)&&z.addClass("disabled");b===a&&z.slice(0,m).addClass("disabled");b===f&&z.slice(e+1).addClass("disabled");if(this.o.beforeShowMonth!==c.noop){var D=this;c.each(z,function(a,d){c(d).hasClass("disabled")||!1===D.o.beforeShowMonth(new Date(b,a,1))&&c(d).addClass("disabled")})}d="";b=10*parseInt(b/10,10);p=this.picker.find(".datepicker-years").find("th:eq(1)").text(b+"-"+(b+9)).end().find("td");--b;w=c.map(this.dates,function(a){return a.getUTCFullYear()});for(e=-1;11>e;e++)m=["year"],-1===e?m.push("old"):
10===e&&m.push("new"),-1!==c.inArray(b,w)&&m.push("active"),(b<a||b>f)&&m.push("disabled"),d+='<span class="'+m.join(" ")+'">'+b+"</span>",b+=1;p.html(d)}},updateNavArrows:function(){if(this._allow_update){var a=new Date(this.viewDate),b=a.getUTCFullYear(),a=a.getUTCMonth();switch(this.viewMode){case 0:-Infinity!==this.o.startDate&&b<=this.o.startDate.getUTCFullYear()&&a<=this.o.startDate.getUTCMonth()?this.picker.find(".prev").css({visibility:"hidden"}):this.picker.find(".prev").css({visibility:"visible"});
Infinity!==this.o.endDate&&b>=this.o.endDate.getUTCFullYear()&&a>=this.o.endDate.getUTCMonth()?this.picker.find(".next").css({visibility:"hidden"}):this.picker.find(".next").css({visibility:"visible"});break;case 1:case 2:-Infinity!==this.o.startDate&&b<=this.o.startDate.getUTCFullYear()?this.picker.find(".prev").css({visibility:"hidden"}):this.picker.find(".prev").css({visibility:"visible"}),Infinity!==this.o.endDate&&b>=this.o.endDate.getUTCFullYear()?this.picker.find(".next").css({visibility:"hidden"}):
this.picker.find(".next").css({visibility:"visible"})}}},click:function(a){a.preventDefault();a=c(a.target).closest("span, td, th");var b,d,m;if(1===a.length)switch(a[0].nodeName.toLowerCase()){case "th":switch(a[0].className){case "datepicker-switch":this.showMode(1);break;case "prev":case "next":a=k.modes[this.viewMode].navStep*("prev"===a[0].className?-1:1);switch(this.viewMode){case 0:this.viewDate=this.moveMonth(this.viewDate,a);this._trigger("changeMonth",this.viewDate);break;case 1:case 2:this.viewDate=
this.moveYear(this.viewDate,a),1===this.viewMode&&this._trigger("changeYear",this.viewDate)}this.fill();break;case "today":a=new Date;a=h(a.getFullYear(),a.getMonth(),a.getDate(),0,0,0);this.showMode(-2);this._setDate(a,"linked"===this.o.todayBtn?null:"view");break;case "clear":this.isInput?b=this.element:this.component&&(b=this.element.find("input")),b&&b.val("").change(),this.update(),this._trigger("changeDate"),this.o.autoclose&&this.hide()}break;case "span":a.is(".disabled")||(this.viewDate.setUTCDate(1),
a.is(".month")?(m=1,d=a.parent().find("span").index(a),b=this.viewDate.getUTCFullYear(),this.viewDate.setUTCMonth(d),this._trigger("changeMonth",this.viewDate),1===this.o.minViewMode&&this._setDate(h(b,d,m))):(m=1,d=0,b=parseInt(a.text(),10)||0,this.viewDate.setUTCFullYear(b),this._trigger("changeYear",this.viewDate),2===this.o.minViewMode&&this._setDate(h(b,d,m))),this.showMode(-1),this.fill());break;case "td":a.is(".day")&&!a.is(".disabled")&&(m=parseInt(a.text(),10)||1,b=this.viewDate.getUTCFullYear(),
d=this.viewDate.getUTCMonth(),a.is(".old")?0===d?(d=11,--b):--d:a.is(".new")&&(11===d?(d=0,b+=1):d+=1),this._setDate(h(b,d,m)))}this.picker.is(":visible")&&this._focused_from&&c(this._focused_from).focus();delete this._focused_from},_toggle_multidate:function(a){var b=this.dates.contains(a);a||this.dates.clear();if(1!==this.o.multidate||0!==b)if(!1===this.o.multidate)this.dates.clear(),this.dates.push(a);else if(-1!==b?this.dates.remove(b):this.dates.push(a),"number"===typeof this.o.multidate)for(;this.dates.length>
this.o.multidate;)this.dates.remove(0)},_setDate:function(a,b){b&&"date"!==b||this._toggle_multidate(a&&new Date(a));b&&"view"!==b||(this.viewDate=a&&new Date(a));this.fill();this.setValue();b&&"view"===b||this._trigger("changeDate");var d;this.isInput?d=this.element:this.component&&(d=this.element.find("input"));d&&d.change();!this.o.autoclose||b&&"date"!==b||this.hide()},moveMonth:function(a,b){if(!a)return u;if(!b)return a;var d=new Date(a.valueOf()),c=d.getUTCDate(),f=d.getUTCMonth(),e=Math.abs(b),
g;b=0<b?1:-1;if(1===e){if(e=-1===b?function(){return d.getUTCMonth()===f}:function(){return d.getUTCMonth()!==g},g=f+b,d.setUTCMonth(g),0>g||11<g)g=(g+12)%12}else{for(var l=0;l<e;l++)d=this.moveMonth(d,b);g=d.getUTCMonth();d.setUTCDate(c);e=function(){return g!==d.getUTCMonth()}}for(;e();)d.setUTCDate(--c),d.setUTCMonth(g);return d},moveYear:function(a,b){return this.moveMonth(a,12*b)},dateWithinRange:function(a){return a>=this.o.startDate&&a<=this.o.endDate},keydown:function(a){if(this.picker.is(":not(:visible)"))27===
a.keyCode&&this.show();else{var b=!1,d,c,f=this.focusDate||this.viewDate;switch(a.keyCode){case 27:this.focusDate?(this.focusDate=null,this.viewDate=this.dates.get(-1)||this.viewDate,this.fill()):this.hide();a.preventDefault();break;case 37:case 39:if(!this.o.keyboardNavigation)break;d=37===a.keyCode?-1:1;a.ctrlKey?(this.moveYear(this.dates.get(-1)||x(),d),c=this.moveYear(f,d),this._trigger("changeYear",this.viewDate)):a.shiftKey?(this.moveMonth(this.dates.get(-1)||x(),d),c=this.moveMonth(f,d),this._trigger("changeMonth",
this.viewDate)):(c=new Date(this.dates.get(-1)||x()),c.setUTCDate(c.getUTCDate()+d),c=new Date(f),c.setUTCDate(f.getUTCDate()+d));this.dateWithinRange(c)&&(this.focusDate=this.viewDate=c,this.setValue(),this.fill(),a.preventDefault());break;case 38:case 40:if(!this.o.keyboardNavigation)break;d=38===a.keyCode?-1:1;a.ctrlKey?(this.moveYear(this.dates.get(-1)||x(),d),c=this.moveYear(f,d),this._trigger("changeYear",this.viewDate)):a.shiftKey?(this.moveMonth(this.dates.get(-1)||x(),d),c=this.moveMonth(f,
d),this._trigger("changeMonth",this.viewDate)):(c=new Date(this.dates.get(-1)||x()),c.setUTCDate(c.getUTCDate()+7*d),c=new Date(f),c.setUTCDate(f.getUTCDate()+7*d));this.dateWithinRange(c)&&(this.focusDate=this.viewDate=c,this.setValue(),this.fill(),a.preventDefault());break;case 13:f=this.focusDate||this.dates.get(-1)||this.viewDate;this.o.keyboardNavigation&&(this._toggle_multidate(f),b=!0);this.focusDate=null;this.viewDate=this.dates.get(-1)||this.viewDate;this.setValue();this.fill();this.picker.is(":visible")&&
(a.preventDefault(),"function"===typeof a.stopPropagation?a.stopPropagation():a.cancelBubble=!0,this.o.autoclose&&this.hide());break;case 9:this.focusDate=null,this.viewDate=this.dates.get(-1)||this.viewDate,this.fill(),this.hide()}if(b){this.dates.length?this._trigger("changeDate"):this._trigger("clearDate");var e;this.isInput?e=this.element:this.component&&(e=this.element.find("input"));e&&e.change()}}},showMode:function(a){a&&(this.viewMode=Math.max(this.o.minViewMode,Math.min(2,this.viewMode+
a)));this.picker.find(">div").hide().filter(".datepicker-"+k.modes[this.viewMode].clsName).css("display","block");this.updateNavArrows()}};var B=function(a,b){this.element=c(a);this.inputs=c.map(b.inputs,function(a){return a.jquery?a[0]:a});delete b.inputs;c(this.inputs).datepicker(b).bind("changeDate",c.proxy(this.dateUpdated,this));this.pickers=c.map(this.inputs,function(a){return c(a).data("datepicker")});this.updateDates()};B.prototype={updateDates:function(){this.dates=c.map(this.pickers,function(a){return a.getUTCDate()});
this.updateRanges()},updateRanges:function(){var a=c.map(this.dates,function(a){return a.valueOf()});c.each(this.pickers,function(b,c){c.setRange(a)})},dateUpdated:function(a){if(!this.updating){this.updating=!0;var b=c(a.target).data("datepicker").getUTCDate();a=c.inArray(a.target,this.inputs);var d=a-1,f=a+1,e=this.inputs.length;if(-1!==a){c.each(this.pickers,function(a,c){c.getUTCDate()||c.setUTCDate(b)});if(b<this.dates[d])for(;0<=d&&b<this.dates[d];)this.pickers[d--].setUTCDate(b);else if(b>
this.dates[f])for(;f<e&&b>this.dates[f];)this.pickers[f++].setUTCDate(b);this.updateDates();delete this.updating}}},remove:function(){c.map(this.pickers,function(a){a.remove()});delete this.element.data().datepicker}};var E=c.fn.datepicker;c.fn.datepicker=function(a){var b=Array.apply(null,arguments);b.shift();var d;this.each(function(){var f=c(this),q=f.data("datepicker"),k="object"===typeof a&&a;if(!q){var q=e(this,"date"),g=c.extend({},A,q,k),g=w(g.language),k=c.extend({},A,g,q,k);f.is(".input-daterange")||
k.inputs?(q={inputs:k.inputs||f.find("input").toArray()},f.data("datepicker",q=new B(this,c.extend(k,q)))):f.data("datepicker",q=new y(this,k))}if("string"===typeof a&&"function"===typeof q[a]&&(d=q[a].apply(q,b),d!==u))return!1});return d!==u?d:this};var A=c.fn.datepicker.defaults={autoclose:!1,beforeShowDay:c.noop,beforeShowMonth:c.noop,calendarWeeks:!1,clearBtn:!1,daysOfWeekDisabled:[],datesDisabled:[],endDate:Infinity,forceParse:!0,format:"mm/dd/yyyy",keyboardNavigation:!0,language:"en",minViewMode:0,
multidate:!1,multidateSeparator:",",orientation:"auto",rtl:!1,startDate:-Infinity,startView:0,todayBtn:!1,todayHighlight:!1,weekStart:0,disableTouchKeyboard:!1},C=c.fn.datepicker.locale_opts=["format","rtl","weekStart"];c.fn.datepicker.Constructor=y;var t=c.fn.datepicker.dates={en:{days:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday Sunday".split(" "),daysShort:"Sun Mon Tue Wed Thu Fri Sat Sun".split(" "),daysMin:"Su Mo Tu We Th Fr Sa Su".split(" "),months:"January February March April May June July August September October November December".split(" "),
monthsShort:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),today:"Today",clear:"Clear"}},k={modes:[{clsName:"days",navFnc:"Month",navStep:1},{clsName:"months",navFnc:"FullYear",navStep:1},{clsName:"years",navFnc:"FullYear",navStep:10}],isLeapYear:function(a){return 0===a%4&&0!==a%100||0===a%400},getDaysInMonth:function(a,b){return[31,k.isLeapYear(a)?29:28,31,30,31,30,31,31,30,31,30,31][b]},validParts:/dd?|DD?|mm?|MM?|yy(?:yy)?/g,nonpunctuation:/[^ -\/:-@\[\u3400-\u9fff-`{-~\t\n\r]+/g,
parseFormat:function(a){var b=a.replace(this.validParts,"\x00").split("\x00");a=a.match(this.validParts);if(!b||!b.length||!a||0===a.length)throw Error("Invalid date format.");return{separators:b,parts:a}},parseDate:function(a,b,d){function f(){var a=this.slice(0,p[l].length),b=p[l].slice(0,a.length);return a.toLowerCase()===b.toLowerCase()}if(!a)return u;if(a instanceof Date)return a;"string"===typeof b&&(b=k.parseFormat(b));var e=/([\-+]\d+)([dmwy])/,p=a.match(/([\-+]\d+)([dmwy])/g),g,l;if(/^[\-+]\d+[dmwy]([\s,]+[\-+]\d+[dmwy])*$/.test(a)){a=
new Date;for(l=0;l<p.length;l++)switch(b=e.exec(p[l]),g=parseInt(b[1]),b[2]){case "d":a.setUTCDate(a.getUTCDate()+g);break;case "m":a=y.prototype.moveMonth.call(y.prototype,a,g);break;case "w":a.setUTCDate(a.getUTCDate()+7*g);break;case "y":a=y.prototype.moveYear.call(y.prototype,a,g)}return h(a.getUTCFullYear(),a.getUTCMonth(),a.getUTCDate(),0,0,0)}p=a&&a.match(this.nonpunctuation)||[];a=new Date;var e={},w="yyyy yy M MM m mm d dd".split(" ");g={yyyy:function(a,b){return a.setUTCFullYear(b)},yy:function(a,
b){return a.setUTCFullYear(2E3+b)},m:function(a,b){if(isNaN(a))return a;for(--b;0>b;)b+=12;b%=12;for(a.setUTCMonth(b);a.getUTCMonth()!==b;)a.setUTCDate(a.getUTCDate()-1);return a},d:function(a,b){return a.setUTCDate(b)}};var n;g.M=g.MM=g.mm=g.m;g.dd=g.d;a=h(a.getFullYear(),a.getMonth(),a.getDate(),0,0,0);var v=b.parts.slice();p.length!==v.length&&(v=c(v).filter(function(a,b){return-1!==c.inArray(b,w)}).toArray());if(p.length===v.length){var r;l=0;for(r=v.length;l<r;l++){n=parseInt(p[l],10);b=v[l];
if(isNaN(n))switch(b){case "MM":n=c(t[d].months).filter(f);n=c.inArray(n[0],t[d].months)+1;break;case "M":n=c(t[d].monthsShort).filter(f),n=c.inArray(n[0],t[d].monthsShort)+1}e[b]=n}for(l=0;l<w.length;l++)b=w[l],b in e&&!isNaN(e[b])&&(d=new Date(a),g[b](d,e[b]),isNaN(d)||(a=d))}return a},formatDate:function(a,b,d){if(!a)return"";"string"===typeof b&&(b=k.parseFormat(b));d={d:a.getUTCDate(),D:t[d].daysShort[a.getUTCDay()],DD:t[d].days[a.getUTCDay()],m:a.getUTCMonth()+1,M:t[d].monthsShort[a.getUTCMonth()],
MM:t[d].months[a.getUTCMonth()],yy:a.getUTCFullYear().toString().substring(2),yyyy:a.getUTCFullYear()};d.dd=(10>d.d?"0":"")+d.d;d.mm=(10>d.m?"0":"")+d.m;a=[];for(var f=c.extend([],b.separators),e=0,p=b.parts.length;e<=p;e++)f.length&&a.push(f.shift()),a.push(d[b.parts[e]]);return a.join("")},headTemplate:'<thead><tr><th class="prev">&#171;</th><th colspan="5" class="datepicker-switch"></th><th class="next">&#187;</th></tr></thead>',contTemplate:'<tbody><tr><td colspan="7"></td></tr></tbody>',footTemplate:'<tfoot><tr><th colspan="7" class="today"></th></tr><tr><th colspan="7" class="clear"></th></tr></tfoot>'};
k.template='<div class="datepicker"><div class="datepicker-days"><table class=" table-condensed">'+k.headTemplate+"<tbody></tbody>"+k.footTemplate+'</table></div><div class="datepicker-months"><table class="table-condensed">'+k.headTemplate+k.contTemplate+k.footTemplate+'</table></div><div class="datepicker-years"><table class="table-condensed">'+k.headTemplate+k.contTemplate+k.footTemplate+"</table></div></div>";c.fn.datepicker.DPGlobal=k;c.fn.datepicker.noConflict=function(){c.fn.datepicker=E;return this};
c(document).on("focus.datepicker.data-api click.datepicker.data-api",'[data-provide="datepicker"]',function(a){var b=c(this);b.data("datepicker")||(a.preventDefault(),b.datepicker("show"))});c(function(){c('[data-provide="datepicker-inline"]').datepicker()})})(window.jQuery);+function(c){var u=!1,h=function(f,e){var h=this;this.init("confirmation",f,e);c(f).on("show.bs.confirmation",function(f){h.options.onShow(f,this);c(this).addClass("open");f=h.options;var e=f.all_selector;f.singleton&&c(e+".in").not(h.$element).confirmation("hide")});c(f).on("hide.bs.confirmation",function(f){h.options.onHide(f,this);c(this).removeClass("open")});c(f).on("shown.bs.confirmation",function(f){h.$element.on("click.dismiss.bs.confirmation",'[data-dismiss="confirmation"]',c.proxy(h.hide,
h));h.isPopout()&&(u||(u=c("body").on("click",function(f){h.$element.is(f.target)||h.$element.has(f.target).length||c(".popover").has(f.target).length||(h.$element.confirmation("hide"),c("body").unbind(f),u=!1)})))});c(f).on("click",function(c){c.preventDefault()})};if(!c.fn.popover||!c.fn.tooltip)throw Error("Confirmation requires popover.js and tooltip.js");h.DEFAULTS=c.extend({},c.fn.popover.Constructor.DEFAULTS,{placement:"right",title:"Are you sure?",btnOkClass:"btn btn-sm btn-danger",btnOkLabel:"Delete",
btnOkIcon:"glyphicon glyphicon-ok",btnCancelClass:"btn btn-sm btn-default",btnCancelLabel:"Cancel",btnCancelIcon:"glyphicon glyphicon-remove",href:"#",target:"_self",singleton:!0,popout:!0,onShow:function(c,e){},onHide:function(c,e){},onConfirm:function(c,e){},onCancel:function(c,e){},template:'<div class="popover"><div class="arrow"></div><h3 class="popover-title"></h3><div class="popover-content"><a data-apply="confirmation">Yes</a> <a data-dismiss="confirmation">No</a></div></div>'});h.prototype=
c.extend({},c.fn.popover.Constructor.prototype);h.prototype.constructor=h;h.prototype.getDefaults=function(){return h.DEFAULTS};h.prototype.setContent=function(){var f=this,e=this.tip(),h=this.getTitle(),p=e.find('[data-apply="confirmation"]'),v=e.find('[data-dismiss="confirmation"]'),u=this.options;p.addClass(this.getBtnOkClass()).html(this.getBtnOkLabel()).prepend(c("<i></i>").addClass(this.getBtnOkIcon())," ").attr("href",this.getHref()).attr("target",this.getTarget()).off("click").on("click",
function(c){u.onConfirm(c,f.$element);f.$element.confirmation("hide")});v.addClass(this.getBtnCancelClass()).html(this.getBtnCancelLabel()).prepend(c("<i></i>").addClass(this.getBtnCancelIcon())," ").off("click").on("click",function(c){u.onCancel(c,f.$element);f.$element.confirmation("hide")});e.find(".popover-title")[this.options.html?"html":"text"](h);e.removeClass("fade top bottom left right in");e.find(".popover-title").html()||e.find(".popover-title").hide()};h.prototype.getBtnOkClass=function(){var c=
this.$element,e=this.options;return c.attr("data-btnOkClass")||("function"==typeof e.btnOkClass?e.btnOkClass.call(c[0]):e.btnOkClass)};h.prototype.getBtnOkLabel=function(){var c=this.$element,e=this.options;return c.attr("data-btnOkLabel")||("function"==typeof e.btnOkLabel?e.btnOkLabel.call(c[0]):e.btnOkLabel)};h.prototype.getBtnOkIcon=function(){var c=this.$element,e=this.options;return c.attr("data-btnOkIcon")||("function"==typeof e.btnOkIcon?e.btnOkIcon.call(c[0]):e.btnOkIcon)};h.prototype.getBtnCancelClass=
function(){var c=this.$element,e=this.options;return c.attr("data-btnCancelClass")||("function"==typeof e.btnCancelClass?e.btnCancelClass.call(c[0]):e.btnCancelClass)};h.prototype.getBtnCancelLabel=function(){var c=this.$element,e=this.options;return c.attr("data-btnCancelLabel")||("function"==typeof e.btnCancelLabel?e.btnCancelLabel.call(c[0]):e.btnCancelLabel)};h.prototype.getBtnCancelIcon=function(){var c=this.$element,e=this.options;return c.attr("data-btnCancelIcon")||("function"==typeof e.btnCancelIcon?
e.btnCancelIcon.call(c[0]):e.btnCancelIcon)};h.prototype.getHref=function(){var c=this.$element,e=this.options;return c.attr("data-href")||("function"==typeof e.href?e.href.call(c[0]):e.href)};h.prototype.getTarget=function(){var c=this.$element,e=this.options;return c.attr("data-target")||("function"==typeof e.target?e.target.call(c[0]):e.target)};h.prototype.isPopout=function(){var c;c=this.$element;var e=this.options;c=c.attr("data-popout")||("function"==typeof e.popout?e.popout.call(c[0]):e.popout);
"false"==c&&(c=!1);return c};var x=c.fn.confirmation;c.fn.confirmation=function(f){var e=this;return this.each(function(){var u=c(this),p=u.data("bs.confirmation"),v="object"==typeof f&&f,v=v||{};v.all_selector=e.selector;if(p||"destroy"!=f)if(p||u.data("bs.confirmation",p=new h(this,v)),"string"==typeof f)p[f]()})};c.fn.confirmation.Constructor=h;c.fn.confirmation.noConflict=function(){c.fn.confirmation=x;return this}}(jQuery);
