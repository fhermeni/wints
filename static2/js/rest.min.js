function getCookie(a){var b="; "+document.cookie,c=b.split("; "+a+"=");return 2==c.length?c.pop().split(";").shift():void 0}function noCb(a){return void 0!=a?a:function(){reportSuccess("Operation successful")}}function restError(a){return void 0!=a?a:function(a){reportError(a.responseText)}}function missing(a){var b=$("#"+a);return""==b.val()?(b.notify("Required",{autoHide:!0,autoHideDelay:2e3}),!0):!1}function equals(a,b){var c=$("#"+a).val();if(c.length<8)return $("#"+a).notify("Passwords must be 8 characters long minimum"),!1;var d=$("#"+b).val();return c!=d?($("#"+b).notify("Password do not match"),!1):!0}function reportSuccess(a){$.notify(a,{autoHideDelay:1e3,className:"success",globalPosition:"top center"})}function reportError(a){$.notify(a,{autoHideDelay:2e3,className:"error",globalPosition:"top center"})}function user(a,b,c){return $.ajax({method:"GET",url:ROOT_API+"/users/"+a,async:!1}).done(noCb(b)).fail(restError(c))}function users(a,b){return $.ajax({method:"GET",url:ROOT_API+"/users/"}).done(noCb(a)).fail(restError(b))}function newUser(a,b,c,d,e,f,g){return $.ajax({method:"POST",url:ROOT_API+"/users/",data:JSON.stringify({Firstname:a,Lastname:b,Tel:c,Role:e,Email:d})}).done(noCb(f)).fail(restError(g))}function rmUser(a,b,c){return $.ajax({method:"DELETE",url:ROOT_API+"/users/"+a}).done(noCb(b)).fail(restError(c))}function setUserRole(a,b,c,d){return $.ajax({method:"PUT",url:ROOT_API+"/users/"+a+"/role",data:JSON.stringify(b)}).done(noCb(c)).fail(restError(d))}function setUser(a,b,c,d,e){var f=getCookie("session");return $.ajax({method:"PUT",url:ROOT_API+"/users/"+f+"/profile",data:JSON.stringify({Firstname:a,Lastname:b,Tel:c})}).done(noCb(d)).fail(restError(e))}function setPassword(a,b,c,d){var e=getCookie("session");return $.ajax({method:"PUT",url:ROOT_API+"/users/"+e+"/password",data:JSON.stringify({Old:a,New:b})}).done(noCb(c)).fail(restError(d))}function resetPassword(a,b,c){return $.ajax({method:"DELETE",url:ROOT_API+"/users/"+a+"/password"}).done(noCb(b)).fail(restError(c))}function internships(a,b){return $.ajax({method:"GET",url:ROOT_API+"/internships/"}).done(noCb(a)).fail(restError(b))}function internship(a,b,c){return $.ajax({method:"GET",url:ROOT_API+"/internships/"+a}).done(noCb(b)).fail(restError(c))}function newInternship(a,b,c){return $.ajax({method:"POST",url:ROOT_API+"/internships/",data:JSON.stringify(a)}).done(noCb(b)).fail(restError(c))}function conventions(a,b){return $.ajax({method:"GET",url:ROOT_API+"/conventions/"}).done(noCb(a)).fail(restError(b))}function skipConvention(a,b,c,d){return $.ajax({method:"POST",url:ROOT_API+"/conventions/"+a+"/skip",data:JSON.stringify(b)}).done(noCb(c)).fail(restError(d))}function reportHeader(a,b,c,d){return $.ajax({method:"GET",url:ROOT_API+"/internships/"+a+"/reports/"+b}).done(noCb(c)).fail(restError(d))}function setReportDeadline(a,b,c,d,e){return $.ajax({method:"POST",url:ROOT_API+"/internships/"+a+"/reports/"+b+"/deadline",data:JSON.stringify(c)}).done(noCb(d)).fail(restError(e))}function setTutor(a,b,c,d){return $.ajax({method:"POST",url:ROOT_API+"/internships/"+a+"/tutor",data:JSON.stringify(b)}).done(noCb(c)).fail(restError(d))}function setMajor(a,b,c,d){return $.ajax({method:"POST",url:ROOT_API+"/internships/"+a+"/major",data:JSON.stringify(b)}).done(noCb(c)).fail(restError(d))}function setCompany(a,b,c,d,e){return $.ajax({method:"POST",url:ROOT_API+"/internships/"+a+"/company",data:JSON.stringify({Name:b,WWW:c})}).done(noCb(d)).fail(restError(e))}function setSupervisor(a,b,c,d,e,f,g){return $.ajax({method:"POST",url:ROOT_API+"/internships/"+a+"/supervisor",data:JSON.stringify({Firstname:b,Lastname:c,Email:d,Tel:e})}).done(noCb(f)).fail(restError(g))}function setTitle(a,b,c,d){return $.ajax({method:"POST",url:ROOT_API+"/internships/"+a+"/title",data:JSON.stringify(b)}).done(noCb(c)).fail(restError(d))}function setReportPrivate(a,b,c,d,e){return $.ajax({method:"POST",url:ROOT_API+"/internships/"+a+"/reports/"+b+"/private",data:JSON.stringify(c)}).done(noCb(d)).fail(restError(e))}function majors(a,b){return $.ajax({method:"GET",url:ROOT_API+"/majors/"}).done(noCb(a)).fail(restError(b))}var ROOT_API="/api/v1";